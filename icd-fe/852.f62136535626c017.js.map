{"version":3,"file":"852.f62136535626c017.js","mappings":"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","names":["doc","H","win","css","U","simulatedEventTarget","EventTarget","cloneMouseEvent","e","MouseEvent","type","createEvent","evt","initMouseEvent","bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","getFakeMouseEvent","position","pos","x","y","composed","buttons","HTMLUtilities","addClass","el","className","classList","add","indexOf","cloneTouchEvent","touchListToTouchArray","l","touchArray","i","length","item","push","TouchEvent","newEvent","touches","targetTouches","changedTouches","defaultPrevented","preventDefault","fakeEvt","escapeStringForHTML","str","replace","getElement","id","getElementById","getHeadingTagNameForElement","element","getIncreasedHeadingLevel","tagName","headingLevel","parseInt","slice","Math","min","isHeading","test","getHeadingRecursive","prevSiblingsHeading","sibling","previousSibling","getPreviousSiblingsHeading","parent","parentElement","parentTagName","removeChildNodes","lastChild","removeChild","removeClass","remove","RegExp","removeElement","parentNode","reverseChildNodes","node","childNodes","appendChild","stripHTMLTagsFromString","visuallyHideElement","width","height","overflow","whiteSpace","clip","marginTop","filter","opacity","A11yI18nComposition","format","F","getNestedProperty","pick","composedClasses","i18nFormat","formatString","context","chart","bracketRes","constRes","getFirstBracketStatement","sourceStr","offset","startBracket","endBracket","statement","substring","begin","end","tokens","cursor","value","forEach","token","formatExtendedStatement","ctx","arr","result","eachStart","pluralStart","indexStart","indexEnd","eachEnd","preEach","postEach","eachArguments","split","lenArg","Number","len","isNaN","pluralEnd","pluralArguments","num","stringTrim","trim","arrayName","ix","val","reduce","acc","cur","langFormat","langKey","keys","this","options","lang","compose","ChartClass","prototype","stripHTMLTags","HU","defined","find","fireEvent","getSeriesFirstPointElement","series","points","firstPointWithGraphic","p","graphic","getSeriesA11yElement","firstPointEl","graph","group","ChartUtilities","fireEventOnWrappedOrUnwrappedElement","eventObject","hcEvents","dispatchEvent","getChartTitle","title","text","getAxisDescription","axis","userOptions","accessibility","description","axisTitle","textStr","categories","dateTime","getAxisRangeDescription","axisOptions","rangeDescription","getCategoryAxisRangeDesc","dataMax","dataMin","numCategories","getAxisFromToDescription","dateRangeFormat","screenReaderSection","axisRangeDateFormat","extremes","max","key","time","dateFormat","toString","rangeFrom","rangeTo","getAxisTimeLengthDesc","range","rangeUnit","Seconds","Minutes","Hours","Days","unit","rangeValue","toFixed","getPointFromXY","res","getSeriesFromName","name","s","unhideChartElementFromAT","setAttribute","renderTo","body","Array","call","hasAttribute","hideSeriesFromAT","seriesEl","scrollToPoint","point","xAxis","scrollbar","yAxis","to","from","getRelativePointAxisPosition","axisStart","toPixels","axisEnd","coll","updatePosition","trigger","DOMEvent","DOMElementProvider","elements","createElement","apply","arguments","destroyCreatedElements","addEvent","EventProvider","eventRemovers","remover","removeAddedEvents","CU","extend","AccessibilityComponent","domElementProvider","eventProvider","keyCodes","proxyProvider","initBase","left","right","up","down","enter","space","esc","tab","pageUp","pageDown","home","fn","fakeClickEvent","fakeEvent","destroyBase","init","getKeyboardNavigation","onChartUpdate","onChartRender","destroy","KeyboardNavigationHandler","keyCodeMap","validate","terminate","response","success","prev","next","noHandler","fail","run","keyCode","which","handlerCodeSet","codeSet","extendStatics","__extends","d","b","Object","setPrototypeOf","__proto__","hasOwnProperty","TypeError","String","__","constructor","create","ContainerComponent","_super","handleSVGTitleElement","setSVGContainerLabel","setGraphicContainerAttrs","setRenderToAttrs","makeCreditsAccessible","titleId","index","titleContents","chartTitle","titleElement","svgTitleElement","createElementNS","textContent","insertBefore","firstChild","svgContainerLabel","renderer","box","label","container","shouldHaveLandmark","landmarkVerbosity","containerLabel","credits","creditsStr","a11y","keyboardNavigation","tabindexContainer","focus","FocusBorderComposition","svgElementBorderUpdateTriggers","chartRenderFocusBorder","focusElement","focusBorderOptions","focusBorder","removeFocusBorder","enabled","addFocusBorder","margin","stroke","style","color","strokeWidth","lineWidth","r","borderRadius","chartSetFocusToElement","svgElement","browserFocusElement","focusin","hideBrowserFocusOutline","outline","renderFocusBorder","svgElementAddFocusBorder","attribs","bb","getBBox","pad","parentGroup","scaleX","scaleY","scaleBoth","abs","translateX","translateY","borderPosX","borderPosY","borderWidth","borderHeight","isLabel","SVGLabel","nodeName","isRotated","rotation","correction","getTextAnchorCorrection","posXCorrection","posYCorrection","attr","attrX","attrY","temp","rect","zIndex","styledMode","avgElementAddUpdateFocusBorderHooks","updateParams","_i","focusBorderUpdateHooks","setterKey","origSetter","_defaultSetter","ret","svgElementAddDestroyFocusBorderHook","focusBorderDestroyHook","origDestroy","svgElementRemoveFocusBorder","svgElementRemoveUpdateFocusBorderHooks","svgElementRemoveDestroyFocusBorderHook","SVGElementClass","chartProto","setFocusToElement","svgElementProto","Announcer","announceRegion","addAnnounceRegion","announce","message","_this","AST","clearAnnouncementRegionTimer","clearTimeout","setTimeout","innerHTML","chartContainer","announcerContainer","createAnnouncerContainer","div","class","getChartAnnotationLabels","annotations","visible","concat","labels","getLabelText","getAnnotationLabelDescription","a11yDesc","labelText","pointValueDescriptions","map","valDesc","valueDescription","getAttribute","getAriaLabel","seriesName","desc","numPoints","langFormatStr","annotationText","annotation","annotationPoint","additionalAnnotationPoints","getAnnotationListItems","AnnotationsA11y","getAnnotationsInfoHTML","annotationItems","join","getPointAnnotationTexts","pointLabels","stripEmptyHTMLTags","InfoRegionsComponent","announcer","screenReaderSections","component","initRegionsDefinitions","onDataTableCreated","wasHidden","dataTableDiv","focusDataTable","before","buildContent","formatter","beforeChartFormatter","defaultBeforeChartFormatter","insertIntoDOM","afterInserted","sonifyButtonId","initSonifyButton","dataTableButtonId","initDataTableButton","after","afterChartFormatter","defaultAfterChartFormatter","nextSibling","updateExitAnchor","linkedDescriptionElement","getLinkedDescriptionElement","setLinkedDescriptionAttrs","regionKey","updateScreenReaderSection","linkedDescOption","linkedDescription","query","queryMatch","querySelectorAll","region","content","sectionDiv","hiddenDiv","setScreenReaderSectionAttribs","sectionId","beforeChartFormat","axesDesc","getAxesDescription","shouldHaveSonifyBtn","sonify","sonification","annotationsList","annotationsTitleStr","headingTagName","typeDescription","getTypeDescriptionText","chartSubtitle","getSubtitleText","chartLongdesc","getLongdescText","xAxisDescription","yAxisDescription","playAsSoundButton","getSonifyButtonText","viewTableButton","getCSV","getDataTableButtonText","annotationsTitle","formattedString","A11yI18n","afterChartFormat","endOfChartMarker","getEndOfChartMarkerText","getLinkedDescription","chartOptions","captionOptions","caption","captionText","types","getTypeDescription","firstType","firstSeries","formatContext","numSeries","mapTitle","mapView","geoMap","getTypeDescForMapChart","getTypeDescForCombinationChart","buildTypeDescriptionFromSeries","typeExplaination","multi","getTypeDescForEmptyChart","buttonId","subtitle","markerText","viewDataTableButton","attributes","tree","tabindex","summary","getTableSummary","tableDiv","table","getElementsByTagName","sonifyButton","defaultHandler","stopPropagation","announceMsg","removeAttribute","onclick","onPlayAsSoundClick","tableButtonId","tableId","onViewDataTableClick","viewData","shouldDescribeColl","collectionKey","defaultCondition","axes","hasNoMap","hasCartesian","hasCartesianSeries","showXAxes","angular","showYAxes","getAxisDescriptionText","names","ranges","numAxes","getExportMenuButtonElement","exportSVGElements","MenuComponent","onMenuShown","onMenuHidden","createProxyGroup","menu","exportContextMenu","setExportButtonExpandedState","addAccessibleContextMenuAttribs","stateStr","exportButtonProxy","buttonElement","focusEl","clearGroup","proxyMenuButton","exportingGroup","buttonEl","exportingShouldHaveA11y","exportingOpts","exporting","exportButton","addProxyElement","click","contextButtonTitle","addGroup","exportList","exportDivElements","children","parentDiv","role","onKbdPrevious","onKbdNext","onKbdClick","proxy","svgEl","hideExportMenu","keyboardNavigationHandler","a11yOptions","highlightedExportItemIx","highlightExportItem","wrapAround","highlightLastExportItem","curHighlightedItem","exportButtonElement","openMenu","chartShowExportMenu","chartHideExportMenu","onmouseout","hideMenu","chartHighlightExportItem","listItem","curHighlighted","hasSVGFocusSupport","onmouseover","chartHighlightLastExportItem","Chart","showExportMenu","KeyboardNavigation","components","currentModuleIx","NaN","exitAnchor","modules","ep","update","onKeydown","onFocus","eventName","onMouseUp","isClickingChart","pointerIsOverChart","order","keyboardOptions","updateContainerTabindex","componentName","navModules","removeExitAnchor","endMarkerId","endMarker","makeElementAnExitAnchor","createExitAnchor","move","direction","curModule","newModule","exiting","focusComesFromChart","contains","tabbingInBackwards","getFirstValidModuleIx","keyboardReset","curMod","ev","event","curNavModule","shouldHaveTabindex","curTabindex","chartTabindex","addExitAnchorEventsToEl","comingInBackwards","mod","composedItems","chartDismissPopupContent","tooltip","hide","documentOnKeydown","dismissPopupContent","animObject","A","isNumber","syncTimeout","shouldDoLegendA11y","items","legend","allItems","legendA11yOptions","unsupportedColorAxis","colorAxis","some","c","dataClasses","setLegendItemHoverState","hoverActive","legendItem","setState","_a","LegendComponent","highlightedLegendItemIx","proxyGroup","recreateProxies","Legend","updateGroupProxyElementPositions","updateLegendItemProxyVisibility","highlightLegendItem","updateProxyPositionForItem","globalAnimation","duration","curPage","currentPage","clipHeight","a11yProxyElement","proxyEl","pages","itemPage","pageIx","round","visibility","removeProxies","highlightAdjacentLegendPage","newPageIx","refreshPosition","focusedElement","activeElement","shouldRestoreFocus","addLegendProxyGroup","proxyLegendItems","updateLegendTitle","removeGroup","legendTitle","legendLabel","updateGroupAttrs","proxyLegendItem","itemLabel","itemName","visual","onKbdArrowKey","shouldHaveLegendNavigation","numItems","display","chartHighlightLegendItem","oldIx","itemToHighlight","scrollLegendToItem","itemIx","scroll","legendItemProp","proxyBtn","legendOnAfterColorizeItem","LegendClass","numberFormat","hasMorePointsThanDescriptionThreshold","threshold","pointDescriptionEnabledThreshold","pointNumberToString","a11yPointOptions","seriesA11yPointOptions","tooltipOptions","valueDecimals","decimalPoint","thousandsSep","getSeriesAxisDescriptionText","axisCollection","getPointValue","a11yPointOpts","seriesA11yPointOpts","valuePrefix","valueSuffix","fallbackDesc","isNull","pointArrayMap","getPointArrayMapValueDescription","prefix","suffix","pre","suf","keyToValStr","defaultPointDescriptionFormatter","shouldExposeSeriesName","valText","getPointValueDescription","seriesA11yOptions","pointValueDescriptionFormat","valueDescriptionFormat","showXDescription","xDesc","getPointXDescription","timeDesc","getPointA11yTimeDescription","dateXAxis","tooltipDateFormat","getXDateFormat","dateTimeLabelFormats","dateFormatter","pointCategory","category","canUseId","xDescription","separator","userDescText","seriesNameText","annotationsDesc","getPointAnnotationDescription","pointAnnotationsText","describePointsInSeries","setScreenReaderProps","shouldSetScreenReaderPropsOnPoints","exposeAsGroupOnly","setKeyboardProps","shouldSetKeyboardNavPropsOnPoints","seriesNavOptions","seriesNavigation","pointNavigationEnabledThreshold","shouldDescribeNullPoints","describeNull","pointEl","shouldAddMockPoint","isSunburst","is","addMockPointElement","findFirstPointWithGraphic","sourcePointIndex","data","firstGraphic","mockElement","makeMockElement","mock","fill","plotX","plotY","hasMockGraphic","pointA11yDisabled","setPointScreenReaderAttribs","pointElement","seriesPointA11yOptions","descriptionFormatter","defaultSeriesDescriptionFormatter","chartTypes","getSeriesDescriptionText","descOpt","shouldDescribeAxis","seriesNumber","xAxisInfo","yAxisInfo","summaryContext","combinationSuffix","axisDescription","descriptionFormat","seriesDescription","authorDescription","SeriesDescriber","describeSeries","is3d","shouldDescribeSeriesElement","hasMultipleSeries","options3d","describeSingleSeries","describeSeriesElement","seriesElement","chartHasAnnounceEnabled","announceNewData","NewDataAnnouncer","dirty","allSeries","lastAnnouncementTime","announceType","interruptUser","addEventListeners","onSeriesAdded","announceDirtyData","hasDirty","newSeries","newPoint","findPointInDataArray","candidates","candidate","queueAnnouncement","dirtySeries","annOptions","now","Date","minAnnounceInterval","getUniqueSeries","arrayA","arrayB","uniqueSeries","queuedAnnouncement","buildAnnouncementMessage","queuedAnnouncementTimer","announcementFormatter","formatterRes","multiple","seriesDesc","pointDesc","seriesOnAddPoint","newDataAnnouncer","seriesOnUpdatedData","SeriesClass","merge","ProxyElement","target","groupType","isListItem","wrapperEl","btnEl","hideButtonVisually","listStyle","updateTarget","getTargetPosition","fakeEventObject","updateCSSClassName","attrs","a","getTargetAttr","addProxyEventsToButton","bBox","top","stringHasNoTooltip","groupDiv","noTooltipOnGroup","noTooltipOnTarget","evtType","isTouchEvent","clonedEvent","passive","backgroundColor","padding","clickTarget","posElement","getBoundingClientRect","rectEl","chartPos","pointer","getChartPosition","bottom","ProxyProvider","groups","groupOrder","beforeChartProxyPosContainer","createProxyPosContainer","afterChartProxyPosContainer","groupKey","Error","proxyContainerElement","proxyElements","existingGroup","groupElement","proxyContainer","updateGroupOrder","groupKeys","isDOMOrderGroupOrder","seriesIx","beforeKeys","afterKeys","posContainer","updatePosContainerPositions","updateProxyElementPositions","bind","classNamePostfix","getCurrentGroupOrderInDOM","getGroupKeyFromElement","allGroups","getChildrenGroupOrder","childrenOrder","domOrder","groupOrderWithGroups","forExport","rendererSVGEl","rangeSelectorZoom","rangeSelectorFrom","rangeSelectorTo","rangeSelector","allButtonsEnabled","buttonSpacing","dropdown","verticalAlign","buttonTheme","floating","inputBoxBorderColor","inputBoxHeight","inputBoxWidth","inputDateFormat","inputDateParser","inputEditDateFormat","inputEnabled","inputPosition","align","inputSpacing","selected","buttonPosition","inputStyle","labelStyle","RangeSelectorConstructor","defaultOptions","D","setOptions","chartDestroyEvents","composedMembers","axisMinFromRange","rangeOptions","getTrueRange","base","count","timeName","date","basePeriod","get","set","getTime","fixedRange","MIN_VALUE","newMax","MAX_VALUE","_offsetMin","onChartAfterGetContainer","onChartBeforeRender","deferredYTDClick","clickButton","updateNames","setScale","getAxisMargins","render","extraBottomMargin","extraTopMargin","onChartCallback","alignTo","redraw","getExtremes","spacingBox","layout","plotTop","getHeight","placed","onChartDestroy","iEnd","events","unbind","splice","onChartGetMargins","rangeSelectorHeight","marginBottom","optionsRangeSelector","extraBottomMarginWas","extraTopMarginWas","isDirtyBox","RangeSelectorComposition","AxisClass","RangeSelectorClass","minFromRange","callbacks","RangeSelectorDefaults","destroyObjectProperties","discardElement","objectEach","pInt","splat","RangeSelector","buttonOptions","defaultButtons","initialButtonGroupWidth","newMin","baseXAxisOptions","rangeMin","minSetting","rangeSetting","ytdExtremes","baseAxis","unionExtremes","scroller","getUnionExtremes","dataGrouping","_range","addOffsetMin","setSelected","forcedDataGrouping","Axis","frozenStates","preserveDataGrouping","xData","getYTDExtremes","useUTC","navigator","baseSeries","_offsetMax","selectedIndex","setExtremes","rangeSelectorButton","selectedOption","blurInputs","minInput","maxInput","blur","eventsToUnbind","computeButtonRange","setDataGrouping","updateButtonStates","actualRange","hasNoData","hasVisibleSeries","day","ytdMin","ytdMax","selectedExists","offsetRange","isSelected","state","isYTDButNotSelected","isAllButAlreadyShowingAll","isSameRange","month","year","disable","minRange","disabled","fixedTimes","millisecond","second","minute","hour","week","offsetMin","offsetMax","getInputValue","input","defaultInputDateParser","setInputValue","inputTime","dateBox","minDateBox","maxDateBox","hcTimeAttr","updatedTime","previousTime","inputTypeFormats","setInputExtremes","showInput","inputGroup","isTextInput","border","offsetWidth","chartWidth","offsetHeight","hideInput","inputDate","lastIndexOf","getTimezoneOffset","parse","parts","UTC","drawInput","chartStyle","isMin","updateExtremes","chartAxis","dataAxis","on","preferredInputType","char","boxShadow","textAlign","fontSize","fontFamily","onfocus","onblur","keyDown","onchange","onkeypress","onkeydown","onkeyup","getPosition","axisOffset","buttonTop","inputTop","startOfYear","ts","inputsZIndex","rendered","g","renderButtons","minElems","minLabel","maxElems","maxLabel","x_1","alignElements","states","buttonGroup","currentButtonIndex","zoomText","paddingLeft","paddingRight","callDefaultEvent","buttonEvents","isActive","hover","select","navButtonOptions","navigation","getXOffsetForExportButton","titleCollision","spacing","plotLeft","positionButtons","width_1","xOffsetForExportButton_1","alignButtonGroup","hasLoaded","xOffsetForExportButton","handleCollision","alignTranslateY","alignAttr","groupHeight","legendOptions","legendHeight","titleOffset","translate","floor","_b","verb","buttonLeft","maxButtonWidth","buttonWidth","groupsOverlap","buttonGroupWidth","inputGroupX","alignOptions","inputGroupWidth","buttonGroupX","moveInputsDown","collapseButtons","expandButtons","plotWidth","userButtonTheme","getAttribs","hasActiveButton","show","showDropdown","hideDropdown","hasVisibleDropdown","rangeSelectorGroup","yPosition","buttonPositionY","inputPositionY","minPosition","rSelector","SVGElement","window","HTMLElement","RangeSelectorComponent","updateSelectorVisibility","setDropdownAttrs","setRangeButtonAttrs","setRangeInputAttrs","hideFromAT","btn","rangeTitle","onButtonNavKbdArrowKey","highlightRangeSelectorButton","highlightedRangeSelectorItemIx","onButtonNavKbdClick","oldRangeSelectorItemState","onAfterBtnClick","axisRangeDescription","announcement","onInputKbdMove","rangeSel","newIx","highlightedInputRangeIx","inputEl","onInputNavInit","buttonIxToHighlight","removeInputKeydownHandler","keydownHandler","minRemover_1","maxRemover_1","onInputNavTerminate","initDropdownNav","removeDropdownKeydownHandler","getRangeSelectorButtonNavigation","getRangeSelectorInputNavigation","shouldRunInputNavigation","Boolean","chartHighlightRangeSelectorButton","curHighlightedIx","curSelectedIx","rangeSelectorAfterBtnClick","ForcedMarkersComposition","forceZeroOpacityMarkerOptions","marker","normal","getPointMarkerOpacity","pointOptions","hasIndividualPointMarkerOptions","_hasPointMarkers","seriesOnAfterRender","markerGroup","a11yMarkersForced","hasForcedA11yMarker","seriesOnAfterSetOptions","resetA11yMarkerOptions","seriesOnRender","shouldForceMarkers","isWithinDescriptionThreshold","unforceSeriesMarkerOptions","resetMarkerOptions","handleForcePointMarkers","hadForcedMarker","isStillForcedMarker","unforcePointMarkerOptions","seriesTypes","SeriesRegistry","getPointIndex","isSkipSeries","seriesKbdNavOptions","enableMouseTracking","isSkipPoint","skipNullPoints","isInside","getFirstValidPointInSeries","getFirstValidPointInChart","highlightLastValidPointInChart","highlightedPoint","highlightNextValidPoint","highlightFirstValidPointInChart","highlight","SeriesKeyboardNavigation","Series","onSeriesDestroy","updateChartFocusAfterDrilling","lastDrilledDownPoint","onDrillupAll","Point","focusedElClassName","isProxyFocused","last","getKeyboardNavigationHandler","inverted","onKbdSideways","onKbdVertical","firePointEvent","highlightAdjacentSeries","onHandlerInit","onHandlerTerminate","handler","attemptHighlightAdjacentPoint","rememberPointFocus","isNext","navOptions","mode","keyboardMoveVertical","kbdNavOptions","hoverSeries","onMouseOut","directionIsNext","highlightAdjacentPoint","chartHighlightAdjacentPoint","curPoint","curPointIndex","lastSeries","lastPoint","chartHighlightAdjacentPointVertical","bestPoint","minDistance","Infinity","yDistance","distance","reversed","chartHighlightAdjacentSeries","getClosestPoint","xWeight","yWeight","dPoint","minIx","hasUndefinedPosition","pointHighlight","highlightVisually","onMouseOver","seriesHighlightNextValidPoint","start","j","PointClass","highlightAdjacentPointVertical","seriesProto","SeriesComponent","ForcedMarkers","hideTooltipFromATWhenShown","hideSeriesLabelsFromATWhenShown","Tooltip","labelBySeries","ZoomComponent","focusedMapNavButtonIx","eventType","updateProxyOverlays","mapNavigation","navButtons","setMapNavButtonAttrs","labelFormatKey","resetZoomButton","createZoomProxyButton","drillUpButton","breadcrumbs","list","buttonText","getButtonText","buttonProp","getMapZoomNavigation","onMapKbdArrow","_keyCode","onMapKbdTab","onMapKbdClick","chartHasMapZoom","onMapNavInit","isY","diff","plotHeight","random","startPos","offsetLeft","offsetTop","endPos","isBackwards","isMoveOutOfRange","zoomBy","initialButton","simpleButtonNavigation","proxyProp","onClick","_handler","zoomOut","drillUp","isMS","whcm","isHighContrastModeActive","isEdge","userAgent","matchMedia","matches","getComputedStyle","testDiv","backgroundImage","bi","currentStyle","setHighContrastTheme","highContrastModeActive","theme","highContrastTheme","plotOpts","plotOptions","colors","borderColor","error","traverseSetOption","root","optionAsArray","prop","opt","deprecateFromOptionsMap","rootOldAsArray","rootNewAsArray","mapToNewOptions","getChildProp","propAsArray","rootOld","rootNew","oldOptionKey","Accessibility","addEventListener","isSVG","zombie","copyDeprecatedOptions","copyDeprecatedChartOptions","copyDeprecatedAxisOptions","opts","copyDeprecatedSeriesOptions","oldToNewSeriesOptions","exposeElementToA11y","pointDescriptionFormatter","skipKeyboardNavigation","oldOption","optionVal","copyDeprecatedTopLevelAccessibilityOptions","pointDateFormat","pointDateFormatter","pointDescriptionThreshold","pointNavigationThreshold","pointValueDecimals","pointValuePrefix","pointValueSuffix","screenReaderSectionFormatter","seriesDescriptionFormatter","onTableAnchorClick","copyDeprecatedKeyboardNavigationOptions","copyDeprecatedLangOptions","mapZoomIn","mapZoomOut","screenReaderRegionLabel","rangeSelectorMaxInput","rangeSelectorMinInput","svgContainerEnd","viewAsDataTable","tableSummary","initComponents","infoRegions","chartMenu","zoom","customComponents","getComponentOrder","componentsExceptSeries","getChartTypes","kbdNavOrder","chartOnDestroy","chartOnRender","a11yDirty","updateA11yEnabled","chartOnUpdate","newOptions","chartUpdateA11yEnabled","accessibilityOptions","pointOnUpdate","FocusBorder","minColor","maxColor","stops","gridLineColor","lineColor","minorGridLineColor","tickColor","fillColor","edgeColor","dataLabels","connectorColor","textOutline","pie","boxplot","candlestick","errorbar","itemStyle","itemHoverStyle","itemHiddenStyle","drilldown","activeAxisLabelStyle","activeDataLabelStyle","symbolStroke","handles","outlineColor","maskFill","barBackgroundColor","barBorderColor","buttonArrowColor","buttonBackgroundColor","buttonBorderColor","rifleColor","trackBackgroundColor","trackBorderColor","defaultChartTitle","chartContainerLabel","svgContainerTitle","graphicContainerLabel","beforeRegionLabel","afterRegionLabel","heading","descriptionSinglePoint","descriptionMultiplePoints","descriptionNoPoints","playAsSoundButtonText","playAsSoundClickAnnouncement","legendLabelNoTitle","dropdownLabel","minInputLabel","maxInputLabel","clickButtonAnnouncement","viewAsDataTableButtonText","newDataAnnounce","newSeriesAnnounceSingle","newPointAnnounceSingle","newSeriesAnnounceMultiple","newPointAnnounceMultiple","seriesTypeDescriptions","arearange","areasplinerange","bubble","columnrange","funnel","pyramid","waterfall","emptyChart","mapTypeDescription","unknownMap","combinationChart","defaultSingle","defaultMultiple","splineSingle","splineMultiple","lineSingle","lineMultiple","columnSingle","columnMultiple","barSingle","barMultiple","pieSingle","pieMultiple","scatterSingle","scatterMultiple","boxplotSingle","boxplotMultiple","bubbleSingle","bubbleMultiple","xAxisDescriptionSingular","xAxisDescriptionPlural","yAxisDescriptionSingular","yAxisDescriptionPlural","timeRangeDays","timeRangeHours","timeRangeMinutes","timeRangeSeconds","rangeFromTo","rangeCategories","chartMenuLabel","menuButtonLabel","default","defaultCombination","line","lineCombination","spline","splineCombination","column","columnCombination","bar","barCombination","pieCombination","scatter","scatterCombination","boxplotCombination","bubbleCombination","mapCombination","mapline","maplineCombination","mapbubble","mapbubbleCombination","nullPointValue","pointAnnotationsDescription","G","Highcharts","A11yChartUtilities","A11yHTMLUtilities","SeriesAccessibilityDescriber"],"sourceRoot":"webpack:///","sources":["./node_modules/highcharts/es-modules/Accessibility/Utils/HTMLUtilities.js","./node_modules/highcharts/es-modules/Accessibility/A11yI18n.js","./node_modules/highcharts/es-modules/Accessibility/Utils/ChartUtilities.js","./node_modules/highcharts/es-modules/Accessibility/Utils/DOMElementProvider.js","./node_modules/highcharts/es-modules/Accessibility/Utils/EventProvider.js","./node_modules/highcharts/es-modules/Accessibility/AccessibilityComponent.js","./node_modules/highcharts/es-modules/Accessibility/KeyboardNavigationHandler.js","./node_modules/highcharts/es-modules/Accessibility/Components/ContainerComponent.js","./node_modules/highcharts/es-modules/Accessibility/FocusBorder.js","./node_modules/highcharts/es-modules/Accessibility/Utils/Announcer.js","./node_modules/highcharts/es-modules/Accessibility/Components/AnnotationsA11y.js","./node_modules/highcharts/es-modules/Accessibility/Components/InfoRegionsComponent.js","./node_modules/highcharts/es-modules/Accessibility/Components/MenuComponent.js","./node_modules/highcharts/es-modules/Accessibility/KeyboardNavigation.js","./node_modules/highcharts/es-modules/Accessibility/Components/LegendComponent.js","./node_modules/highcharts/es-modules/Accessibility/Components/SeriesComponent/SeriesDescriber.js","./node_modules/highcharts/es-modules/Accessibility/Components/SeriesComponent/NewDataAnnouncer.js","./node_modules/highcharts/es-modules/Accessibility/ProxyElement.js","./node_modules/highcharts/es-modules/Accessibility/ProxyProvider.js","./node_modules/highcharts/es-modules/Stock/RangeSelector/RangeSelectorDefaults.js","./node_modules/highcharts/es-modules/Stock/RangeSelector/RangeSelectorComposition.js","./node_modules/highcharts/es-modules/Stock/RangeSelector/RangeSelector.js","./node_modules/highcharts/es-modules/Accessibility/Components/RangeSelectorComponent.js","./node_modules/highcharts/es-modules/Accessibility/Components/SeriesComponent/ForcedMarkers.js","./node_modules/highcharts/es-modules/Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js","./node_modules/highcharts/es-modules/Accessibility/Components/SeriesComponent/SeriesComponent.js","./node_modules/highcharts/es-modules/Accessibility/Components/ZoomComponent.js","./node_modules/highcharts/es-modules/Accessibility/HighContrastMode.js","./node_modules/highcharts/es-modules/Accessibility/Options/DeprecatedOptions.js","./node_modules/highcharts/es-modules/Accessibility/Accessibility.js","./node_modules/highcharts/es-modules/Accessibility/Options/A11yDefaults.js","./node_modules/highcharts/es-modules/Accessibility/HighContrastTheme.js","./node_modules/highcharts/es-modules/Accessibility/Options/LangDefaults.js","./node_modules/highcharts/es-modules/masters/modules/accessibility.src.js"],"sourcesContent":["/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Utility functions for accessibility module.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport H from '../../Core/Globals.js';\nvar doc = H.doc, win = H.win;\nimport U from '../../Core/Utilities.js';\nvar css = U.css;\n/* *\n *\n *  Constants\n *\n * */\nvar simulatedEventTarget = win.EventTarget && new win.EventTarget() || 'none';\n/* *\n *\n *  Functions\n *\n * */\n/* eslint-disable valid-jsdoc */\n/**\n * @private\n * @param {Highcharts.HTMLDOMElement} el\n * @param {string} className\n * @return {void}\n */\nfunction addClass(el, className) {\n    if (el.classList) {\n        el.classList.add(className);\n    }\n    else if (el.className.indexOf(className) < 0) {\n        // Note: Dumb check for class name exists, should be fine for practical\n        // use cases, but will return false positives if the element has a class\n        // that contains the className.\n        el.className += ' ' + className;\n    }\n}\n/**\n * @private\n * @param {Highcharts.HTMLDOMElement} el\n * @param {string} className\n * @return {void}\n */\nfunction removeClass(el, className) {\n    if (el.classList) {\n        el.classList.remove(className);\n    }\n    else {\n        // Note: Dumb logic that will break if the element has a class name that\n        // consists of className plus something else.\n        el.className = el.className.replace(new RegExp(className, 'g'), '');\n    }\n}\n/**\n * Utility function to clone a mouse event for re-dispatching.\n * @private\n */\nfunction cloneMouseEvent(e) {\n    if (typeof win.MouseEvent === 'function') {\n        return new win.MouseEvent(e.type, e);\n    }\n    // No MouseEvent support, try using initMouseEvent\n    if (doc.createEvent) {\n        var evt = doc.createEvent('MouseEvent');\n        if (evt.initMouseEvent) {\n            evt.initMouseEvent(e.type, e.bubbles, // #10561, #12161\n            e.cancelable, e.view || win, e.detail, e.screenX, e.screenY, e.clientX, e.clientY, e.ctrlKey, e.altKey, e.shiftKey, e.metaKey, e.button, e.relatedTarget);\n            return evt;\n        }\n    }\n    return getFakeMouseEvent(e.type);\n}\n/**\n * Utility function to clone a touch event for re-dispatching.\n * @private\n */\nfunction cloneTouchEvent(e) {\n    var touchListToTouchArray = function (l) {\n        var touchArray = [];\n        for (var i = 0; i < l.length; ++i) {\n            var item = l.item(i);\n            if (item) {\n                touchArray.push(item);\n            }\n        }\n        return touchArray;\n    };\n    if (typeof win.TouchEvent === 'function') {\n        var newEvent = new win.TouchEvent(e.type, {\n            touches: touchListToTouchArray(e.touches),\n            targetTouches: touchListToTouchArray(e.targetTouches),\n            changedTouches: touchListToTouchArray(e.changedTouches),\n            ctrlKey: e.ctrlKey,\n            shiftKey: e.shiftKey,\n            altKey: e.altKey,\n            metaKey: e.metaKey,\n            bubbles: e.bubbles,\n            cancelable: e.cancelable,\n            composed: e.composed,\n            detail: e.detail,\n            view: e.view\n        });\n        if (e.defaultPrevented) {\n            newEvent.preventDefault();\n        }\n        return newEvent;\n    }\n    var fakeEvt = cloneMouseEvent(e);\n    fakeEvt.touches = e.touches;\n    fakeEvt.changedTouches = e.changedTouches;\n    fakeEvt.targetTouches = e.targetTouches;\n    return fakeEvt;\n}\n/**\n * @private\n */\nfunction escapeStringForHTML(str) {\n    return str\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#x27;')\n        .replace(/\\//g, '&#x2F;');\n}\n/**\n * Get an element by ID\n * @private\n */\nfunction getElement(id) {\n    return doc.getElementById(id);\n}\n/**\n * Get a fake mouse event of a given type. If relatedTarget is not given,\n * it will point to simulatedEventTarget, as an indicator that the event\n * is fake.\n * @private\n */\nfunction getFakeMouseEvent(type, position, relatedTarget) {\n    var pos = position || {\n        x: 0,\n        y: 0\n    };\n    if (typeof win.MouseEvent === 'function') {\n        return new win.MouseEvent(type, {\n            bubbles: true,\n            cancelable: true,\n            composed: true,\n            button: 0,\n            buttons: 1,\n            relatedTarget: relatedTarget || simulatedEventTarget,\n            view: win,\n            detail: type === 'click' ? 1 : 0,\n            screenX: pos.x,\n            screenY: pos.y,\n            clientX: pos.x,\n            clientY: pos.y\n        });\n    }\n    // No MouseEvent support, try using initMouseEvent\n    if (doc.createEvent) {\n        var evt = doc.createEvent('MouseEvent');\n        if (evt.initMouseEvent) {\n            evt.initMouseEvent(type, true, // Bubble\n            true, // Cancel\n            win, // View\n            type === 'click' ? 1 : 0, // Detail\n            // Coords\n            pos.x, pos.y, pos.x, pos.y, \n            // Pressed keys\n            false, false, false, false, 0, // button\n            null // related target\n            );\n            return evt;\n        }\n    }\n    return { type: type };\n}\n/**\n * Get an appropriate heading level for an element. Corresponds to the\n * heading level below the previous heading in the DOM.\n *\n * Note: Only detects previous headings in the DOM that are siblings,\n * ancestors, or previous siblings of ancestors. Headings that are nested below\n * siblings of ancestors (cousins et.al) are not picked up. This is because it\n * is ambiguous whether or not the nesting is for layout purposes or indicates a\n * separate section.\n *\n * @private\n * @param {Highcharts.HTMLDOMElement} [element]\n * @return {string} The heading tag name (h1, h2 etc).\n * If no nearest heading is found, \"p\" is returned.\n */\nfunction getHeadingTagNameForElement(element) {\n    var getIncreasedHeadingLevel = function (tagName) {\n        var headingLevel = parseInt(tagName.slice(1), 10), newLevel = Math.min(6, headingLevel + 1);\n        return 'h' + newLevel;\n    };\n    var isHeading = function (tagName) { return /H[1-6]/.test(tagName); };\n    var getPreviousSiblingsHeading = function (el) {\n        var sibling = el;\n        while (sibling = sibling.previousSibling) { // eslint-disable-line\n            var tagName = sibling.tagName || '';\n            if (isHeading(tagName)) {\n                return tagName;\n            }\n        }\n        return '';\n    };\n    var getHeadingRecursive = function (el) {\n        var prevSiblingsHeading = getPreviousSiblingsHeading(el);\n        if (prevSiblingsHeading) {\n            return getIncreasedHeadingLevel(prevSiblingsHeading);\n        }\n        // No previous siblings are headings, try parent node\n        var parent = el.parentElement;\n        if (!parent) {\n            return 'p';\n        }\n        var parentTagName = parent.tagName;\n        if (isHeading(parentTagName)) {\n            return getIncreasedHeadingLevel(parentTagName);\n        }\n        return getHeadingRecursive(parent);\n    };\n    return getHeadingRecursive(element);\n}\n/**\n * Remove an element from the DOM.\n * @private\n * @param {Highcharts.HTMLDOMElement|Highcharts.SVGDOMElement} [element]\n * @return {void}\n */\nfunction removeElement(element) {\n    if (element && element.parentNode) {\n        element.parentNode.removeChild(element);\n    }\n}\n/**\n * Remove all child nodes from an element.\n * @private\n * @param {Highcharts.HTMLDOMElement|Highcharts.SVGDOMElement} [element]\n * @return {void}\n */\nfunction removeChildNodes(element) {\n    while (element.lastChild) {\n        element.removeChild(element.lastChild);\n    }\n}\n/**\n * Utility function. Reverses child nodes of a DOM element.\n * @private\n */\nfunction reverseChildNodes(node) {\n    var i = node.childNodes.length;\n    while (i--) {\n        node.appendChild(node.childNodes[i]);\n    }\n}\n/**\n * Used for aria-label attributes, painting on a canvas will fail if the\n * text contains tags.\n * @private\n */\nfunction stripHTMLTagsFromString(str) {\n    return typeof str === 'string' ?\n        str.replace(/<\\/?[^>]+(>|$)/g, '') : str;\n}\n/**\n * Utility function for hiding an element visually, but still keeping it\n * available to screen reader users.\n * @private\n */\nfunction visuallyHideElement(element) {\n    css(element, {\n        position: 'absolute',\n        width: '1px',\n        height: '1px',\n        overflow: 'hidden',\n        whiteSpace: 'nowrap',\n        clip: 'rect(1px, 1px, 1px, 1px)',\n        marginTop: '-3px',\n        '-ms-filter': 'progid:DXImageTransform.Microsoft.Alpha(Opacity=1)',\n        filter: 'alpha(opacity=1)',\n        opacity: 0.01\n    });\n}\n/* *\n *\n *  Default Export\n *\n * */\nvar HTMLUtilities = {\n    addClass: addClass,\n    cloneMouseEvent: cloneMouseEvent,\n    cloneTouchEvent: cloneTouchEvent,\n    escapeStringForHTML: escapeStringForHTML,\n    getElement: getElement,\n    getFakeMouseEvent: getFakeMouseEvent,\n    getHeadingTagNameForElement: getHeadingTagNameForElement,\n    removeChildNodes: removeChildNodes,\n    removeClass: removeClass,\n    removeElement: removeElement,\n    reverseChildNodes: reverseChildNodes,\n    simulatedEventTarget: simulatedEventTarget,\n    stripHTMLTagsFromString: stripHTMLTagsFromString,\n    visuallyHideElement: visuallyHideElement\n};\nexport default HTMLUtilities;\n","/* *\n *\n *  Accessibility module - internationalization support\n *\n *  (c) 2010-2021 Highsoft AS\n *  Author: ystein Moseng\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport F from '../Core/FormatUtilities.js';\nvar format = F.format;\nimport U from '../Core/Utilities.js';\nvar getNestedProperty = U.getNestedProperty, pick = U.pick;\n/* *\n *\n *  Composition\n *\n * */\nvar A11yI18nComposition;\n(function (A11yI18nComposition) {\n    /* *\n     *\n     *  Declarations\n     *\n     * */\n    /* *\n     *\n     *  Constants\n     *\n     * */\n    var composedClasses = [];\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * @private\n     */\n    function compose(ChartClass) {\n        if (composedClasses.indexOf(ChartClass) === -1) {\n            composedClasses.push(ChartClass);\n            var chartProto = ChartClass.prototype;\n            chartProto.langFormat = langFormat;\n        }\n        return ChartClass;\n    }\n    A11yI18nComposition.compose = compose;\n    /**\n     * i18n utility function.  Format a single array or plural statement in a\n     * format string.  If the statement is not an array or plural statement,\n     * returns the statement within brackets.  Invalid array statements return\n     * an empty string.\n     *\n     * @private\n     * @function formatExtendedStatement\n     * @param {string} statement\n     * @param {Highcharts.Dictionary<*>} ctx\n     * Context to apply to the format string.\n     */\n    function formatExtendedStatement(statement, ctx) {\n        var eachStart = statement.indexOf('#each('), pluralStart = statement.indexOf('#plural('), indexStart = statement.indexOf('['), indexEnd = statement.indexOf(']');\n        var arr, result;\n        // Dealing with an each-function?\n        if (eachStart > -1) {\n            var eachEnd = statement.slice(eachStart).indexOf(')') + eachStart, preEach = statement.substring(0, eachStart), postEach = statement.substring(eachEnd + 1), eachStatement = statement.substring(eachStart + 6, eachEnd), eachArguments = eachStatement.split(',');\n            var lenArg = Number(eachArguments[1]), len = void 0;\n            result = '';\n            arr = getNestedProperty(eachArguments[0], ctx);\n            if (arr) {\n                lenArg = isNaN(lenArg) ? arr.length : lenArg;\n                len = lenArg < 0 ?\n                    arr.length + lenArg :\n                    Math.min(lenArg, arr.length); // Overshoot\n                // Run through the array for the specified length\n                for (var i = 0; i < len; ++i) {\n                    result += preEach + arr[i] + postEach;\n                }\n            }\n            return result.length ? result : '';\n        }\n        // Dealing with a plural-function?\n        if (pluralStart > -1) {\n            var pluralEnd = (statement.slice(pluralStart).indexOf(')') + pluralStart), pluralStatement = statement.substring(pluralStart + 8, pluralEnd), pluralArguments = pluralStatement.split(','), num = Number(getNestedProperty(pluralArguments[0], ctx));\n            switch (num) {\n                case 0:\n                    result = pick(pluralArguments[4], pluralArguments[1]);\n                    break;\n                case 1:\n                    result = pick(pluralArguments[2], pluralArguments[1]);\n                    break;\n                case 2:\n                    result = pick(pluralArguments[3], pluralArguments[1]);\n                    break;\n                default:\n                    result = pluralArguments[1];\n            }\n            return result ? stringTrim(result) : '';\n        }\n        // Array index\n        if (indexStart > -1) {\n            var arrayName = statement.substring(0, indexStart), ix = Number(statement.substring(indexStart + 1, indexEnd));\n            var val = void 0;\n            arr = getNestedProperty(arrayName, ctx);\n            if (!isNaN(ix) && arr) {\n                if (ix < 0) {\n                    val = arr[arr.length + ix];\n                    // Handle negative overshoot\n                    if (typeof val === 'undefined') {\n                        val = arr[0];\n                    }\n                }\n                else {\n                    val = arr[ix];\n                    // Handle positive overshoot\n                    if (typeof val === 'undefined') {\n                        val = arr[arr.length - 1];\n                    }\n                }\n            }\n            return typeof val !== 'undefined' ? val : '';\n        }\n        // Standard substitution, delegate to format or similar\n        return '{' + statement + '}';\n    }\n    /* eslint-disable max-len */\n    /**\n     * i18n formatting function.  Extends Highcharts.format() functionality by\n     * also handling arrays and plural conditionals.  Arrays can be indexed as\n     * follows:\n     *\n     * - Format: 'This is the first index: {myArray[0]}. The last: {myArray[-1]}.'\n     *\n     * - Context: { myArray: [0, 1, 2, 3, 4, 5] }\n     *\n     * - Result: 'This is the first index: 0. The last: 5.'\n     *\n     *\n     * They can also be iterated using the #each() function.  This will repeat\n     * the contents of the bracket expression for each element.  Example:\n     *\n     * - Format: 'List contains: {#each(myArray)cm }'\n     *\n     * - Context: { myArray: [0, 1, 2] }\n     *\n     * - Result: 'List contains: 0cm 1cm 2cm '\n     *\n     *\n     * The #each() function optionally takes a length parameter.  If positive,\n     * this parameter specifies the max number of elements to iterate through.\n     * If negative, the function will subtract the number from the length of the\n     * array.  Use this to stop iterating before the array ends.  Example:\n     *\n     * - Format: 'List contains: {#each(myArray, -1) }and {myArray[-1]}.'\n     *\n     * - Context: { myArray: [0, 1, 2, 3] }\n     *\n     * - Result: 'List contains: 0, 1, 2, and 3.'\n     *\n     *\n     * Use the #plural() function to pick a string depending on whether or not a\n     * context object is 1.  Arguments are #plural(obj, plural, singular).\n     * Example:\n     *\n     * - Format: 'Has {numPoints} {#plural(numPoints, points, point}.'\n     *\n     * - Context: { numPoints: 5 }\n     *\n     * - Result: 'Has 5 points.'\n     *\n     *\n     * Optionally there are additional parameters for dual and none:\n     * #plural(obj, plural, singular, dual, none).  Example:\n     *\n     * - Format: 'Has {#plural(numPoints, many points, one point, two points,\n     *   none}.'\n     *\n     * - Context: { numPoints: 2 }\n     *\n     * - Result: 'Has two points.'\n     *\n     *\n     * The dual or none parameters will take precedence if they are supplied.\n     *\n     * @requires modules/accessibility\n     *\n     * @function Highcharts.i18nFormat\n     *\n     * @param {string} formatString\n     * The string to format.\n     *\n     * @param {Highcharts.Dictionary<*>} context\n     * Context to apply to the format string.\n     *\n     * @param {Highcharts.Chart} chart\n     * A `Chart` instance with a time object and numberFormatter, passed on to\n     * format().\n     *\n     * @return {string}\n     * The formatted string.\n     */\n    function i18nFormat(formatString, context, chart) {\n        var getFirstBracketStatement = function (sourceStr, offset) {\n            var str = sourceStr.slice(offset || 0), startBracket = str.indexOf('{'), endBracket = str.indexOf('}');\n            if (startBracket > -1 && endBracket > startBracket) {\n                return {\n                    statement: str.substring(startBracket + 1, endBracket),\n                    begin: offset + startBracket + 1,\n                    end: offset + endBracket\n                };\n            }\n        }, tokens = [];\n        var bracketRes, constRes, cursor = 0;\n        // Tokenize format string into bracket statements and constants\n        do {\n            bracketRes = getFirstBracketStatement(formatString, cursor);\n            constRes = formatString.substring(cursor, bracketRes && bracketRes.begin - 1);\n            // If we have constant content before this bracket statement, add it\n            if (constRes.length) {\n                tokens.push({\n                    value: constRes,\n                    type: 'constant'\n                });\n            }\n            // Add the bracket statement\n            if (bracketRes) {\n                tokens.push({\n                    value: bracketRes.statement,\n                    type: 'statement'\n                });\n            }\n            cursor = bracketRes ? bracketRes.end + 1 : cursor + 1;\n        } while (bracketRes);\n        // Perform the formatting.  The formatArrayStatement function returns\n        // the statement in brackets if it is not an array statement, which\n        // means it gets picked up by format below.\n        tokens.forEach(function (token) {\n            if (token.type === 'statement') {\n                token.value = formatExtendedStatement(token.value, context);\n            }\n        });\n        // Join string back together and pass to format to pick up non-array\n        // statements.\n        return format(tokens.reduce(function (acc, cur) { return acc + cur.value; }, ''), context, chart);\n    }\n    A11yI18nComposition.i18nFormat = i18nFormat;\n    /* eslint-enable max-len */\n    /**\n     * Apply context to a format string from lang options of the chart.\n     *\n     * @requires modules/accessibility\n     *\n     * @function Highcharts.Chart#langFormat\n     *\n     * @param {string} langKey\n     * Key (using dot notation) into lang option structure.\n     *\n     * @param {Highcharts.Dictionary<*>} context\n     * Context to apply to the format string.\n     *\n     * @return {string}\n     * The formatted string.\n     */\n    function langFormat(langKey, context) {\n        var keys = langKey.split('.');\n        var formatString = this.options.lang, i = 0;\n        for (; i < keys.length; ++i) {\n            formatString = formatString && formatString[keys[i]];\n        }\n        return typeof formatString === 'string' ?\n            i18nFormat(formatString, context, this) : '';\n    }\n    /**\n     * String trim that works for IE6-8 as well.\n     *\n     * @private\n     * @function stringTrim\n     *\n     * @param {string} str\n     * The input string\n     *\n     * @return {string}\n     * The trimmed string\n     */\n    function stringTrim(str) {\n        return str.trim && str.trim() || str.replace(/^\\s+|\\s+$/g, '');\n    }\n})(A11yI18nComposition || (A11yI18nComposition = {}));\n/* *\n *\n *  Default Export\n *\n * */\nexport default A11yI18nComposition;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Utils for dealing with charts.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport H from '../../Core/Globals.js';\nvar doc = H.doc;\nimport HU from './HTMLUtilities.js';\nvar stripHTMLTags = HU.stripHTMLTagsFromString;\nimport U from '../../Core/Utilities.js';\nvar defined = U.defined, find = U.find, fireEvent = U.fireEvent;\n/* *\n *\n *  Functions\n *\n * */\n/* eslint-disable valid-jsdoc */\n/**\n * Fire an event on an element that is either wrapped by Highcharts,\n * or a DOM element.\n * @private\n */\nfunction fireEventOnWrappedOrUnwrappedElement(el, eventObject) {\n    var type = eventObject.type;\n    var hcEvents = el.hcEvents;\n    if ((doc.createEvent) &&\n        (el.dispatchEvent || el.fireEvent)) {\n        if (el.dispatchEvent) {\n            el.dispatchEvent(eventObject);\n        }\n        else {\n            el.fireEvent(type, eventObject);\n        }\n    }\n    else if (hcEvents && hcEvents[type]) {\n        fireEvent(el, type, eventObject);\n    }\n    else if (el.element) {\n        fireEventOnWrappedOrUnwrappedElement(el.element, eventObject);\n    }\n}\n/**\n * @private\n */\nfunction getChartTitle(chart) {\n    return stripHTMLTags(chart.options.title.text ||\n        chart.langFormat('accessibility.defaultChartTitle', { chart: chart }));\n}\n/**\n * Return string with the axis name/title.\n * @private\n */\nfunction getAxisDescription(axis) {\n    return axis && (axis.userOptions && axis.userOptions.accessibility &&\n        axis.userOptions.accessibility.description ||\n        axis.axisTitle && axis.axisTitle.textStr ||\n        axis.options.id ||\n        axis.categories && 'categories' ||\n        axis.dateTime && 'Time' ||\n        'values');\n}\n/**\n * Return string with text description of the axis range.\n * @private\n * @param {Highcharts.Axis} axis\n * The axis to get range desc of.\n * @return {string}\n * A string with the range description for the axis.\n */\nfunction getAxisRangeDescription(axis) {\n    var axisOptions = axis.options || {};\n    // Handle overridden range description\n    if (axisOptions.accessibility &&\n        typeof axisOptions.accessibility.rangeDescription !== 'undefined') {\n        return axisOptions.accessibility.rangeDescription;\n    }\n    // Handle category axes\n    if (axis.categories) {\n        return getCategoryAxisRangeDesc(axis);\n    }\n    // Use time range, not from-to?\n    if (axis.dateTime && (axis.min === 0 || axis.dataMin === 0)) {\n        return getAxisTimeLengthDesc(axis);\n    }\n    // Just use from and to.\n    // We have the range and the unit to use, find the desc format\n    return getAxisFromToDescription(axis);\n}\n/**\n * Describe the range of a category axis.\n * @private\n */\nfunction getCategoryAxisRangeDesc(axis) {\n    var chart = axis.chart;\n    if (axis.dataMax && axis.dataMin) {\n        return chart.langFormat('accessibility.axis.rangeCategories', {\n            chart: chart,\n            axis: axis,\n            numCategories: axis.dataMax - axis.dataMin + 1\n        });\n    }\n    return '';\n}\n/**\n * Describe the length of the time window shown on an axis.\n * @private\n */\nfunction getAxisTimeLengthDesc(axis) {\n    var chart = axis.chart, range = {}, min = axis.dataMin || axis.min || 0, max = axis.dataMax || axis.max || 0;\n    var rangeUnit = 'Seconds';\n    range.Seconds = (max - min) / 1000;\n    range.Minutes = range.Seconds / 60;\n    range.Hours = range.Minutes / 60;\n    range.Days = range.Hours / 24;\n    ['Minutes', 'Hours', 'Days'].forEach(function (unit) {\n        if (range[unit] > 2) {\n            rangeUnit = unit;\n        }\n    });\n    var rangeValue = range[rangeUnit].toFixed(rangeUnit !== 'Seconds' &&\n        rangeUnit !== 'Minutes' ? 1 : 0 // Use decimals for days/hours\n    );\n    // We have the range and the unit to use, find the desc format\n    return chart.langFormat('accessibility.axis.timeRange' + rangeUnit, {\n        chart: chart,\n        axis: axis,\n        range: rangeValue.replace('.0', '')\n    });\n}\n/**\n * Describe an axis from-to range.\n * @private\n */\nfunction getAxisFromToDescription(axis) {\n    var chart = axis.chart, options = chart.options, dateRangeFormat = (options &&\n        options.accessibility &&\n        options.accessibility.screenReaderSection.axisRangeDateFormat ||\n        ''), extremes = {\n        min: axis.dataMin || axis.min || 0,\n        max: axis.dataMax || axis.max || 0\n    }, format = function (key) {\n        return axis.dateTime ?\n            chart.time.dateFormat(dateRangeFormat, extremes[key]) :\n            extremes[key].toString();\n    };\n    return chart.langFormat('accessibility.axis.rangeFromTo', {\n        chart: chart,\n        axis: axis,\n        rangeFrom: format('min'),\n        rangeTo: format('max')\n    });\n}\n/**\n * Get the DOM element for the first point in the series.\n * @private\n * @param {Highcharts.Series} series\n * The series to get element for.\n * @return {Highcharts.HTMLDOMElement|Highcharts.SVGDOMElement|undefined}\n * The DOM element for the point.\n */\nfunction getSeriesFirstPointElement(series) {\n    if (series.points && series.points.length) {\n        var firstPointWithGraphic = find(series.points, function (p) { return !!p.graphic; });\n        return (firstPointWithGraphic &&\n            firstPointWithGraphic.graphic &&\n            firstPointWithGraphic.graphic.element);\n    }\n}\n/**\n * Get the DOM element for the series that we put accessibility info on.\n * @private\n * @param {Highcharts.Series} series\n * The series to get element for.\n * @return {Highcharts.HTMLDOMElement|Highcharts.SVGDOMElement|undefined}\n * The DOM element for the series\n */\nfunction getSeriesA11yElement(series) {\n    var firstPointEl = getSeriesFirstPointElement(series);\n    return (firstPointEl &&\n        firstPointEl.parentNode || series.graph &&\n        series.graph.element || series.group &&\n        series.group.element); // Could be tracker series depending on series type\n}\n/**\n * Remove aria-hidden from element. Also unhides parents of the element, and\n * hides siblings that are not explicitly unhidden.\n * @private\n */\nfunction unhideChartElementFromAT(chart, element) {\n    element.setAttribute('aria-hidden', false);\n    if (element === chart.renderTo ||\n        !element.parentNode ||\n        element.parentNode === doc.body // #16126: Full screen printing\n    ) {\n        return;\n    }\n    // Hide siblings unless their hidden state is already explicitly set\n    Array.prototype.forEach.call(element.parentNode.childNodes, function (node) {\n        if (!node.hasAttribute('aria-hidden')) {\n            node.setAttribute('aria-hidden', true);\n        }\n    });\n    // Repeat for parent\n    unhideChartElementFromAT(chart, element.parentNode);\n}\n/**\n * Hide series from screen readers.\n * @private\n */\nfunction hideSeriesFromAT(series) {\n    var seriesEl = getSeriesA11yElement(series);\n    if (seriesEl) {\n        seriesEl.setAttribute('aria-hidden', true);\n    }\n}\n/**\n * Get series objects by series name.\n * @private\n */\nfunction getSeriesFromName(chart, name) {\n    if (!name) {\n        return chart.series;\n    }\n    return (chart.series || []).filter(function (s) {\n        return s.name === name;\n    });\n}\n/**\n * Get point in a series from x/y values.\n * @private\n */\nfunction getPointFromXY(series, x, y) {\n    var i = series.length, res;\n    while (i--) {\n        res = find(series[i].points || [], function (p) {\n            return p.x === x && p.y === y;\n        });\n        if (res) {\n            return res;\n        }\n    }\n}\n/**\n * Get relative position of point on an x/y axis from 0 to 1.\n * @private\n */\nfunction getRelativePointAxisPosition(axis, point) {\n    if (!defined(axis.dataMin) || !defined(axis.dataMax)) {\n        return 0;\n    }\n    var axisStart = axis.toPixels(axis.dataMin), axisEnd = axis.toPixels(axis.dataMax), \n    // We have to use pixel position because of axis breaks, log axis etc.\n    positionProp = axis.coll === 'xAxis' ? 'x' : 'y', pointPos = axis.toPixels(point[positionProp] || 0);\n    return (pointPos - axisStart) / (axisEnd - axisStart);\n}\n/**\n * Get relative position of point on an x/y axis from 0 to 1.\n * @private\n */\nfunction scrollToPoint(point) {\n    var xAxis = point.series.xAxis, yAxis = point.series.yAxis, axis = (xAxis && xAxis.scrollbar ? xAxis : yAxis), scrollbar = (axis && axis.scrollbar);\n    if (scrollbar && defined(scrollbar.to) && defined(scrollbar.from)) {\n        var range = scrollbar.to - scrollbar.from;\n        var pos = getRelativePointAxisPosition(axis, point);\n        scrollbar.updatePosition(pos - range / 2, pos + range / 2);\n        fireEvent(scrollbar, 'changed', {\n            from: scrollbar.from,\n            to: scrollbar.to,\n            trigger: 'scrollbar',\n            DOMEvent: null\n        });\n    }\n}\n/* *\n *\n *  Default Export\n *\n * */\nvar ChartUtilities = {\n    fireEventOnWrappedOrUnwrappedElement: fireEventOnWrappedOrUnwrappedElement,\n    getChartTitle: getChartTitle,\n    getAxisDescription: getAxisDescription,\n    getAxisRangeDescription: getAxisRangeDescription,\n    getPointFromXY: getPointFromXY,\n    getSeriesFirstPointElement: getSeriesFirstPointElement,\n    getSeriesFromName: getSeriesFromName,\n    getSeriesA11yElement: getSeriesA11yElement,\n    unhideChartElementFromAT: unhideChartElementFromAT,\n    hideSeriesFromAT: hideSeriesFromAT,\n    scrollToPoint: scrollToPoint\n};\nexport default ChartUtilities;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Class that can keep track of elements added to DOM and clean them up on\n *  destroy.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport H from '../../Core/Globals.js';\nvar doc = H.doc;\nimport HU from './HTMLUtilities.js';\nvar removeElement = HU.removeElement;\n/* *\n *\n *  Class\n *\n * */\n/**\n * @private\n */\nvar DOMElementProvider = /** @class */ (function () {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    function DOMElementProvider() {\n        this.elements = [];\n    }\n    /**\n     * Create an element and keep track of it for later removal.\n     * Same args as document.createElement\n     * @private\n     */\n    DOMElementProvider.prototype.createElement = function () {\n        var el = doc.createElement.apply(doc, arguments);\n        this.elements.push(el);\n        return el;\n    };\n    /**\n     * Destroy all created elements, removing them from the DOM.\n     * @private\n     */\n    DOMElementProvider.prototype.destroyCreatedElements = function () {\n        this.elements.forEach(function (element) {\n            removeElement(element);\n        });\n        this.elements = [];\n    };\n    return DOMElementProvider;\n}());\n/* *\n *\n *  Default Export\n *\n * */\nexport default DOMElementProvider;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Class that can keep track of events added, and clean them up on destroy.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport H from '../../Core/Globals.js';\nimport U from '../../Core/Utilities.js';\nvar addEvent = U.addEvent;\n/* *\n *\n *  Class\n *\n * */\n/**\n * @private\n */\nvar EventProvider = /** @class */ (function () {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    function EventProvider() {\n        this.eventRemovers = [];\n    }\n    /**\n     * Add an event to an element and keep track of it for later removal.\n     * Same args as Highcharts.addEvent.\n     * @private\n     */\n    EventProvider.prototype.addEvent = function () {\n        var remover = addEvent.apply(H, arguments);\n        this.eventRemovers.push(remover);\n        return remover;\n    };\n    /**\n     * Remove all added events.\n     * @private\n     */\n    EventProvider.prototype.removeAddedEvents = function () {\n        this.eventRemovers.forEach(function (remover) { return remover(); });\n        this.eventRemovers = [];\n    };\n    return EventProvider;\n}());\n/* *\n *\n *  Default Export\n *\n * */\nexport default EventProvider;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Accessibility component class definition\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport CU from './Utils/ChartUtilities.js';\nvar fireEventOnWrappedOrUnwrappedElement = CU.fireEventOnWrappedOrUnwrappedElement;\nimport DOMElementProvider from './Utils/DOMElementProvider.js';\nimport EventProvider from './Utils/EventProvider.js';\nimport HU from './Utils/HTMLUtilities.js';\nvar getFakeMouseEvent = HU.getFakeMouseEvent;\nimport U from '../Core/Utilities.js';\nvar extend = U.extend;\n/* *\n *\n *  Class\n *\n * */\n/**\n * The AccessibilityComponent base class, representing a part of the chart that\n * has accessibility logic connected to it. This class can be inherited from to\n * create a custom accessibility component for a chart.\n *\n * Components should take care to destroy added elements and unregister event\n * handlers on destroy. This is handled automatically if using this.addEvent and\n * this.createElement.\n *\n * @sample highcharts/accessibility/custom-component\n *         Custom accessibility component\n *\n * @requires module:modules/accessibility\n * @class\n * @name Highcharts.AccessibilityComponent\n */\nvar AccessibilityComponent = /** @class */ (function () {\n    function AccessibilityComponent() {\n        /* *\n         *\n         *  Properties\n         *\n         * */\n        this.chart = void 0;\n        this.domElementProvider = void 0;\n        this.eventProvider = void 0;\n        this.keyCodes = void 0;\n        this.proxyProvider = void 0;\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * Initialize the class\n     * @private\n     * @param {Highcharts.Chart} chart The chart object\n     * @param {Highcharts.ProxyProvider} proxyProvider The proxy provider of the accessibility module\n     */\n    AccessibilityComponent.prototype.initBase = function (chart, proxyProvider) {\n        this.chart = chart;\n        this.eventProvider = new EventProvider();\n        this.domElementProvider = new DOMElementProvider();\n        this.proxyProvider = proxyProvider;\n        // Key code enum for common keys\n        this.keyCodes = {\n            left: 37,\n            right: 39,\n            up: 38,\n            down: 40,\n            enter: 13,\n            space: 32,\n            esc: 27,\n            tab: 9,\n            pageUp: 33,\n            pageDown: 34,\n            end: 35,\n            home: 36\n        };\n    };\n    /**\n     * Add an event to an element and keep track of it for later removal.\n     * See EventProvider for details.\n     * @private\n     */\n    AccessibilityComponent.prototype.addEvent = function (el, type, fn, options) {\n        return this.eventProvider.addEvent(el, type, fn, options);\n    };\n    /**\n     * Create an element and keep track of it for later removal.\n     * See DOMElementProvider for details.\n     * @private\n     */\n    AccessibilityComponent.prototype.createElement = function (tagName, options) {\n        return this.domElementProvider.createElement(tagName, options);\n    };\n    /**\n     * Fire a fake click event on an element. It is useful to have this on\n     * AccessibilityComponent for users of custom components.\n     */\n    AccessibilityComponent.prototype.fakeClickEvent = function (el) {\n        var fakeEvent = getFakeMouseEvent('click');\n        fireEventOnWrappedOrUnwrappedElement(el, fakeEvent);\n    };\n    /**\n     * Remove traces of the component.\n     * @private\n     */\n    AccessibilityComponent.prototype.destroyBase = function () {\n        this.domElementProvider.destroyCreatedElements();\n        this.eventProvider.removeAddedEvents();\n    };\n    return AccessibilityComponent;\n}());\nextend(AccessibilityComponent.prototype, \n/** @lends Highcharts.AccessibilityComponent */\n{\n    /**\n     * Called on component initialization.\n     */\n    init: function () { },\n    /**\n     * Get keyboard navigation handler for this component.\n     * @private\n     */\n    getKeyboardNavigation: function () { },\n    /**\n     * Called on updates to the chart, including options changes.\n     * Note that this is also called on first render of chart.\n     */\n    onChartUpdate: function () { },\n    /**\n     * Called on every chart render.\n     */\n    onChartRender: function () { },\n    /**\n     * Called when accessibility is disabled or chart is destroyed.\n     */\n    destroy: function () { }\n});\n/* *\n *\n *  Default Export\n *\n * */\nexport default AccessibilityComponent;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Keyboard navigation handler base class definition\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport U from '../Core/Utilities.js';\nvar find = U.find;\n/* *\n *\n *  Class\n *\n * */\n/**\n * Define a keyboard navigation handler for use with a\n * Highcharts.AccessibilityComponent instance. This functions as an abstraction\n * layer for keyboard navigation, and defines a map of keyCodes to handler\n * functions.\n *\n * @requires module:modules/accessibility\n *\n * @sample highcharts/accessibility/custom-component\n *         Custom accessibility component\n *\n * @class\n * @name Highcharts.KeyboardNavigationHandler\n *\n * @param {Highcharts.Chart} chart\n * The chart this module should act on.\n *\n * @param {Highcharts.KeyboardNavigationHandlerOptionsObject} options\n * Options for the keyboard navigation handler.\n */\nvar KeyboardNavigationHandler = /** @class */ (function () {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    function KeyboardNavigationHandler(chart, options) {\n        this.chart = chart;\n        this.keyCodeMap = options.keyCodeMap || [];\n        this.validate = options.validate;\n        this.init = options.init;\n        this.terminate = options.terminate;\n        // Response enum\n        this.response = {\n            success: 1,\n            prev: 2,\n            next: 3,\n            noHandler: 4,\n            fail: 5 // Handler failed\n        };\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * Find handler function(s) for key code in the keyCodeMap and run it.\n     *\n     * @function KeyboardNavigationHandler#run\n     * @param {global.KeyboardEvent} e\n     * @return {number} Returns a response code indicating whether the run was\n     *      a success/fail/unhandled, or if we should move to next/prev module.\n     */\n    KeyboardNavigationHandler.prototype.run = function (e) {\n        var keyCode = e.which || e.keyCode;\n        var response = this.response.noHandler;\n        var handlerCodeSet = find(this.keyCodeMap, function (codeSet) {\n            return codeSet[0].indexOf(keyCode) > -1;\n        });\n        if (handlerCodeSet) {\n            response = handlerCodeSet[1].call(this, keyCode, e);\n        }\n        else if (keyCode === 9) {\n            // Default tab handler, move to next/prev module\n            response = this.response[e.shiftKey ? 'prev' : 'next'];\n        }\n        return response;\n    };\n    return KeyboardNavigationHandler;\n}());\n/* *\n *\n *  Default Export\n *\n * */\nexport default KeyboardNavigationHandler;\n/* *\n *\n *  API Declarations\n *\n * */\n/**\n * Options for the keyboard navigation handler.\n *\n * @interface Highcharts.KeyboardNavigationHandlerOptionsObject\n */ /**\n* An array containing pairs of an array of keycodes, mapped to a handler\n* function. When the keycode is received, the handler is called with the\n* keycode as parameter.\n* @name Highcharts.KeyboardNavigationHandlerOptionsObject#keyCodeMap\n* @type {Array<Array<Array<number>, Function>>}\n*/ /**\n* Function to run on initialization of module.\n* @name Highcharts.KeyboardNavigationHandlerOptionsObject#init\n* @type {Function}\n*/ /**\n* Function to run before moving to next/prev module. Receives moving direction\n* as parameter: +1 for next, -1 for previous.\n* @name Highcharts.KeyboardNavigationHandlerOptionsObject#terminate\n* @type {Function|undefined}\n*/ /**\n* Function to run to validate module. Should return false if module should not\n* run, true otherwise. Receives chart as parameter.\n* @name Highcharts.KeyboardNavigationHandlerOptionsObject#validate\n* @type {Function|undefined}\n*/\n(''); // keeps doclets above in JS file\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Accessibility component for chart container.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport AccessibilityComponent from '../AccessibilityComponent.js';\nimport KeyboardNavigationHandler from '../KeyboardNavigationHandler.js';\nimport CU from '../Utils/ChartUtilities.js';\nvar unhideChartElementFromAT = CU.unhideChartElementFromAT, getChartTitle = CU.getChartTitle;\nimport H from '../../Core/Globals.js';\nvar doc = H.doc;\nimport HU from '../Utils/HTMLUtilities.js';\nvar stripHTMLTags = HU.stripHTMLTagsFromString;\n/**\n * The ContainerComponent class\n *\n * @private\n * @class\n * @name Highcharts.ContainerComponent\n */\nvar ContainerComponent = /** @class */ (function (_super) {\n    __extends(ContainerComponent, _super);\n    function ContainerComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * Called on first render/updates to the chart, including options changes.\n     */\n    ContainerComponent.prototype.onChartUpdate = function () {\n        this.handleSVGTitleElement();\n        this.setSVGContainerLabel();\n        this.setGraphicContainerAttrs();\n        this.setRenderToAttrs();\n        this.makeCreditsAccessible();\n    };\n    /**\n     * @private\n     */\n    ContainerComponent.prototype.handleSVGTitleElement = function () {\n        var chart = this.chart, titleId = 'highcharts-title-' + chart.index, titleContents = stripHTMLTags(chart.langFormat('accessibility.svgContainerTitle', {\n            chartTitle: getChartTitle(chart)\n        }));\n        if (titleContents.length) {\n            var titleElement = this.svgTitleElement =\n                this.svgTitleElement || doc.createElementNS('http://www.w3.org/2000/svg', 'title');\n            titleElement.textContent = titleContents;\n            titleElement.id = titleId;\n            chart.renderTo.insertBefore(titleElement, chart.renderTo.firstChild);\n        }\n    };\n    /**\n     * @private\n     */\n    ContainerComponent.prototype.setSVGContainerLabel = function () {\n        var chart = this.chart, svgContainerLabel = chart.langFormat('accessibility.svgContainerLabel', {\n            chartTitle: getChartTitle(chart)\n        });\n        if (chart.renderer.box && svgContainerLabel.length) {\n            chart.renderer.box.setAttribute('aria-label', svgContainerLabel);\n        }\n    };\n    /**\n     * @private\n     */\n    ContainerComponent.prototype.setGraphicContainerAttrs = function () {\n        var chart = this.chart, label = chart.langFormat('accessibility.graphicContainerLabel', {\n            chartTitle: getChartTitle(chart)\n        });\n        if (label.length) {\n            chart.container.setAttribute('aria-label', label);\n        }\n    };\n    /**\n     * Set attributes on the chart container element.\n     * @private\n     */\n    ContainerComponent.prototype.setRenderToAttrs = function () {\n        var chart = this.chart, shouldHaveLandmark = chart.options.accessibility\n            .landmarkVerbosity !== 'disabled', containerLabel = chart.langFormat('accessibility.chartContainerLabel', {\n            title: getChartTitle(chart),\n            chart: chart\n        });\n        if (containerLabel) {\n            chart.renderTo.setAttribute('role', shouldHaveLandmark ? 'region' : 'group');\n            chart.renderTo.setAttribute('aria-label', containerLabel);\n        }\n    };\n    /**\n     * @private\n     */\n    ContainerComponent.prototype.makeCreditsAccessible = function () {\n        var chart = this.chart, credits = chart.credits;\n        if (credits) {\n            if (credits.textStr) {\n                credits.element.setAttribute('aria-label', chart.langFormat('accessibility.credits', { creditsStr: stripHTMLTags(credits.textStr) }));\n            }\n            unhideChartElementFromAT(chart, credits.element);\n        }\n    };\n    /**\n     * Empty handler to just set focus on chart\n     * @private\n     */\n    ContainerComponent.prototype.getKeyboardNavigation = function () {\n        var chart = this.chart;\n        return new KeyboardNavigationHandler(chart, {\n            keyCodeMap: [],\n            validate: function () {\n                return true;\n            },\n            init: function () {\n                var a11y = chart.accessibility;\n                if (a11y) {\n                    a11y.keyboardNavigation.tabindexContainer.focus();\n                }\n            }\n        });\n    };\n    /**\n     * Accessibility disabled/chart destroyed.\n     */\n    ContainerComponent.prototype.destroy = function () {\n        this.chart.renderTo.setAttribute('aria-hidden', true);\n    };\n    return ContainerComponent;\n}(AccessibilityComponent));\n/* *\n *\n *  Default Export\n *\n * */\nexport default ContainerComponent;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Extend SVG and Chart classes with focus border capabilities.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport SVGLabel from '../Core/Renderer/SVG/SVGLabel.js';\nimport U from '../Core/Utilities.js';\nvar addEvent = U.addEvent, pick = U.pick;\n/* *\n *\n *  Composition\n *\n * */\nvar FocusBorderComposition;\n(function (FocusBorderComposition) {\n    /* *\n     *\n     *  Declarations\n     *\n     * */\n    /* *\n     *\n     *  Constants\n     *\n     * */\n    var composedClasses = [];\n    // Attributes that trigger a focus border update\n    var svgElementBorderUpdateTriggers = [\n        'x', 'y', 'transform', 'width', 'height', 'r', 'd', 'stroke-width'\n    ];\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * @private\n     */\n    function compose(ChartClass, SVGElementClass) {\n        if (composedClasses.indexOf(ChartClass) === -1) {\n            composedClasses.push(ChartClass);\n            var chartProto = ChartClass.prototype;\n            chartProto.renderFocusBorder = chartRenderFocusBorder;\n            chartProto.setFocusToElement = chartSetFocusToElement;\n        }\n        if (composedClasses.indexOf(SVGElementClass) === -1) {\n            composedClasses.push(SVGElementClass);\n            var svgElementProto = SVGElementClass.prototype;\n            svgElementProto.addFocusBorder = svgElementAddFocusBorder;\n            svgElementProto.removeFocusBorder = svgElementRemoveFocusBorder;\n        }\n    }\n    FocusBorderComposition.compose = compose;\n    /**\n     * Redraws the focus border on the currently focused element.\n     *\n     * @private\n     * @function Highcharts.Chart#renderFocusBorder\n     */\n    function chartRenderFocusBorder() {\n        var focusElement = this.focusElement, focusBorderOptions = this.options.accessibility.keyboardNavigation.focusBorder;\n        if (focusElement) {\n            focusElement.removeFocusBorder();\n            if (focusBorderOptions.enabled) {\n                focusElement.addFocusBorder(focusBorderOptions.margin, {\n                    stroke: focusBorderOptions.style.color,\n                    strokeWidth: focusBorderOptions.style.lineWidth,\n                    r: focusBorderOptions.style.borderRadius\n                });\n            }\n        }\n    }\n    /**\n     * Set chart's focus to an SVGElement. Calls focus() on it, and draws the\n     * focus border. This is used by multiple components.\n     *\n     * @private\n     * @function Highcharts.Chart#setFocusToElement\n     *\n     * @param {Highcharts.SVGElement} svgElement\n     * Element to draw the border around.\n     *\n     * @param {SVGDOMElement|HTMLDOMElement} [focusElement]\n     * If supplied, it draws the border around svgElement and sets the focus to\n     * focusElement.\n     */\n    function chartSetFocusToElement(svgElement, focusElement) {\n        var focusBorderOptions = this.options.accessibility.keyboardNavigation.focusBorder, browserFocusElement = focusElement || svgElement.element;\n        // Set browser focus if possible\n        if (browserFocusElement &&\n            browserFocusElement.focus) {\n            // If there is no focusin-listener, add one to work around Edge\n            // where Narrator is not reading out points despite calling focus().\n            if (!(browserFocusElement.hcEvents &&\n                browserFocusElement.hcEvents.focusin)) {\n                addEvent(browserFocusElement, 'focusin', function () { });\n            }\n            browserFocusElement.focus();\n            // Hide default focus ring\n            if (focusBorderOptions.hideBrowserFocusOutline) {\n                browserFocusElement.style.outline = 'none';\n            }\n        }\n        if (this.focusElement) {\n            this.focusElement.removeFocusBorder();\n        }\n        this.focusElement = svgElement;\n        this.renderFocusBorder();\n    }\n    /**\n     * Add hook to destroy focus border if SVG element is destroyed, unless\n     * hook already exists.\n     * @private\n     * @param el Element to add destroy hook to\n     */\n    function svgElementAddDestroyFocusBorderHook(el) {\n        if (el.focusBorderDestroyHook) {\n            return;\n        }\n        var origDestroy = el.destroy;\n        el.destroy = function () {\n            if (el.focusBorder && el.focusBorder.destroy) {\n                el.focusBorder.destroy();\n            }\n            return origDestroy.apply(el, arguments);\n        };\n        el.focusBorderDestroyHook = origDestroy;\n    }\n    /**\n     * Add focus border functionality to SVGElements. Draws a new rect on top of\n     * element around its bounding box. This is used by multiple components.\n     *\n     * @private\n     * @function Highcharts.SVGElement#addFocusBorder\n     *\n     * @param {number} margin\n     *\n     * @param {SVGAttributes} attribs\n     */\n    function svgElementAddFocusBorder(margin, attribs) {\n        // Allow updating by just adding new border\n        if (this.focusBorder) {\n            this.removeFocusBorder();\n        }\n        // Add the border rect\n        var bb = this.getBBox(), pad = pick(margin, 3), parent = this.parentGroup, scaleX = this.scaleX || parent && parent.scaleX, scaleY = this.scaleY || parent && parent.scaleY, oneDefined = scaleX ? !scaleY : scaleY, scaleBoth = oneDefined ? Math.abs(scaleX || scaleY || 1) :\n            (Math.abs(scaleX || 1) + Math.abs(scaleY || 1)) / 2;\n        bb.x += this.translateX ? this.translateX : 0;\n        bb.y += this.translateY ? this.translateY : 0;\n        var borderPosX = bb.x - pad, borderPosY = bb.y - pad, borderWidth = bb.width + 2 * pad, borderHeight = bb.height + 2 * pad;\n        /**\n         * For text elements, apply x and y offset, #11397.\n         * @private\n         */\n        function getTextAnchorCorrection(text) {\n            var posXCorrection = 0, posYCorrection = 0;\n            if (text.attr('text-anchor') === 'middle') {\n                posXCorrection = posYCorrection = 0.5;\n            }\n            else if (!text.rotation) {\n                posYCorrection = 0.75;\n            }\n            else {\n                posXCorrection = 0.25;\n            }\n            return {\n                x: posXCorrection,\n                y: posYCorrection\n            };\n        }\n        var isLabel = this instanceof SVGLabel;\n        if (this.element.nodeName === 'text' || isLabel) {\n            var isRotated = !!this.rotation;\n            var correction = !isLabel ? getTextAnchorCorrection(this) :\n                {\n                    x: isRotated ? 1 : 0,\n                    y: 0\n                };\n            var attrX = +this.attr('x');\n            var attrY = +this.attr('y');\n            if (!isNaN(attrX)) {\n                borderPosX = attrX - (bb.width * correction.x) - pad;\n            }\n            if (!isNaN(attrY)) {\n                borderPosY = attrY - (bb.height * correction.y) - pad;\n            }\n            if (isLabel && isRotated) {\n                var temp = borderWidth;\n                borderWidth = borderHeight;\n                borderHeight = temp;\n                if (!isNaN(attrX)) {\n                    borderPosX = attrX - (bb.height * correction.x) - pad;\n                }\n                if (!isNaN(attrY)) {\n                    borderPosY = attrY - (bb.width * correction.y) - pad;\n                }\n            }\n        }\n        this.focusBorder = this.renderer.rect(borderPosX, borderPosY, borderWidth, borderHeight, parseInt((attribs && attribs.r || 0).toString(), 10) / scaleBoth)\n            .addClass('highcharts-focus-border')\n            .attr({\n            zIndex: 99\n        })\n            .add(parent);\n        if (!this.renderer.styledMode) {\n            this.focusBorder.attr({\n                stroke: attribs && attribs.stroke,\n                'stroke-width': (attribs && attribs.strokeWidth || 0) / scaleBoth\n            });\n        }\n        avgElementAddUpdateFocusBorderHooks(this, margin, attribs);\n        svgElementAddDestroyFocusBorderHook(this);\n    }\n    /**\n     * Add hooks to update the focus border of an element when the element\n     * size/position is updated, unless already added.\n     * @private\n     * @param el Element to add update hooks to\n     * @param updateParams Parameters to pass through to addFocusBorder when updating.\n     */\n    function avgElementAddUpdateFocusBorderHooks(el) {\n        var updateParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            updateParams[_i - 1] = arguments[_i];\n        }\n        if (el.focusBorderUpdateHooks) {\n            return;\n        }\n        el.focusBorderUpdateHooks = {};\n        svgElementBorderUpdateTriggers.forEach(function (trigger) {\n            var setterKey = trigger + 'Setter';\n            var origSetter = el[setterKey] || el._defaultSetter;\n            el.focusBorderUpdateHooks[setterKey] = origSetter;\n            el[setterKey] = function () {\n                var ret = origSetter.apply(el, arguments);\n                el.addFocusBorder.apply(el, updateParams);\n                return ret;\n            };\n        });\n    }\n    /**\n     * Remove hook from SVG element added by addDestroyFocusBorderHook, if\n     * existing.\n     * @private\n     * @param el Element to remove destroy hook from\n     */\n    function svgElementRemoveDestroyFocusBorderHook(el) {\n        if (!el.focusBorderDestroyHook) {\n            return;\n        }\n        el.destroy = el.focusBorderDestroyHook;\n        delete el.focusBorderDestroyHook;\n    }\n    /**\n     * Add focus border functionality to SVGElements. Draws a new rect on top of\n     * element around its bounding box. This is used by multiple components.\n     * @private\n     * @function Highcharts.SVGElement#removeFocusBorder\n     */\n    function svgElementRemoveFocusBorder() {\n        svgElementRemoveUpdateFocusBorderHooks(this);\n        svgElementRemoveDestroyFocusBorderHook(this);\n        if (this.focusBorder) {\n            this.focusBorder.destroy();\n            delete this.focusBorder;\n        }\n    }\n    /**\n     * Remove hooks from SVG element added by addUpdateFocusBorderHooks, if\n     * existing.\n     * @private\n     * @param el Element to remove update hooks from\n     */\n    function svgElementRemoveUpdateFocusBorderHooks(el) {\n        if (!el.focusBorderUpdateHooks) {\n            return;\n        }\n        Object.keys(el.focusBorderUpdateHooks).forEach(function (setterKey) {\n            var origSetter = el.focusBorderUpdateHooks[setterKey];\n            if (origSetter === el._defaultSetter) {\n                delete el[setterKey];\n            }\n            else {\n                el[setterKey] = origSetter;\n            }\n        });\n        delete el.focusBorderUpdateHooks;\n    }\n})(FocusBorderComposition || (FocusBorderComposition = {}));\n/* *\n *\n *  Default Export\n *\n * */\nexport default FocusBorderComposition;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Create announcer to speak messages to screen readers and other AT.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport AST from '../../Core/Renderer/HTML/AST.js';\nimport DOMElementProvider from './DOMElementProvider.js';\nimport H from '../../Core/Globals.js';\nvar doc = H.doc;\nimport HU from './HTMLUtilities.js';\nvar addClass = HU.addClass, visuallyHideElement = HU.visuallyHideElement;\nimport U from '../../Core/Utilities.js';\nvar attr = U.attr;\n/* *\n *\n *  Class\n *\n * */\nvar Announcer = /** @class */ (function () {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    function Announcer(chart, type) {\n        this.chart = chart;\n        this.domElementProvider = new DOMElementProvider();\n        this.announceRegion = this.addAnnounceRegion(type);\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    Announcer.prototype.destroy = function () {\n        this.domElementProvider.destroyCreatedElements();\n    };\n    Announcer.prototype.announce = function (message) {\n        var _this = this;\n        AST.setElementHTML(this.announceRegion, message);\n        // Delete contents after a little while to avoid user finding the live\n        // region in the DOM.\n        if (this.clearAnnouncementRegionTimer) {\n            clearTimeout(this.clearAnnouncementRegionTimer);\n        }\n        this.clearAnnouncementRegionTimer = setTimeout(function () {\n            _this.announceRegion.innerHTML = AST.emptyHTML;\n            delete _this.clearAnnouncementRegionTimer;\n        }, 1000);\n    };\n    Announcer.prototype.addAnnounceRegion = function (type) {\n        var chartContainer = (this.chart.announcerContainer || this.createAnnouncerContainer()), div = this.domElementProvider.createElement('div');\n        attr(div, {\n            'aria-hidden': false,\n            'aria-live': type\n        });\n        if (this.chart.styledMode) {\n            addClass(div, 'highcharts-visually-hidden');\n        }\n        else {\n            visuallyHideElement(div);\n        }\n        chartContainer.appendChild(div);\n        return div;\n    };\n    Announcer.prototype.createAnnouncerContainer = function () {\n        var chart = this.chart, container = doc.createElement('div');\n        attr(container, {\n            'aria-hidden': false,\n            'class': 'highcharts-announcer-container'\n        });\n        container.style.position = 'relative';\n        chart.renderTo.insertBefore(container, chart.renderTo.firstChild);\n        chart.announcerContainer = container;\n        return container;\n    };\n    return Announcer;\n}());\n/* *\n *\n *  Default Export\n *\n * */\nexport default Announcer;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Annotations accessibility code.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport HTMLUtilities from '../Utils/HTMLUtilities.js';\nvar escapeStringForHTML = HTMLUtilities.escapeStringForHTML, stripHTMLTagsFromString = HTMLUtilities.stripHTMLTagsFromString;\n/* *\n *\n *  Functions\n *\n * */\n/**\n * Get list of all annotation labels in the chart.\n *\n * @private\n * @param {Highcharts.Chart} chart The chart to get annotation info on.\n * @return {Array<object>} The labels, or empty array if none.\n */\nfunction getChartAnnotationLabels(chart) {\n    var annotations = chart.annotations || [];\n    return annotations.reduce(function (acc, cur) {\n        if (cur.options &&\n            cur.options.visible !== false) {\n            acc = acc.concat(cur.labels);\n        }\n        return acc;\n    }, []);\n}\n/**\n * Get the text of an annotation label.\n *\n * @private\n * @param {Object} label The annotation label object\n * @return {string} The text in the label.\n */\nfunction getLabelText(label) {\n    return ((label.options &&\n        label.options.accessibility &&\n        label.options.accessibility.description) ||\n        (label.graphic &&\n            label.graphic.text &&\n            label.graphic.text.textStr) ||\n        '');\n}\n/**\n * Describe an annotation label.\n *\n * @private\n * @param {Object} label The annotation label object to describe\n * @return {string} The description for the label.\n */\nfunction getAnnotationLabelDescription(label) {\n    var a11yDesc = (label.options &&\n        label.options.accessibility &&\n        label.options.accessibility.description);\n    if (a11yDesc) {\n        return a11yDesc;\n    }\n    var chart = label.chart;\n    var labelText = getLabelText(label);\n    var points = label.points;\n    var getAriaLabel = function (point) { return (point.graphic &&\n        point.graphic.element &&\n        point.graphic.element.getAttribute('aria-label') ||\n        ''); };\n    var getValueDesc = function (point) {\n        var valDesc = (point.accessibility &&\n            point.accessibility.valueDescription ||\n            getAriaLabel(point));\n        var seriesName = (point &&\n            point.series.name ||\n            '');\n        return (seriesName ? seriesName + ', ' : '') + 'data point ' + valDesc;\n    };\n    var pointValueDescriptions = points\n        .filter(function (p) { return !!p.graphic; }) // Filter out mock points\n        .map(getValueDesc)\n        // Filter out points we can't describe\n        .filter(function (desc) { return !!desc; });\n    var numPoints = pointValueDescriptions.length;\n    var pointsSelector = numPoints > 1 ?\n        'MultiplePoints' : numPoints ?\n        'SinglePoint' : 'NoPoints';\n    var langFormatStr = ('accessibility.screenReaderSection.annotations.description' +\n        pointsSelector);\n    var context = {\n        annotationText: labelText,\n        annotation: label,\n        numPoints: numPoints,\n        annotationPoint: pointValueDescriptions[0],\n        additionalAnnotationPoints: pointValueDescriptions.slice(1)\n    };\n    return chart.langFormat(langFormatStr, context);\n}\n/**\n * Return array of HTML strings for each annotation label in the chart.\n *\n * @private\n * @param {Highcharts.Chart} chart The chart to get annotation info on.\n * @return {Array<string>} Array of strings with HTML content for each annotation label.\n */\nfunction getAnnotationListItems(chart) {\n    var labels = getChartAnnotationLabels(chart);\n    return labels.map(function (label) {\n        var desc = escapeStringForHTML(stripHTMLTagsFromString(getAnnotationLabelDescription(label)));\n        return desc ? \"<li>\".concat(desc, \"</li>\") : '';\n    });\n}\n/**\n * Return the annotation info for a chart as string.\n *\n * @private\n * @param {Highcharts.Chart} chart The chart to get annotation info on.\n * @return {string} String with HTML content or empty string if no annotations.\n */\nfunction getAnnotationsInfoHTML(chart) {\n    var annotations = chart.annotations;\n    if (!(annotations && annotations.length)) {\n        return '';\n    }\n    var annotationItems = getAnnotationListItems(chart);\n    return \"<ul style=\\\"list-style-type: none\\\">\".concat(annotationItems.join(' '), \"</ul>\");\n}\n/**\n * Return the texts for the annotation(s) connected to a point, or empty array\n * if none.\n *\n * @private\n * @param {Highcharts.Point} point The data point to get the annotation info from.\n * @return {Array<string>} Annotation texts\n */\nfunction getPointAnnotationTexts(point) {\n    var labels = getChartAnnotationLabels(point.series.chart);\n    var pointLabels = labels\n        .filter(function (label) { return label.points.indexOf(point) > -1; });\n    if (!pointLabels.length) {\n        return [];\n    }\n    return pointLabels.map(function (label) { return \"\".concat(getLabelText(label)); });\n}\n/* *\n *\n *  Default Export\n *\n * */\nvar AnnotationsA11y = {\n    getAnnotationsInfoHTML: getAnnotationsInfoHTML,\n    getAnnotationLabelDescription: getAnnotationLabelDescription,\n    getAnnotationListItems: getAnnotationListItems,\n    getPointAnnotationTexts: getPointAnnotationTexts\n};\nexport default AnnotationsA11y;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Accessibility component for chart info region and table.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport A11yI18n from '../A11yI18n.js';\nimport AccessibilityComponent from '../AccessibilityComponent.js';\nimport Announcer from '../Utils/Announcer.js';\nimport AnnotationsA11y from './AnnotationsA11y.js';\nvar getAnnotationsInfoHTML = AnnotationsA11y.getAnnotationsInfoHTML;\nimport AST from '../../Core/Renderer/HTML/AST.js';\nimport CU from '../Utils/ChartUtilities.js';\nvar getAxisDescription = CU.getAxisDescription, getAxisRangeDescription = CU.getAxisRangeDescription, getChartTitle = CU.getChartTitle, unhideChartElementFromAT = CU.unhideChartElementFromAT;\nimport F from '../../Core/FormatUtilities.js';\nvar format = F.format;\nimport H from '../../Core/Globals.js';\nvar doc = H.doc;\nimport HU from '../Utils/HTMLUtilities.js';\nvar addClass = HU.addClass, getElement = HU.getElement, getHeadingTagNameForElement = HU.getHeadingTagNameForElement, stripHTMLTagsFromString = HU.stripHTMLTagsFromString, visuallyHideElement = HU.visuallyHideElement;\nimport U from '../../Core/Utilities.js';\nvar attr = U.attr, pick = U.pick;\n/* *\n *\n *  Functions\n *\n * */\n/* eslint-disable valid-jsdoc */\n/**\n * @private\n */\nfunction getTableSummary(chart) {\n    return chart.langFormat('accessibility.table.tableSummary', { chart: chart });\n}\n/**\n * @private\n */\nfunction getTypeDescForMapChart(chart, formatContext) {\n    return formatContext.mapTitle ?\n        chart.langFormat('accessibility.chartTypes.mapTypeDescription', formatContext) :\n        chart.langFormat('accessibility.chartTypes.unknownMap', formatContext);\n}\n/**\n * @private\n */\nfunction getTypeDescForCombinationChart(chart, formatContext) {\n    return chart.langFormat('accessibility.chartTypes.combinationChart', formatContext);\n}\n/**\n * @private\n */\nfunction getTypeDescForEmptyChart(chart, formatContext) {\n    return chart.langFormat('accessibility.chartTypes.emptyChart', formatContext);\n}\n/**\n * @private\n */\nfunction buildTypeDescriptionFromSeries(chart, types, context) {\n    var firstType = types[0], typeExplaination = chart.langFormat('accessibility.seriesTypeDescriptions.' + firstType, context), multi = chart.series && chart.series.length < 2 ? 'Single' : 'Multiple';\n    return (chart.langFormat('accessibility.chartTypes.' + firstType + multi, context) ||\n        chart.langFormat('accessibility.chartTypes.default' + multi, context)) + (typeExplaination ? ' ' + typeExplaination : '');\n}\n/**\n * Return simplified explaination of chart type. Some types will not be\n * familiar to most users, but in those cases we try to add an explaination\n * of the type.\n *\n * @private\n * @function Highcharts.Chart#getTypeDescription\n * @param {Array<string>} types The series types in this chart.\n * @return {string} The text description of the chart type.\n */\nfunction getTypeDescription(chart, types) {\n    var firstType = types[0], firstSeries = chart.series && chart.series[0] || {}, mapTitle = chart.mapView && chart.mapView.geoMap &&\n        chart.mapView.geoMap.title, formatContext = {\n        numSeries: chart.series.length,\n        numPoints: firstSeries.points && firstSeries.points.length,\n        chart: chart,\n        mapTitle: mapTitle\n    };\n    if (!firstType) {\n        return getTypeDescForEmptyChart(chart, formatContext);\n    }\n    if (firstType === 'map') {\n        return getTypeDescForMapChart(chart, formatContext);\n    }\n    if (chart.types.length > 1) {\n        return getTypeDescForCombinationChart(chart, formatContext);\n    }\n    return buildTypeDescriptionFromSeries(chart, types, formatContext);\n}\n/**\n * @private\n */\nfunction stripEmptyHTMLTags(str) {\n    return str.replace(/<(\\w+)[^>]*?>\\s*<\\/\\1>/g, '');\n}\n/* *\n *\n *  Class\n *\n * */\n/**\n * The InfoRegionsComponent class\n *\n * @private\n * @class\n * @name Highcharts.InfoRegionsComponent\n */\nvar InfoRegionsComponent = /** @class */ (function (_super) {\n    __extends(InfoRegionsComponent, _super);\n    function InfoRegionsComponent() {\n        /* *\n         *\n         *  Properties\n         *\n         * */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.announcer = void 0;\n        _this.screenReaderSections = {};\n        return _this;\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * Init the component\n     * @private\n     */\n    InfoRegionsComponent.prototype.init = function () {\n        var chart = this.chart;\n        var component = this;\n        this.initRegionsDefinitions();\n        this.addEvent(chart, 'aftergetTableAST', function (e) {\n            component.onDataTableCreated(e);\n        });\n        this.addEvent(chart, 'afterViewData', function (e) {\n            if (e.wasHidden) {\n                component.dataTableDiv = e.element;\n                // Use a small delay to give browsers & AT time to\n                // register the new table.\n                setTimeout(function () {\n                    component.focusDataTable();\n                }, 300);\n            }\n        });\n        this.announcer = new Announcer(chart, 'assertive');\n    };\n    /**\n     * @private\n     */\n    InfoRegionsComponent.prototype.initRegionsDefinitions = function () {\n        var component = this;\n        this.screenReaderSections = {\n            before: {\n                element: null,\n                buildContent: function (chart) {\n                    var formatter = chart.options.accessibility\n                        .screenReaderSection.beforeChartFormatter;\n                    return formatter ? formatter(chart) :\n                        component.defaultBeforeChartFormatter(chart);\n                },\n                insertIntoDOM: function (el, chart) {\n                    chart.renderTo.insertBefore(el, chart.renderTo.firstChild);\n                },\n                afterInserted: function () {\n                    if (typeof component.sonifyButtonId !== 'undefined') {\n                        component.initSonifyButton(component.sonifyButtonId);\n                    }\n                    if (typeof component.dataTableButtonId !== 'undefined') {\n                        component.initDataTableButton(component.dataTableButtonId);\n                    }\n                }\n            },\n            after: {\n                element: null,\n                buildContent: function (chart) {\n                    var formatter = chart.options.accessibility\n                        .screenReaderSection\n                        .afterChartFormatter;\n                    return formatter ? formatter(chart) :\n                        component.defaultAfterChartFormatter();\n                },\n                insertIntoDOM: function (el, chart) {\n                    chart.renderTo.insertBefore(el, chart.container.nextSibling);\n                },\n                afterInserted: function () {\n                    if (component.chart.accessibility) {\n                        component.chart.accessibility\n                            .keyboardNavigation.updateExitAnchor(); // #15986\n                    }\n                }\n            }\n        };\n    };\n    /**\n     * Called on chart render. Have to update the sections on render, in order\n     * to get a11y info from series.\n     */\n    InfoRegionsComponent.prototype.onChartRender = function () {\n        var component = this;\n        this.linkedDescriptionElement = this.getLinkedDescriptionElement();\n        this.setLinkedDescriptionAttrs();\n        Object.keys(this.screenReaderSections).forEach(function (regionKey) {\n            component.updateScreenReaderSection(regionKey);\n        });\n    };\n    /**\n     * @private\n     */\n    InfoRegionsComponent.prototype.getLinkedDescriptionElement = function () {\n        var chartOptions = this.chart.options, linkedDescOption = chartOptions.accessibility.linkedDescription;\n        if (!linkedDescOption) {\n            return;\n        }\n        if (typeof linkedDescOption !== 'string') {\n            return linkedDescOption;\n        }\n        var query = format(linkedDescOption, this.chart), queryMatch = doc.querySelectorAll(query);\n        if (queryMatch.length === 1) {\n            return queryMatch[0];\n        }\n    };\n    /**\n     * @private\n     */\n    InfoRegionsComponent.prototype.setLinkedDescriptionAttrs = function () {\n        var el = this.linkedDescriptionElement;\n        if (el) {\n            el.setAttribute('aria-hidden', 'true');\n            addClass(el, 'highcharts-linked-description');\n        }\n    };\n    /**\n     * @private\n     * @param {string} regionKey\n     * The name/key of the region to update\n     */\n    InfoRegionsComponent.prototype.updateScreenReaderSection = function (regionKey) {\n        var chart = this.chart;\n        var region = this.screenReaderSections[regionKey];\n        var content = region.buildContent(chart);\n        var sectionDiv = region.element = (region.element || this.createElement('div'));\n        var hiddenDiv = (sectionDiv.firstChild || this.createElement('div'));\n        if (content) {\n            this.setScreenReaderSectionAttribs(sectionDiv, regionKey);\n            AST.setElementHTML(hiddenDiv, content);\n            sectionDiv.appendChild(hiddenDiv);\n            region.insertIntoDOM(sectionDiv, chart);\n            if (chart.styledMode) {\n                addClass(hiddenDiv, 'highcharts-visually-hidden');\n            }\n            else {\n                visuallyHideElement(hiddenDiv);\n            }\n            unhideChartElementFromAT(chart, hiddenDiv);\n            if (region.afterInserted) {\n                region.afterInserted();\n            }\n        }\n        else {\n            if (sectionDiv.parentNode) {\n                sectionDiv.parentNode.removeChild(sectionDiv);\n            }\n            region.element = null;\n        }\n    };\n    /**\n     * Apply a11y attributes to a screen reader info section\n     * @private\n     * @param {Highcharts.HTMLDOMElement} sectionDiv The section element\n     * @param {string} regionKey Name/key of the region we are setting attrs for\n     */\n    InfoRegionsComponent.prototype.setScreenReaderSectionAttribs = function (sectionDiv, regionKey) {\n        var chart = this.chart, labelText = chart.langFormat('accessibility.screenReaderSection.' + regionKey +\n            'RegionLabel', { chart: chart, chartTitle: getChartTitle(chart) }), sectionId = \"highcharts-screen-reader-region-\".concat(regionKey, \"-\").concat(chart.index);\n        attr(sectionDiv, {\n            id: sectionId,\n            'aria-label': labelText || void 0\n        });\n        // Sections are wrapped to be positioned relatively to chart in case\n        // elements inside are tabbed to.\n        sectionDiv.style.position = 'relative';\n        if (labelText) {\n            sectionDiv.setAttribute('role', chart.options.accessibility.landmarkVerbosity === 'all' ?\n                'region' : 'group');\n        }\n    };\n    /**\n     * @private\n     */\n    InfoRegionsComponent.prototype.defaultBeforeChartFormatter = function () {\n        var chart = this.chart, format = chart.options.accessibility.screenReaderSection\n            .beforeChartFormat;\n        if (!format) {\n            return '';\n        }\n        var axesDesc = this.getAxesDescription(), shouldHaveSonifyBtn = (chart.sonify &&\n            chart.options.sonification &&\n            chart.options.sonification.enabled), sonifyButtonId = 'highcharts-a11y-sonify-data-btn-' +\n            chart.index, dataTableButtonId = 'hc-linkto-highcharts-data-table-' +\n            chart.index, annotationsList = getAnnotationsInfoHTML(chart), annotationsTitleStr = chart.langFormat('accessibility.screenReaderSection.annotations.heading', { chart: chart }), context = {\n            headingTagName: getHeadingTagNameForElement(chart.renderTo),\n            chartTitle: getChartTitle(chart),\n            typeDescription: this.getTypeDescriptionText(),\n            chartSubtitle: this.getSubtitleText(),\n            chartLongdesc: this.getLongdescText(),\n            xAxisDescription: axesDesc.xAxis,\n            yAxisDescription: axesDesc.yAxis,\n            playAsSoundButton: shouldHaveSonifyBtn ?\n                this.getSonifyButtonText(sonifyButtonId) : '',\n            viewTableButton: chart.getCSV ?\n                this.getDataTableButtonText(dataTableButtonId) : '',\n            annotationsTitle: annotationsList ? annotationsTitleStr : '',\n            annotationsList: annotationsList\n        }, formattedString = A11yI18n.i18nFormat(format, context, chart);\n        this.dataTableButtonId = dataTableButtonId;\n        this.sonifyButtonId = sonifyButtonId;\n        return stripEmptyHTMLTags(formattedString);\n    };\n    /**\n     * @private\n     */\n    InfoRegionsComponent.prototype.defaultAfterChartFormatter = function () {\n        var chart = this.chart;\n        var format = chart.options.accessibility.screenReaderSection\n            .afterChartFormat;\n        if (!format) {\n            return '';\n        }\n        var context = { endOfChartMarker: this.getEndOfChartMarkerText() };\n        var formattedString = A11yI18n.i18nFormat(format, context, chart);\n        return stripEmptyHTMLTags(formattedString);\n    };\n    /**\n     * @private\n     */\n    InfoRegionsComponent.prototype.getLinkedDescription = function () {\n        var el = this.linkedDescriptionElement, content = el && el.innerHTML || '';\n        return stripHTMLTagsFromString(content);\n    };\n    /**\n     * @private\n     */\n    InfoRegionsComponent.prototype.getLongdescText = function () {\n        var chartOptions = this.chart.options, captionOptions = chartOptions.caption, captionText = captionOptions && captionOptions.text, linkedDescription = this.getLinkedDescription();\n        return (chartOptions.accessibility.description ||\n            linkedDescription ||\n            captionText ||\n            '');\n    };\n    /**\n     * @private\n     */\n    InfoRegionsComponent.prototype.getTypeDescriptionText = function () {\n        var chart = this.chart;\n        return chart.types ?\n            chart.options.accessibility.typeDescription ||\n                getTypeDescription(chart, chart.types) : '';\n    };\n    /**\n     * @private\n     */\n    InfoRegionsComponent.prototype.getDataTableButtonText = function (buttonId) {\n        var chart = this.chart, buttonText = chart.langFormat('accessibility.table.viewAsDataTableButtonText', { chart: chart, chartTitle: getChartTitle(chart) });\n        return '<button id=\"' + buttonId + '\">' + buttonText + '</button>';\n    };\n    /**\n     * @private\n     */\n    InfoRegionsComponent.prototype.getSonifyButtonText = function (buttonId) {\n        var chart = this.chart;\n        if (chart.options.sonification &&\n            chart.options.sonification.enabled === false) {\n            return '';\n        }\n        var buttonText = chart.langFormat('accessibility.sonification.playAsSoundButtonText', { chart: chart, chartTitle: getChartTitle(chart) });\n        return '<button id=\"' + buttonId + '\">' + buttonText + '</button>';\n    };\n    /**\n     * @private\n     */\n    InfoRegionsComponent.prototype.getSubtitleText = function () {\n        var subtitle = (this.chart.options.subtitle);\n        return stripHTMLTagsFromString(subtitle && subtitle.text || '');\n    };\n    /**\n     * @private\n     */\n    InfoRegionsComponent.prototype.getEndOfChartMarkerText = function () {\n        var chart = this.chart, markerText = chart.langFormat('accessibility.screenReaderSection.endOfChartMarker', { chart: chart }), id = 'highcharts-end-of-chart-marker-' + chart.index;\n        return '<div id=\"' + id + '\">' + markerText + '</div>';\n    };\n    /**\n     * @private\n     * @param {Highcharts.Dictionary<string>} e\n     */\n    InfoRegionsComponent.prototype.onDataTableCreated = function (e) {\n        var chart = this.chart;\n        if (chart.options.accessibility.enabled) {\n            if (this.viewDataTableButton) {\n                this.viewDataTableButton.setAttribute('aria-expanded', 'true');\n            }\n            var attributes = e.tree.attributes || {};\n            attributes.tabindex = -1;\n            attributes.summary = getTableSummary(chart);\n            e.tree.attributes = attributes;\n        }\n    };\n    /**\n     * @private\n     */\n    InfoRegionsComponent.prototype.focusDataTable = function () {\n        var tableDiv = this.dataTableDiv, table = tableDiv && tableDiv.getElementsByTagName('table')[0];\n        if (table && table.focus) {\n            table.focus();\n        }\n    };\n    /**\n     * @private\n     * @param {string} sonifyButtonId\n     */\n    InfoRegionsComponent.prototype.initSonifyButton = function (sonifyButtonId) {\n        var _this = this;\n        var el = this.sonifyButton = getElement(sonifyButtonId);\n        var chart = this.chart;\n        var defaultHandler = function (e) {\n            if (el) {\n                el.setAttribute('aria-hidden', 'true');\n                el.setAttribute('aria-label', '');\n            }\n            e.preventDefault();\n            e.stopPropagation();\n            var announceMsg = chart.langFormat('accessibility.sonification.playAsSoundClickAnnouncement', { chart: chart });\n            _this.announcer.announce(announceMsg);\n            setTimeout(function () {\n                if (el) {\n                    el.removeAttribute('aria-hidden');\n                    el.removeAttribute('aria-label');\n                }\n                if (chart.sonify) {\n                    chart.sonify();\n                }\n            }, 1000); // Delay to let screen reader speak the button press\n        };\n        if (el && chart) {\n            el.setAttribute('tabindex', -1);\n            el.onclick = function (e) {\n                var onPlayAsSoundClick = (chart.options.accessibility &&\n                    chart.options.accessibility.screenReaderSection\n                        .onPlayAsSoundClick);\n                (onPlayAsSoundClick || defaultHandler).call(this, e, chart);\n            };\n        }\n    };\n    /**\n     * Set attribs and handlers for default viewAsDataTable button if exists.\n     * @private\n     * @param {string} tableButtonId\n     */\n    InfoRegionsComponent.prototype.initDataTableButton = function (tableButtonId) {\n        var el = this.viewDataTableButton = getElement(tableButtonId), chart = this.chart, tableId = tableButtonId.replace('hc-linkto-', '');\n        if (el) {\n            attr(el, {\n                tabindex: -1,\n                'aria-expanded': !!getElement(tableId)\n            });\n            el.onclick = chart.options.accessibility\n                .screenReaderSection.onViewDataTableClick ||\n                function () {\n                    chart.viewData();\n                };\n        }\n    };\n    /**\n     * Return object with text description of each of the chart's axes.\n     * @private\n     */\n    InfoRegionsComponent.prototype.getAxesDescription = function () {\n        var chart = this.chart, shouldDescribeColl = function (collectionKey, defaultCondition) {\n            var axes = chart[collectionKey];\n            return axes.length > 1 || axes[0] &&\n                pick(axes[0].options.accessibility &&\n                    axes[0].options.accessibility.enabled, defaultCondition);\n        }, hasNoMap = !!chart.types &&\n            chart.types.indexOf('map') < 0 &&\n            chart.types.indexOf('treemap') < 0 &&\n            chart.types.indexOf('tilemap') < 0, hasCartesian = !!chart.hasCartesianSeries, showXAxes = shouldDescribeColl('xAxis', !chart.angular && hasCartesian && hasNoMap), showYAxes = shouldDescribeColl('yAxis', hasCartesian && hasNoMap), desc = {};\n        if (showXAxes) {\n            desc.xAxis = this.getAxisDescriptionText('xAxis');\n        }\n        if (showYAxes) {\n            desc.yAxis = this.getAxisDescriptionText('yAxis');\n        }\n        return desc;\n    };\n    /**\n     * @private\n     */\n    InfoRegionsComponent.prototype.getAxisDescriptionText = function (collectionKey) {\n        var chart = this.chart;\n        var axes = chart[collectionKey];\n        return chart.langFormat('accessibility.axis.' + collectionKey + 'Description' + (axes.length > 1 ? 'Plural' : 'Singular'), {\n            chart: chart,\n            names: axes.map(function (axis) {\n                return getAxisDescription(axis);\n            }),\n            ranges: axes.map(function (axis) {\n                return getAxisRangeDescription(axis);\n            }),\n            numAxes: axes.length\n        });\n    };\n    /**\n     * Remove component traces\n     */\n    InfoRegionsComponent.prototype.destroy = function () {\n        if (this.announcer) {\n            this.announcer.destroy();\n        }\n    };\n    return InfoRegionsComponent;\n}(AccessibilityComponent));\n/* *\n *\n *  Default Export\n *\n * */\nexport default InfoRegionsComponent;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Accessibility component for exporting menu.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport Chart from '../../Core/Chart/Chart.js';\nimport U from '../../Core/Utilities.js';\nvar attr = U.attr;\nimport AccessibilityComponent from '../AccessibilityComponent.js';\nimport KeyboardNavigationHandler from '../KeyboardNavigationHandler.js';\nimport ChartUtilities from '../Utils/ChartUtilities.js';\nvar getChartTitle = ChartUtilities.getChartTitle, unhideChartElementFromAT = ChartUtilities.unhideChartElementFromAT;\nimport HTMLUtilities from '../Utils/HTMLUtilities.js';\nvar getFakeMouseEvent = HTMLUtilities.getFakeMouseEvent;\n/* *\n *\n *  Functions\n *\n * */\n/* eslint-disable valid-jsdoc */\n/**\n * Get the wrapped export button element of a chart.\n * @private\n */\nfunction getExportMenuButtonElement(chart) {\n    return chart.exportSVGElements && chart.exportSVGElements[0];\n}\n/**\n * @private\n */\nfunction exportingShouldHaveA11y(chart) {\n    var exportingOpts = chart.options.exporting, exportButton = getExportMenuButtonElement(chart);\n    return !!(exportingOpts &&\n        exportingOpts.enabled !== false &&\n        exportingOpts.accessibility &&\n        exportingOpts.accessibility.enabled &&\n        exportButton &&\n        exportButton.element);\n}\n/* *\n *\n *  Class\n *\n * */\n/**\n * The MenuComponent class\n *\n * @private\n * @class\n * @name Highcharts.MenuComponent\n */\nvar MenuComponent = /** @class */ (function (_super) {\n    __extends(MenuComponent, _super);\n    function MenuComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * Init the component\n     */\n    MenuComponent.prototype.init = function () {\n        var chart = this.chart, component = this;\n        this.addEvent(chart, 'exportMenuShown', function () {\n            component.onMenuShown();\n        });\n        this.addEvent(chart, 'exportMenuHidden', function () {\n            component.onMenuHidden();\n        });\n        this.createProxyGroup();\n    };\n    /**\n     * @private\n     */\n    MenuComponent.prototype.onMenuHidden = function () {\n        var menu = this.chart.exportContextMenu;\n        if (menu) {\n            menu.setAttribute('aria-hidden', 'true');\n        }\n        this.setExportButtonExpandedState('false');\n    };\n    /**\n     * @private\n     */\n    MenuComponent.prototype.onMenuShown = function () {\n        var chart = this.chart, menu = chart.exportContextMenu;\n        if (menu) {\n            this.addAccessibleContextMenuAttribs();\n            unhideChartElementFromAT(chart, menu);\n        }\n        this.setExportButtonExpandedState('true');\n    };\n    /**\n     * @private\n     * @param {string} stateStr\n     */\n    MenuComponent.prototype.setExportButtonExpandedState = function (stateStr) {\n        if (this.exportButtonProxy) {\n            this.exportButtonProxy.buttonElement.setAttribute('aria-expanded', stateStr);\n        }\n    };\n    /**\n     * Called on each render of the chart. We need to update positioning of the\n     * proxy overlay.\n     */\n    MenuComponent.prototype.onChartRender = function () {\n        var chart = this.chart, focusEl = chart.focusElement, a11y = chart.accessibility;\n        this.proxyProvider.clearGroup('chartMenu');\n        this.proxyMenuButton();\n        if (this.exportButtonProxy &&\n            focusEl &&\n            focusEl === chart.exportingGroup) {\n            if (focusEl.focusBorder) {\n                chart.setFocusToElement(focusEl, this.exportButtonProxy.buttonElement);\n            }\n            else if (a11y) {\n                a11y.keyboardNavigation.tabindexContainer.focus();\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    MenuComponent.prototype.proxyMenuButton = function () {\n        var chart = this.chart;\n        var proxyProvider = this.proxyProvider;\n        var buttonEl = getExportMenuButtonElement(chart);\n        if (exportingShouldHaveA11y(chart) && buttonEl) {\n            this.exportButtonProxy = proxyProvider.addProxyElement('chartMenu', { click: buttonEl }, {\n                'aria-label': chart.langFormat('accessibility.exporting.menuButtonLabel', {\n                    chart: chart,\n                    chartTitle: getChartTitle(chart)\n                }),\n                'aria-expanded': false,\n                title: chart.options.lang.contextButtonTitle || null\n            });\n        }\n    };\n    /**\n     * @private\n     */\n    MenuComponent.prototype.createProxyGroup = function () {\n        var chart = this.chart;\n        if (chart && this.proxyProvider) {\n            this.proxyProvider.addGroup('chartMenu', 'div');\n        }\n    };\n    /**\n     * @private\n     */\n    MenuComponent.prototype.addAccessibleContextMenuAttribs = function () {\n        var chart = this.chart, exportList = chart.exportDivElements;\n        if (exportList && exportList.length) {\n            // Set tabindex on the menu items to allow focusing by script\n            // Set role to give screen readers a chance to pick up the contents\n            exportList.forEach(function (item) {\n                if (item) {\n                    if (item.tagName === 'LI' &&\n                        !(item.children && item.children.length)) {\n                        item.setAttribute('tabindex', -1);\n                    }\n                    else {\n                        item.setAttribute('aria-hidden', 'true');\n                    }\n                }\n            });\n            // Set accessibility properties on parent div\n            var parentDiv = (exportList[0] && exportList[0].parentNode);\n            if (parentDiv) {\n                attr(parentDiv, {\n                    'aria-hidden': void 0,\n                    'aria-label': chart.langFormat('accessibility.exporting.chartMenuLabel', { chart: chart }),\n                    role: 'list' // Needed for webkit/VO\n                });\n            }\n        }\n    };\n    /**\n     * Get keyboard navigation handler for this component.\n     * @private\n     */\n    MenuComponent.prototype.getKeyboardNavigation = function () {\n        var keys = this.keyCodes, chart = this.chart, component = this;\n        return new KeyboardNavigationHandler(chart, {\n            keyCodeMap: [\n                // Arrow prev handler\n                [\n                    [keys.left, keys.up],\n                    function () {\n                        return component.onKbdPrevious(this);\n                    }\n                ],\n                // Arrow next handler\n                [\n                    [keys.right, keys.down],\n                    function () {\n                        return component.onKbdNext(this);\n                    }\n                ],\n                // Click handler\n                [\n                    [keys.enter, keys.space],\n                    function () {\n                        return component.onKbdClick(this);\n                    }\n                ]\n            ],\n            // Only run exporting navigation if exporting support exists and is\n            // enabled on chart\n            validate: function () {\n                return !!chart.exporting &&\n                    chart.options.exporting.enabled !== false &&\n                    chart.options.exporting.accessibility.enabled !==\n                        false;\n            },\n            // Focus export menu button\n            init: function () {\n                var proxy = component.exportButtonProxy;\n                var svgEl = component.chart.exportingGroup;\n                if (proxy && svgEl) {\n                    chart.setFocusToElement(svgEl, proxy.buttonElement);\n                }\n            },\n            // Hide the menu\n            terminate: function () {\n                chart.hideExportMenu();\n            }\n        });\n    };\n    /**\n     * @private\n     * @param {Highcharts.KeyboardNavigationHandler} keyboardNavigationHandler\n     * @return {number} Response code\n     */\n    MenuComponent.prototype.onKbdPrevious = function (keyboardNavigationHandler) {\n        var chart = this.chart;\n        var a11yOptions = chart.options.accessibility;\n        var response = keyboardNavigationHandler.response;\n        // Try to highlight prev item in list. Highlighting e.g.\n        // separators will fail.\n        var i = chart.highlightedExportItemIx || 0;\n        while (i--) {\n            if (chart.highlightExportItem(i)) {\n                return response.success;\n            }\n        }\n        // We failed, so wrap around or move to prev module\n        if (a11yOptions.keyboardNavigation.wrapAround) {\n            chart.highlightLastExportItem();\n            return response.success;\n        }\n        return response.prev;\n    };\n    /**\n     * @private\n     * @param {Highcharts.KeyboardNavigationHandler} keyboardNavigationHandler\n     * @return {number} Response code\n     */\n    MenuComponent.prototype.onKbdNext = function (keyboardNavigationHandler) {\n        var chart = this.chart;\n        var a11yOptions = chart.options.accessibility;\n        var response = keyboardNavigationHandler.response;\n        // Try to highlight next item in list. Highlighting e.g.\n        // separators will fail.\n        for (var i = (chart.highlightedExportItemIx || 0) + 1; i < chart.exportDivElements.length; ++i) {\n            if (chart.highlightExportItem(i)) {\n                return response.success;\n            }\n        }\n        // We failed, so wrap around or move to next module\n        if (a11yOptions.keyboardNavigation.wrapAround) {\n            chart.highlightExportItem(0);\n            return response.success;\n        }\n        return response.next;\n    };\n    /**\n     * @private\n     * @param {Highcharts.KeyboardNavigationHandler} keyboardNavigationHandler\n     * @return {number} Response code\n     */\n    MenuComponent.prototype.onKbdClick = function (keyboardNavigationHandler) {\n        var chart = this.chart;\n        var curHighlightedItem = chart.exportDivElements[chart.highlightedExportItemIx];\n        var exportButtonElement = getExportMenuButtonElement(chart).element;\n        if (chart.openMenu) {\n            this.fakeClickEvent(curHighlightedItem);\n        }\n        else {\n            this.fakeClickEvent(exportButtonElement);\n            chart.highlightExportItem(0);\n        }\n        return keyboardNavigationHandler.response.success;\n    };\n    return MenuComponent;\n}(AccessibilityComponent));\n/* *\n *\n *  Class Namespace\n *\n * */\n(function (MenuComponent) {\n    /* *\n     *\n     *  Declarations\n     *\n     * */\n    /* *\n     *\n     *  Constants\n     *\n     * */\n    var composedClasses = [];\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * @private\n     */\n    function compose(ChartClass) {\n        if (composedClasses.indexOf(ChartClass) === -1) {\n            composedClasses.push(ChartClass);\n            var chartProto = Chart.prototype;\n            chartProto.hideExportMenu = chartHideExportMenu;\n            chartProto.highlightExportItem = chartHighlightExportItem;\n            chartProto.highlightLastExportItem = chartHighlightLastExportItem;\n            chartProto.showExportMenu = chartShowExportMenu;\n        }\n    }\n    MenuComponent.compose = compose;\n    /**\n     * Show the export menu and focus the first item (if exists).\n     *\n     * @private\n     * @function Highcharts.Chart#showExportMenu\n     */\n    function chartShowExportMenu() {\n        var exportButton = getExportMenuButtonElement(this);\n        if (exportButton) {\n            var el = exportButton.element;\n            if (el.onclick) {\n                el.onclick(getFakeMouseEvent('click'));\n            }\n        }\n    }\n    /**\n     * @private\n     * @function Highcharts.Chart#hideExportMenu\n     */\n    function chartHideExportMenu() {\n        var chart = this, exportList = chart.exportDivElements;\n        if (exportList && chart.exportContextMenu && chart.openMenu) {\n            // Reset hover states etc.\n            exportList.forEach(function (el) {\n                if (el &&\n                    el.className === 'highcharts-menu-item' &&\n                    el.onmouseout) {\n                    el.onmouseout(getFakeMouseEvent('mouseout'));\n                }\n            });\n            chart.highlightedExportItemIx = 0;\n            // Hide the menu div\n            chart.exportContextMenu.hideMenu();\n            // Make sure the chart has focus and can capture keyboard events\n            chart.container.focus();\n        }\n    }\n    /**\n     * Highlight export menu item by index.\n     *\n     * @private\n     * @function Highcharts.Chart#highlightExportItem\n     */\n    function chartHighlightExportItem(ix) {\n        var listItem = this.exportDivElements && this.exportDivElements[ix];\n        var curHighlighted = this.exportDivElements &&\n            this.exportDivElements[this.highlightedExportItemIx];\n        if (listItem &&\n            listItem.tagName === 'LI' &&\n            !(listItem.children && listItem.children.length)) {\n            // Test if we have focus support for SVG elements\n            var hasSVGFocusSupport = !!(this.renderTo.getElementsByTagName('g')[0] || {}).focus;\n            // Only focus if we can set focus back to the elements after\n            // destroying the menu (#7422)\n            if (listItem.focus && hasSVGFocusSupport) {\n                listItem.focus();\n            }\n            if (curHighlighted && curHighlighted.onmouseout) {\n                curHighlighted.onmouseout(getFakeMouseEvent('mouseout'));\n            }\n            if (listItem.onmouseover) {\n                listItem.onmouseover(getFakeMouseEvent('mouseover'));\n            }\n            this.highlightedExportItemIx = ix;\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Try to highlight the last valid export menu item.\n     *\n     * @private\n     * @function Highcharts.Chart#highlightLastExportItem\n     */\n    function chartHighlightLastExportItem() {\n        var chart = this;\n        if (chart.exportDivElements) {\n            var i = chart.exportDivElements.length;\n            while (i--) {\n                if (chart.highlightExportItem(i)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n})(MenuComponent || (MenuComponent = {}));\n/* *\n *\n *  Default Export\n *\n * */\nexport default MenuComponent;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Main keyboard navigation handling.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport H from '../Core/Globals.js';\nvar doc = H.doc, win = H.win;\nimport MenuComponent from './Components/MenuComponent.js';\nimport U from '../Core/Utilities.js';\nvar addEvent = U.addEvent, fireEvent = U.fireEvent;\nimport EventProvider from './Utils/EventProvider.js';\nimport HTMLUtilities from './Utils/HTMLUtilities.js';\nvar getElement = HTMLUtilities.getElement, simulatedEventTarget = HTMLUtilities.simulatedEventTarget;\n/* *\n *\n *  Class\n *\n * */\n/**\n * The KeyboardNavigation class, containing the overall keyboard navigation\n * logic for the chart.\n *\n * @requires module:modules/accessibility\n *\n * @private\n * @class\n * @param {Highcharts.Chart} chart\n *        Chart object\n * @param {Object} components\n *        Map of component names to AccessibilityComponent objects.\n * @name Highcharts.KeyboardNavigation\n */\nvar KeyboardNavigation = /** @class */ (function () {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    function KeyboardNavigation(chart, components) {\n        /* *\n         *\n         *  Properties\n         *\n         * */\n        this.chart = void 0;\n        this.components = void 0;\n        this.currentModuleIx = NaN;\n        this.eventProvider = void 0;\n        this.exitAnchor = void 0;\n        this.modules = [];\n        this.tabindexContainer = void 0;\n        this.init(chart, components);\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * Initialize the class\n     * @private\n     * @param {Highcharts.Chart} chart\n     *        Chart object\n     * @param {Object} components\n     *        Map of component names to AccessibilityComponent objects.\n     */\n    KeyboardNavigation.prototype.init = function (chart, components) {\n        var _this = this;\n        var ep = this.eventProvider = new EventProvider();\n        this.chart = chart;\n        this.components = components;\n        this.modules = [];\n        this.currentModuleIx = 0;\n        this.update();\n        ep.addEvent(this.tabindexContainer, 'keydown', function (e) { return _this.onKeydown(e); });\n        ep.addEvent(this.tabindexContainer, 'focus', function (e) { return _this.onFocus(e); });\n        ['mouseup', 'touchend'].forEach(function (eventName) {\n            return ep.addEvent(doc, eventName, function (e) { return _this.onMouseUp(e); });\n        });\n        ['mousedown', 'touchstart'].forEach(function (eventName) {\n            return ep.addEvent(chart.renderTo, eventName, function () {\n                _this.isClickingChart = true;\n            });\n        });\n        ep.addEvent(chart.renderTo, 'mouseover', function () {\n            _this.pointerIsOverChart = true;\n        });\n        ep.addEvent(chart.renderTo, 'mouseout', function () {\n            _this.pointerIsOverChart = false;\n        });\n    };\n    /**\n     * Update the modules for the keyboard navigation.\n     * @param {Array<string>} [order]\n     *        Array specifying the tab order of the components.\n     */\n    KeyboardNavigation.prototype.update = function (order) {\n        var a11yOptions = this.chart.options.accessibility, keyboardOptions = a11yOptions && a11yOptions.keyboardNavigation, components = this.components;\n        this.updateContainerTabindex();\n        if (keyboardOptions &&\n            keyboardOptions.enabled &&\n            order &&\n            order.length) {\n            // We (still) have keyboard navigation. Update module list\n            this.modules = order.reduce(function (modules, componentName) {\n                var navModules = components[componentName]\n                    .getKeyboardNavigation();\n                return modules.concat(navModules);\n            }, []);\n            this.updateExitAnchor();\n        }\n        else {\n            this.modules = [];\n            this.currentModuleIx = 0;\n            this.removeExitAnchor();\n        }\n    };\n    /**\n     * We use an exit anchor to move focus out of chart whenever we want, by\n     * setting focus to this div and not preventing the default tab action. We\n     * also use this when users come back into the chart by tabbing back, in\n     * order to navigate from the end of the chart.\n     * @private\n     */\n    KeyboardNavigation.prototype.updateExitAnchor = function () {\n        var endMarkerId = \"highcharts-end-of-chart-marker-\".concat(this.chart.index), endMarker = getElement(endMarkerId);\n        this.removeExitAnchor();\n        if (endMarker) {\n            this.makeElementAnExitAnchor(endMarker);\n            this.exitAnchor = endMarker;\n        }\n        else {\n            this.createExitAnchor();\n        }\n    };\n    /**\n     * Move to prev/next module.\n     * @private\n     * @param {number} direction\n     * Direction to move. +1 for next, -1 for prev.\n     * @return {boolean}\n     * True if there was a valid module in direction.\n     */\n    KeyboardNavigation.prototype.move = function (direction) {\n        var curModule = this.modules && this.modules[this.currentModuleIx];\n        if (curModule && curModule.terminate) {\n            curModule.terminate(direction);\n        }\n        // Remove existing focus border if any\n        if (this.chart.focusElement) {\n            this.chart.focusElement.removeFocusBorder();\n        }\n        this.currentModuleIx += direction;\n        var newModule = this.modules && this.modules[this.currentModuleIx];\n        if (newModule) {\n            if (newModule.validate && !newModule.validate()) {\n                return this.move(direction); // Invalid module, recurse\n            }\n            if (newModule.init) {\n                newModule.init(direction); // Valid module, init it\n                return true;\n            }\n        }\n        // No module\n        this.currentModuleIx = 0; // Reset counter\n        // Set focus to chart or exit anchor depending on direction\n        this.exiting = true;\n        if (direction > 0) {\n            this.exitAnchor && this.exitAnchor.focus();\n        }\n        else {\n            this.tabindexContainer.focus();\n        }\n        return false;\n    };\n    /**\n     * Function to run on container focus\n     * @private\n     * @param {global.FocusEvent} e Browser focus event.\n     */\n    KeyboardNavigation.prototype.onFocus = function (e) {\n        var chart = this.chart;\n        var focusComesFromChart = (e.relatedTarget &&\n            chart.container.contains(e.relatedTarget));\n        // Init keyboard nav if tabbing into chart\n        if (!this.exiting &&\n            !this.tabbingInBackwards &&\n            !this.isClickingChart &&\n            !focusComesFromChart) {\n            var ix = this.getFirstValidModuleIx();\n            if (ix !== null) {\n                this.currentModuleIx = ix;\n                this.modules[ix].init(1);\n            }\n        }\n        this.exiting = false;\n    };\n    /**\n     * Reset chart navigation state if we mouse click and it's not already\n     * reset. Reset fully if outside the chart, otherwise just hide focus\n     * indicator.\n     * @private\n     */\n    KeyboardNavigation.prototype.onMouseUp = function (e) {\n        delete this.isClickingChart;\n        if (!this.keyboardReset &&\n            e.relatedTarget !== simulatedEventTarget) {\n            var chart = this.chart;\n            if (!this.pointerIsOverChart) {\n                var curMod = this.modules &&\n                    this.modules[this.currentModuleIx || 0];\n                if (curMod && curMod.terminate) {\n                    curMod.terminate();\n                }\n                this.currentModuleIx = 0;\n            }\n            if (chart.focusElement) {\n                chart.focusElement.removeFocusBorder();\n                delete chart.focusElement;\n            }\n            this.keyboardReset = true;\n        }\n    };\n    /**\n     * Function to run on keydown\n     * @private\n     * @param {global.KeyboardEvent} ev Browser keydown event.\n     */\n    KeyboardNavigation.prototype.onKeydown = function (ev) {\n        var e = ev || win.event, curNavModule = (this.modules &&\n            this.modules.length &&\n            this.modules[this.currentModuleIx]);\n        var preventDefault;\n        // Used for resetting nav state when clicking outside chart\n        this.keyboardReset = false;\n        // Used for sending focus out of the chart by the modules.\n        this.exiting = false;\n        // If there is a nav module for the current index, run it.\n        // Otherwise, we are outside of the chart in some direction.\n        if (curNavModule) {\n            var response = curNavModule.run(e);\n            if (response === curNavModule.response.success) {\n                preventDefault = true;\n            }\n            else if (response === curNavModule.response.prev) {\n                preventDefault = this.move(-1);\n            }\n            else if (response === curNavModule.response.next) {\n                preventDefault = this.move(1);\n            }\n            if (preventDefault) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        }\n    };\n    /**\n     * Chart container should have tabindex if navigation is enabled.\n     * @private\n     */\n    KeyboardNavigation.prototype.updateContainerTabindex = function () {\n        var a11yOptions = this.chart.options.accessibility, keyboardOptions = a11yOptions && a11yOptions.keyboardNavigation, shouldHaveTabindex = !(keyboardOptions && keyboardOptions.enabled === false), chart = this.chart, container = chart.container;\n        var tabindexContainer;\n        if (chart.renderTo.hasAttribute('tabindex')) {\n            container.removeAttribute('tabindex');\n            tabindexContainer = chart.renderTo;\n        }\n        else {\n            tabindexContainer = container;\n        }\n        this.tabindexContainer = tabindexContainer;\n        var curTabindex = tabindexContainer.getAttribute('tabindex');\n        if (shouldHaveTabindex && !curTabindex) {\n            tabindexContainer.setAttribute('tabindex', '0');\n        }\n        else if (!shouldHaveTabindex) {\n            chart.container.removeAttribute('tabindex');\n        }\n    };\n    /**\n     * Add new exit anchor to the chart.\n     * @private\n     */\n    KeyboardNavigation.prototype.createExitAnchor = function () {\n        var chart = this.chart, exitAnchor = this.exitAnchor = doc.createElement('div');\n        chart.renderTo.appendChild(exitAnchor);\n        this.makeElementAnExitAnchor(exitAnchor);\n    };\n    /**\n     * Add attributes and events to an element to make it function as an\n     * exit anchor.\n     * @private\n     */\n    KeyboardNavigation.prototype.makeElementAnExitAnchor = function (el) {\n        var chartTabindex = this.tabindexContainer.getAttribute('tabindex') || 0;\n        el.setAttribute('class', 'highcharts-exit-anchor');\n        el.setAttribute('tabindex', chartTabindex);\n        el.setAttribute('aria-hidden', false);\n        // Handle focus\n        this.addExitAnchorEventsToEl(el);\n    };\n    /**\n     * Destroy the exit anchor and remove from DOM.\n     * @private\n     */\n    KeyboardNavigation.prototype.removeExitAnchor = function () {\n        if (this.exitAnchor && this.exitAnchor.parentNode) {\n            this.exitAnchor.parentNode.removeChild(this.exitAnchor);\n            delete this.exitAnchor;\n        }\n    };\n    /**\n     * Add focus handler to exit anchor element.\n     * @private\n     */\n    KeyboardNavigation.prototype.addExitAnchorEventsToEl = function (element) {\n        var chart = this.chart, keyboardNavigation = this;\n        this.eventProvider.addEvent(element, 'focus', function (ev) {\n            var e = ev || win.event, focusComesFromChart = (e.relatedTarget &&\n                chart.container.contains(e.relatedTarget)), comingInBackwards = !(focusComesFromChart || keyboardNavigation.exiting);\n            if (chart.focusElement) {\n                delete chart.focusElement;\n            }\n            if (comingInBackwards) {\n                // Focus the container instead\n                keyboardNavigation.tabbingInBackwards = true;\n                keyboardNavigation.tabindexContainer.focus();\n                delete keyboardNavigation.tabbingInBackwards;\n                e.preventDefault();\n                // Move to last valid keyboard nav module\n                // Note the we don't run it, just set the index\n                if (keyboardNavigation.modules &&\n                    keyboardNavigation.modules.length) {\n                    keyboardNavigation.currentModuleIx =\n                        keyboardNavigation.modules.length - 1;\n                    var curModule = keyboardNavigation.modules[keyboardNavigation.currentModuleIx];\n                    // Validate the module\n                    if (curModule &&\n                        curModule.validate && !curModule.validate()) {\n                        // Invalid. Try moving backwards to find next valid.\n                        keyboardNavigation.move(-1);\n                    }\n                    else if (curModule) {\n                        // We have a valid module, init it\n                        curModule.init(-1);\n                    }\n                }\n            }\n            else {\n                // Don't skip the next focus, we only skip once.\n                keyboardNavigation.exiting = false;\n            }\n        });\n    };\n    /**\n     * Get the ix of the first module that either does not require validation or\n     * validates positively.\n     * @private\n     */\n    KeyboardNavigation.prototype.getFirstValidModuleIx = function () {\n        var len = this.modules.length;\n        for (var i = 0; i < len; ++i) {\n            var mod = this.modules[i];\n            if (!mod.validate || mod.validate()) {\n                return i;\n            }\n        }\n        return null;\n    };\n    /**\n     * Remove all traces of keyboard navigation.\n     * @private\n     */\n    KeyboardNavigation.prototype.destroy = function () {\n        this.removeExitAnchor();\n        this.eventProvider.removeAddedEvents();\n        this.chart.container.removeAttribute('tabindex');\n    };\n    return KeyboardNavigation;\n}());\n/* *\n *\n *  Class Namespace\n *\n * */\n(function (KeyboardNavigation) {\n    /* *\n     *\n     *  Declarations\n     *\n     * */\n    /* *\n     *\n     *  Construction\n     *\n     * */\n    var composedItems = [];\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * Composition function.\n     * @private\n     */\n    function compose(ChartClass) {\n        MenuComponent.compose(ChartClass);\n        if (composedItems.indexOf(ChartClass) === -1) {\n            composedItems.push(ChartClass);\n            var chartProto = ChartClass.prototype;\n            chartProto.dismissPopupContent = chartDismissPopupContent;\n        }\n        if (composedItems.indexOf(doc) === -1) {\n            composedItems.push(doc);\n            addEvent(doc, 'keydown', documentOnKeydown);\n        }\n        return ChartClass;\n    }\n    KeyboardNavigation.compose = compose;\n    /**\n     * Dismiss popup content in chart, including export menu and tooltip.\n     * @private\n     */\n    function chartDismissPopupContent() {\n        var chart = this;\n        fireEvent(this, 'dismissPopupContent', {}, function () {\n            if (chart.tooltip) {\n                chart.tooltip.hide(0);\n            }\n            chart.hideExportMenu();\n        });\n    }\n    /**\n     * Add event listener to document to detect ESC key press and dismiss\n     * hover/popup content.\n     * @private\n     */\n    function documentOnKeydown(e) {\n        var keycode = e.which || e.keyCode;\n        var esc = 27;\n        if (keycode === esc && H.charts) {\n            H.charts.forEach(function (chart) {\n                if (chart && chart.dismissPopupContent) {\n                    chart.dismissPopupContent();\n                }\n            });\n        }\n    }\n})(KeyboardNavigation || (KeyboardNavigation = {}));\n/* *\n *\n *  Default Export\n *\n * */\nexport default KeyboardNavigation;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Accessibility component for chart legend.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport A from '../../Core/Animation/AnimationUtilities.js';\nvar animObject = A.animObject;\nimport H from '../../Core/Globals.js';\nvar doc = H.doc;\nimport Legend from '../../Core/Legend/Legend.js';\nimport U from '../../Core/Utilities.js';\nvar addEvent = U.addEvent, fireEvent = U.fireEvent, isNumber = U.isNumber, pick = U.pick, syncTimeout = U.syncTimeout;\nimport AccessibilityComponent from '../AccessibilityComponent.js';\nimport KeyboardNavigationHandler from '../KeyboardNavigationHandler.js';\nimport CU from '../Utils/ChartUtilities.js';\nvar getChartTitle = CU.getChartTitle;\nimport HU from '../Utils/HTMLUtilities.js';\nvar stripHTMLTags = HU.stripHTMLTagsFromString, addClass = HU.addClass, removeClass = HU.removeClass;\n/* *\n *\n *  Functions\n *\n * */\n/**\n * @private\n */\nfunction scrollLegendToItem(legend, itemIx) {\n    var itemPage = (legend.allItems[itemIx].legendItem || {}).pageIx, curPage = legend.currentPage;\n    if (typeof itemPage !== 'undefined' && itemPage + 1 !== curPage) {\n        legend.scroll(1 + itemPage - curPage);\n    }\n}\n/**\n * @private\n */\nfunction shouldDoLegendA11y(chart) {\n    var items = chart.legend && chart.legend.allItems, legendA11yOptions = (chart.options.legend.accessibility || {}), unsupportedColorAxis = chart.colorAxis && chart.colorAxis.some(function (c) { return !c.dataClasses || !c.dataClasses.length; });\n    return !!(items && items.length &&\n        !unsupportedColorAxis &&\n        legendA11yOptions.enabled !== false);\n}\n/**\n * @private\n */\nfunction setLegendItemHoverState(hoverActive, item) {\n    var legendItem = item.legendItem || {};\n    item.setState(hoverActive ? 'hover' : '', true);\n    for (var _i = 0, _a = ['group', 'label', 'symbol']; _i < _a.length; _i++) {\n        var key = _a[_i];\n        var svgElement = legendItem[key];\n        var element = svgElement && svgElement.element || svgElement;\n        if (element) {\n            fireEvent(element, hoverActive ? 'mouseover' : 'mouseout');\n        }\n    }\n}\n/* *\n *\n *  Class\n *\n * */\n/**\n * The LegendComponent class\n *\n * @private\n * @class\n * @name Highcharts.LegendComponent\n */\nvar LegendComponent = /** @class */ (function (_super) {\n    __extends(LegendComponent, _super);\n    function LegendComponent() {\n        /* *\n         *\n         *  Properties\n         *\n         * */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.highlightedLegendItemIx = NaN;\n        _this.proxyGroup = null;\n        return _this;\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Init the component\n     * @private\n     */\n    LegendComponent.prototype.init = function () {\n        var component = this;\n        this.recreateProxies();\n        // Note: Chart could create legend dynamically, so events cannot be\n        // tied to the component's chart's current legend.\n        // @todo 1. attach component to created legends\n        // @todo 2. move listeners to composition and access `this.component`\n        this.addEvent(Legend, 'afterScroll', function () {\n            if (this.chart === component.chart) {\n                component.proxyProvider.updateGroupProxyElementPositions('legend');\n                component.updateLegendItemProxyVisibility();\n                if (component.highlightedLegendItemIx > -1) {\n                    this.chart.highlightLegendItem(component.highlightedLegendItemIx);\n                }\n            }\n        });\n        this.addEvent(Legend, 'afterPositionItem', function (e) {\n            if (this.chart === component.chart && this.chart.renderer) {\n                component.updateProxyPositionForItem(e.item);\n            }\n        });\n        this.addEvent(Legend, 'afterRender', function () {\n            if (this.chart === component.chart &&\n                this.chart.renderer &&\n                component.recreateProxies()) {\n                syncTimeout(function () { return component.proxyProvider\n                    .updateGroupProxyElementPositions('legend'); }, animObject(pick(this.chart.renderer.globalAnimation, true)).duration);\n            }\n        });\n    };\n    /**\n     * Update visibility of legend items when using paged legend\n     * @private\n     */\n    LegendComponent.prototype.updateLegendItemProxyVisibility = function () {\n        var chart = this.chart;\n        var legend = chart.legend;\n        var items = legend.allItems || [];\n        var curPage = legend.currentPage || 1;\n        var clipHeight = legend.clipHeight || 0;\n        var legendItem;\n        items.forEach(function (item) {\n            if (item.a11yProxyElement) {\n                var hasPages = legend.pages && legend.pages.length;\n                var proxyEl = item.a11yProxyElement.element;\n                var hide = false;\n                legendItem = item.legendItem || {};\n                if (hasPages) {\n                    var itemPage = legendItem.pageIx || 0;\n                    var y = legendItem.y || 0;\n                    var h = legendItem.label ?\n                        Math.round(legendItem.label.getBBox().height) :\n                        0;\n                    hide = y + h - legend.pages[itemPage] > clipHeight ||\n                        itemPage !== curPage - 1;\n                }\n                if (hide) {\n                    if (chart.styledMode) {\n                        addClass(proxyEl, 'highcharts-a11y-invisible');\n                    }\n                    else {\n                        proxyEl.style.visibility = 'hidden';\n                    }\n                }\n                else {\n                    removeClass(proxyEl, 'highcharts-a11y-invisible');\n                    proxyEl.style.visibility = '';\n                }\n            }\n        });\n    };\n    /**\n     * @private\n     */\n    LegendComponent.prototype.onChartRender = function () {\n        if (!shouldDoLegendA11y(this.chart)) {\n            this.removeProxies();\n        }\n    };\n    /**\n     * @private\n     */\n    LegendComponent.prototype.highlightAdjacentLegendPage = function (direction) {\n        var chart = this.chart;\n        var legend = chart.legend;\n        var curPageIx = legend.currentPage || 1;\n        var newPageIx = curPageIx + direction;\n        var pages = legend.pages || [];\n        if (newPageIx > 0 && newPageIx <= pages.length) {\n            var i = 0, res = void 0;\n            for (var _i = 0, _a = legend.allItems; _i < _a.length; _i++) {\n                var item = _a[_i];\n                if (((item.legendItem || {}).pageIx || 0) + 1 === newPageIx) {\n                    res = chart.highlightLegendItem(i);\n                    if (res) {\n                        this.highlightedLegendItemIx = i;\n                    }\n                }\n                ++i;\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    LegendComponent.prototype.updateProxyPositionForItem = function (item) {\n        if (item.a11yProxyElement) {\n            item.a11yProxyElement.refreshPosition();\n        }\n    };\n    /**\n     * Returns false if legend a11y is disabled and proxies were not created,\n     * true otherwise.\n     * @private\n     */\n    LegendComponent.prototype.recreateProxies = function () {\n        var focusedElement = doc.activeElement;\n        var proxyGroup = this.proxyGroup;\n        var shouldRestoreFocus = focusedElement && proxyGroup &&\n            proxyGroup.contains(focusedElement);\n        this.removeProxies();\n        if (shouldDoLegendA11y(this.chart)) {\n            this.addLegendProxyGroup();\n            this.proxyLegendItems();\n            this.updateLegendItemProxyVisibility();\n            this.updateLegendTitle();\n            if (shouldRestoreFocus) {\n                this.chart.highlightLegendItem(this.highlightedLegendItemIx);\n            }\n            return true;\n        }\n        return false;\n    };\n    /**\n     * @private\n     */\n    LegendComponent.prototype.removeProxies = function () {\n        this.proxyProvider.removeGroup('legend');\n    };\n    /**\n     * @private\n     */\n    LegendComponent.prototype.updateLegendTitle = function () {\n        var chart = this.chart;\n        var legendTitle = stripHTMLTags((chart.legend &&\n            chart.legend.options.title &&\n            chart.legend.options.title.text ||\n            '').replace(/<br ?\\/?>/g, ' '));\n        var legendLabel = chart.langFormat('accessibility.legend.legendLabel' + (legendTitle ? '' : 'NoTitle'), {\n            chart: chart,\n            legendTitle: legendTitle,\n            chartTitle: getChartTitle(chart)\n        });\n        this.proxyProvider.updateGroupAttrs('legend', {\n            'aria-label': legendLabel\n        });\n    };\n    /**\n     * @private\n     */\n    LegendComponent.prototype.addLegendProxyGroup = function () {\n        var a11yOptions = this.chart.options.accessibility;\n        var groupRole = a11yOptions.landmarkVerbosity === 'all' ?\n            'region' : null;\n        this.proxyGroup = this.proxyProvider.addGroup('legend', 'ul', {\n            // Filled by updateLegendTitle, to keep up to date without\n            // recreating group\n            'aria-label': '_placeholder_',\n            role: groupRole\n        });\n    };\n    /**\n     * @private\n     */\n    LegendComponent.prototype.proxyLegendItems = function () {\n        var component = this, items = (this.chart.legend || {}).allItems || [];\n        var legendItem;\n        items.forEach(function (item) {\n            legendItem = item.legendItem || {};\n            if (legendItem.label && legendItem.label.element) {\n                component.proxyLegendItem(item);\n            }\n        });\n    };\n    /**\n     * @private\n     * @param {Highcharts.BubbleLegendItem|Point|Highcharts.Series} item\n     */\n    LegendComponent.prototype.proxyLegendItem = function (item) {\n        var legendItem = item.legendItem || {};\n        if (!legendItem.label || !legendItem.group) {\n            return;\n        }\n        var itemLabel = this.chart.langFormat('accessibility.legend.legendItem', {\n            chart: this.chart,\n            itemName: stripHTMLTags(item.name),\n            item: item\n        });\n        var attribs = {\n            tabindex: -1,\n            'aria-pressed': item.visible,\n            'aria-label': itemLabel\n        };\n        // Considers useHTML\n        var proxyPositioningElement = legendItem.group.div ?\n            legendItem.label :\n            legendItem.group;\n        item.a11yProxyElement = this.proxyProvider.addProxyElement('legend', {\n            click: legendItem.label,\n            visual: proxyPositioningElement.element\n        }, attribs);\n    };\n    /**\n     * Get keyboard navigation handler for this component.\n     * @private\n     */\n    LegendComponent.prototype.getKeyboardNavigation = function () {\n        var keys = this.keyCodes, component = this, chart = this.chart;\n        return new KeyboardNavigationHandler(chart, {\n            keyCodeMap: [\n                [\n                    [keys.left, keys.right, keys.up, keys.down],\n                    function (keyCode) {\n                        return component.onKbdArrowKey(this, keyCode);\n                    }\n                ],\n                [\n                    [keys.enter, keys.space],\n                    function () {\n                        return component.onKbdClick(this);\n                    }\n                ],\n                [\n                    [keys.pageDown, keys.pageUp],\n                    function (keyCode) {\n                        var direction = keyCode === keys.pageDown ? 1 : -1;\n                        component.highlightAdjacentLegendPage(direction);\n                        return this.response.success;\n                    }\n                ]\n            ],\n            validate: function () {\n                return component.shouldHaveLegendNavigation();\n            },\n            init: function () {\n                chart.highlightLegendItem(0);\n                component.highlightedLegendItemIx = 0;\n            },\n            terminate: function () {\n                component.highlightedLegendItemIx = -1;\n                chart.legend.allItems.forEach(function (item) { return setLegendItemHoverState(false, item); });\n            }\n        });\n    };\n    /**\n     * Arrow key navigation\n     * @private\n     */\n    LegendComponent.prototype.onKbdArrowKey = function (keyboardNavigationHandler, keyCode) {\n        var keys = this.keyCodes, response = keyboardNavigationHandler.response, chart = this.chart, a11yOptions = chart.options.accessibility, numItems = chart.legend.allItems.length, direction = (keyCode === keys.left || keyCode === keys.up) ? -1 : 1;\n        var res = chart.highlightLegendItem(this.highlightedLegendItemIx + direction);\n        if (res) {\n            this.highlightedLegendItemIx += direction;\n            return response.success;\n        }\n        if (numItems > 1 &&\n            a11yOptions.keyboardNavigation.wrapAround) {\n            keyboardNavigationHandler.init(direction);\n            return response.success;\n        }\n        return response.success;\n    };\n    /**\n     * @private\n     * @param {Highcharts.KeyboardNavigationHandler} keyboardNavigationHandler\n     * @return {number} Response code\n     */\n    LegendComponent.prototype.onKbdClick = function (keyboardNavigationHandler) {\n        var legendItem = this.chart.legend.allItems[this.highlightedLegendItemIx];\n        if (legendItem && legendItem.a11yProxyElement) {\n            legendItem.a11yProxyElement.click();\n        }\n        return keyboardNavigationHandler.response.success;\n    };\n    /**\n     * @private\n     */\n    LegendComponent.prototype.shouldHaveLegendNavigation = function () {\n        if (!shouldDoLegendA11y(this.chart)) {\n            return false;\n        }\n        var chart = this.chart, legendOptions = chart.options.legend || {}, legendA11yOptions = (legendOptions.accessibility || {});\n        return !!(chart.legend.display &&\n            legendA11yOptions.keyboardNavigation &&\n            legendA11yOptions.keyboardNavigation.enabled);\n    };\n    return LegendComponent;\n}(AccessibilityComponent));\n/* *\n *\n *  Class Namespace\n *\n * */\n(function (LegendComponent) {\n    /* *\n     *\n     *  Declarations\n     *\n     * */\n    /* *\n     *\n     *  Constants\n     *\n     * */\n    var composedClasses = [];\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * Highlight legend item by index.\n     * @private\n     */\n    function chartHighlightLegendItem(ix) {\n        var items = this.legend.allItems;\n        var oldIx = this.accessibility &&\n            this.accessibility.components.legend.highlightedLegendItemIx;\n        var itemToHighlight = items[ix], legendItem = itemToHighlight.legendItem || {};\n        if (itemToHighlight) {\n            if (isNumber(oldIx) && items[oldIx]) {\n                setLegendItemHoverState(false, items[oldIx]);\n            }\n            scrollLegendToItem(this.legend, ix);\n            var legendItemProp = legendItem.label;\n            var proxyBtn = itemToHighlight.a11yProxyElement &&\n                itemToHighlight.a11yProxyElement.buttonElement;\n            if (legendItemProp && legendItemProp.element && proxyBtn) {\n                this.setFocusToElement(legendItemProp, proxyBtn);\n            }\n            setLegendItemHoverState(true, itemToHighlight);\n            return true;\n        }\n        return false;\n    }\n    /**\n     * @private\n     */\n    function compose(ChartClass, LegendClass) {\n        if (composedClasses.indexOf(ChartClass) === -1) {\n            composedClasses.push(ChartClass);\n            var chartProto = ChartClass.prototype;\n            chartProto.highlightLegendItem = chartHighlightLegendItem;\n        }\n        if (composedClasses.indexOf(LegendClass) === -1) {\n            composedClasses.push(LegendClass);\n            addEvent(LegendClass, 'afterColorizeItem', legendOnAfterColorizeItem);\n        }\n    }\n    LegendComponent.compose = compose;\n    /**\n     * Keep track of pressed state for legend items.\n     * @private\n     */\n    function legendOnAfterColorizeItem(e) {\n        var chart = this.chart, a11yOptions = chart.options.accessibility, legendItem = e.item;\n        if (a11yOptions.enabled && legendItem && legendItem.a11yProxyElement) {\n            legendItem.a11yProxyElement.buttonElement.setAttribute('aria-pressed', e.visible ? 'true' : 'false');\n        }\n    }\n})(LegendComponent || (LegendComponent = {}));\n/* *\n *\n *  Default Export\n *\n * */\nexport default LegendComponent;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Place desriptions on a series and its points.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport AnnotationsA11y from '../AnnotationsA11y.js';\nvar getPointAnnotationTexts = AnnotationsA11y.getPointAnnotationTexts;\nimport ChartUtilities from '../../Utils/ChartUtilities.js';\nvar getAxisDescription = ChartUtilities.getAxisDescription, getSeriesFirstPointElement = ChartUtilities.getSeriesFirstPointElement, getSeriesA11yElement = ChartUtilities.getSeriesA11yElement, unhideChartElementFromAT = ChartUtilities.unhideChartElementFromAT;\nimport F from '../../../Core/FormatUtilities.js';\nvar format = F.format, numberFormat = F.numberFormat;\nimport HTMLUtilities from '../../Utils/HTMLUtilities.js';\nvar reverseChildNodes = HTMLUtilities.reverseChildNodes, stripHTMLTags = HTMLUtilities.stripHTMLTagsFromString;\nimport U from '../../../Core/Utilities.js';\nvar find = U.find, isNumber = U.isNumber, pick = U.pick, defined = U.defined;\n/* *\n *\n *  Functions\n *\n * */\n/* eslint-disable valid-jsdoc */\n/**\n * @private\n */\nfunction findFirstPointWithGraphic(point) {\n    var sourcePointIndex = point.index;\n    if (!point.series || !point.series.data || !defined(sourcePointIndex)) {\n        return null;\n    }\n    return find(point.series.data, function (p) {\n        return !!(p &&\n            typeof p.index !== 'undefined' &&\n            p.index > sourcePointIndex &&\n            p.graphic &&\n            p.graphic.element);\n    }) || null;\n}\n/**\n * Whether or not we should add a mock point element in\n * order to describe a point that has no graphic.\n * @private\n */\nfunction shouldAddMockPoint(point) {\n    // Note: Sunburst series use isNull for hidden points on drilldown.\n    // Ignore these.\n    var series = point.series, chart = series && series.chart, isSunburst = series && series.is('sunburst'), isNull = point.isNull, shouldDescribeNull = chart &&\n        chart\n            .options.accessibility.point.describeNull;\n    return isNull && !isSunburst && shouldDescribeNull;\n}\n/**\n * @private\n */\nfunction makeMockElement(point, pos) {\n    var renderer = point.series.chart.renderer, mock = renderer.rect(pos.x, pos.y, 1, 1);\n    mock.attr({\n        'class': 'highcharts-a11y-mock-point',\n        fill: 'none',\n        opacity: 0,\n        'fill-opacity': 0,\n        'stroke-opacity': 0\n    });\n    return mock;\n}\n/**\n * @private\n */\nfunction addMockPointElement(point) {\n    var series = point.series, firstPointWithGraphic = findFirstPointWithGraphic(point), firstGraphic = firstPointWithGraphic && firstPointWithGraphic.graphic, parentGroup = firstGraphic ?\n        firstGraphic.parentGroup :\n        series.graph || series.group, mockPos = firstPointWithGraphic ? {\n        x: pick(point.plotX, firstPointWithGraphic.plotX, 0),\n        y: pick(point.plotY, firstPointWithGraphic.plotY, 0)\n    } : {\n        x: pick(point.plotX, 0),\n        y: pick(point.plotY, 0)\n    }, mockElement = makeMockElement(point, mockPos);\n    if (parentGroup && parentGroup.element) {\n        point.graphic = mockElement;\n        point.hasMockGraphic = true;\n        mockElement.add(parentGroup);\n        // Move to correct pos in DOM\n        parentGroup.element.insertBefore(mockElement.element, firstGraphic ? firstGraphic.element : null);\n        return mockElement.element;\n    }\n}\n/**\n * @private\n */\nfunction hasMorePointsThanDescriptionThreshold(series) {\n    var chartA11yOptions = series.chart.options.accessibility, threshold = (chartA11yOptions.series.pointDescriptionEnabledThreshold);\n    return !!(threshold !== false &&\n        series.points &&\n        series.points.length >= threshold);\n}\n/**\n * @private\n */\nfunction shouldSetScreenReaderPropsOnPoints(series) {\n    var seriesA11yOptions = series.options.accessibility || {};\n    return !hasMorePointsThanDescriptionThreshold(series) &&\n        !seriesA11yOptions.exposeAsGroupOnly;\n}\n/**\n * @private\n */\nfunction shouldSetKeyboardNavPropsOnPoints(series) {\n    var chartA11yOptions = series.chart.options.accessibility, seriesNavOptions = chartA11yOptions.keyboardNavigation.seriesNavigation;\n    return !!(series.points && (series.points.length <\n        seriesNavOptions.pointNavigationEnabledThreshold ||\n        seriesNavOptions.pointNavigationEnabledThreshold === false));\n}\n/**\n * @private\n */\nfunction shouldDescribeSeriesElement(series) {\n    var chart = series.chart, chartOptions = chart.options.chart, chartHas3d = chartOptions.options3d && chartOptions.options3d.enabled, hasMultipleSeries = chart.series.length > 1, describeSingleSeriesOption = chart.options.accessibility.series.describeSingleSeries, exposeAsGroupOnlyOption = (series.options.accessibility || {}).exposeAsGroupOnly, noDescribe3D = chartHas3d && hasMultipleSeries;\n    return !noDescribe3D && (hasMultipleSeries || describeSingleSeriesOption ||\n        exposeAsGroupOnlyOption || hasMorePointsThanDescriptionThreshold(series));\n}\n/**\n * @private\n */\nfunction pointNumberToString(point, value) {\n    var series = point.series, chart = series.chart, a11yPointOptions = chart.options.accessibility.point || {}, seriesA11yPointOptions = series.options.accessibility &&\n        series.options.accessibility.point || {}, tooltipOptions = series.tooltipOptions || {}, lang = chart.options.lang;\n    if (isNumber(value)) {\n        return numberFormat(value, seriesA11yPointOptions.valueDecimals ||\n            a11yPointOptions.valueDecimals ||\n            tooltipOptions.valueDecimals ||\n            -1, lang.decimalPoint, lang.accessibility.thousandsSep || lang.thousandsSep);\n    }\n    return value;\n}\n/**\n * @private\n */\nfunction getSeriesDescriptionText(series) {\n    var seriesA11yOptions = series.options.accessibility || {}, descOpt = seriesA11yOptions.description;\n    return descOpt && series.chart.langFormat('accessibility.series.description', {\n        description: descOpt,\n        series: series\n    }) || '';\n}\n/**\n * @private\n */\nfunction getSeriesAxisDescriptionText(series, axisCollection) {\n    var axis = series[axisCollection];\n    return series.chart.langFormat('accessibility.series.' + axisCollection + 'Description', {\n        name: getAxisDescription(axis),\n        series: series\n    });\n}\n/**\n * Get accessible time description for a point on a datetime axis.\n *\n * @private\n */\nfunction getPointA11yTimeDescription(point) {\n    var series = point.series, chart = series.chart, seriesA11yOptions = series.options.accessibility &&\n        series.options.accessibility.point || {}, a11yOptions = chart.options.accessibility.point || {}, dateXAxis = series.xAxis && series.xAxis.dateTime;\n    if (dateXAxis) {\n        var tooltipDateFormat = dateXAxis.getXDateFormat(point.x || 0, chart.options.tooltip.dateTimeLabelFormats), dateFormat = seriesA11yOptions.dateFormatter &&\n            seriesA11yOptions.dateFormatter(point) ||\n            a11yOptions.dateFormatter && a11yOptions.dateFormatter(point) ||\n            seriesA11yOptions.dateFormat ||\n            a11yOptions.dateFormat ||\n            tooltipDateFormat;\n        return chart.time.dateFormat(dateFormat, point.x || 0, void 0);\n    }\n}\n/**\n * @private\n */\nfunction getPointXDescription(point) {\n    var timeDesc = getPointA11yTimeDescription(point), xAxis = point.series.xAxis || {}, pointCategory = xAxis.categories && defined(point.category) &&\n        ('' + point.category).replace('<br/>', ' '), canUseId = defined(point.id) &&\n        ('' + point.id).indexOf('highcharts-') < 0, fallback = 'x, ' + point.x;\n    return point.name || timeDesc || pointCategory ||\n        (canUseId ? point.id : fallback);\n}\n/**\n * @private\n */\nfunction getPointArrayMapValueDescription(point, prefix, suffix) {\n    var pre = prefix || '', suf = suffix || '', keyToValStr = function (key) {\n        var num = pointNumberToString(point, pick(point[key], point.options[key]));\n        return key + ': ' + pre + num + suf;\n    }, pointArrayMap = point.series.pointArrayMap;\n    return pointArrayMap.reduce(function (desc, key) {\n        return desc + (desc.length ? ', ' : '') + keyToValStr(key);\n    }, '');\n}\n/**\n * @private\n */\nfunction getPointValue(point) {\n    var series = point.series, a11yPointOpts = series.chart.options.accessibility.point || {}, seriesA11yPointOpts = series.chart.options.accessibility &&\n        series.chart.options.accessibility.point || {}, tooltipOptions = series.tooltipOptions || {}, valuePrefix = seriesA11yPointOpts.valuePrefix ||\n        a11yPointOpts.valuePrefix ||\n        tooltipOptions.valuePrefix ||\n        '', valueSuffix = seriesA11yPointOpts.valueSuffix ||\n        a11yPointOpts.valueSuffix ||\n        tooltipOptions.valueSuffix ||\n        '', fallbackKey = (typeof point.value !==\n        'undefined' ?\n        'value' : 'y'), fallbackDesc = pointNumberToString(point, point[fallbackKey]);\n    if (point.isNull) {\n        return series.chart.langFormat('accessibility.series.nullPointValue', {\n            point: point\n        });\n    }\n    if (series.pointArrayMap) {\n        return getPointArrayMapValueDescription(point, valuePrefix, valueSuffix);\n    }\n    return valuePrefix + fallbackDesc + valueSuffix;\n}\n/**\n * Return the description for the annotation(s) connected to a point, or\n * empty string if none.\n *\n * @private\n * @param {Highcharts.Point} point\n * The data point to get the annotation info from.\n * @return {string}\n * Annotation description\n */\nfunction getPointAnnotationDescription(point) {\n    var chart = point.series.chart;\n    var langKey = 'accessibility.series.pointAnnotationsDescription';\n    var annotations = getPointAnnotationTexts(point);\n    var context = { point: point, annotations: annotations };\n    return annotations.length ? chart.langFormat(langKey, context) : '';\n}\n/**\n * Return string with information about point.\n * @private\n */\nfunction getPointValueDescription(point) {\n    var series = point.series, chart = series.chart, seriesA11yOptions = series.options.accessibility, seriesValueDescFormat = seriesA11yOptions && seriesA11yOptions.point &&\n        seriesA11yOptions.point.valueDescriptionFormat, pointValueDescriptionFormat = seriesValueDescFormat ||\n        chart.options.accessibility.point.valueDescriptionFormat, showXDescription = pick(series.xAxis &&\n        series.xAxis.options.accessibility &&\n        series.xAxis.options.accessibility.enabled, !chart.angular), xDesc = showXDescription ? getPointXDescription(point) : '', context = {\n        point: point,\n        index: defined(point.index) ? (point.index + 1) : '',\n        xDescription: xDesc,\n        value: getPointValue(point),\n        separator: showXDescription ? ', ' : ''\n    };\n    return format(pointValueDescriptionFormat, context, chart);\n}\n/**\n * Return string with information about point.\n * @private\n */\nfunction defaultPointDescriptionFormatter(point) {\n    var series = point.series, shouldExposeSeriesName = series.chart.series.length > 1 ||\n        series.options.name, valText = getPointValueDescription(point), description = point.options && point.options.accessibility &&\n        point.options.accessibility.description, userDescText = description ? ' ' + description : '', seriesNameText = shouldExposeSeriesName ? ' ' + series.name + '.' : '', annotationsDesc = getPointAnnotationDescription(point), pointAnnotationsText = annotationsDesc ? ' ' + annotationsDesc : '';\n    point.accessibility = point.accessibility || {};\n    point.accessibility.valueDescription = valText;\n    return valText + userDescText + seriesNameText + pointAnnotationsText;\n}\n/**\n * Set a11y props on a point element\n * @private\n * @param {Highcharts.Point} point\n * @param {Highcharts.HTMLDOMElement|Highcharts.SVGDOMElement} pointElement\n */\nfunction setPointScreenReaderAttribs(point, pointElement) {\n    var series = point.series, a11yPointOptions = series.chart.options.accessibility.point || {}, seriesPointA11yOptions = series.options.accessibility &&\n        series.options.accessibility.point || {}, label = stripHTMLTags(seriesPointA11yOptions.descriptionFormatter &&\n        seriesPointA11yOptions.descriptionFormatter(point) ||\n        a11yPointOptions.descriptionFormatter &&\n            a11yPointOptions.descriptionFormatter(point) ||\n        defaultPointDescriptionFormatter(point));\n    pointElement.setAttribute('role', 'img');\n    pointElement.setAttribute('aria-label', label);\n}\n/**\n * Add accessible info to individual point elements of a series\n * @private\n * @param {Highcharts.Series} series\n */\nfunction describePointsInSeries(series) {\n    var setScreenReaderProps = shouldSetScreenReaderPropsOnPoints(series), setKeyboardProps = shouldSetKeyboardNavPropsOnPoints(series), shouldDescribeNullPoints = series.chart.options.accessibility\n        .point.describeNull;\n    if (setScreenReaderProps || setKeyboardProps) {\n        series.points.forEach(function (point) {\n            var pointEl = point.graphic && point.graphic.element ||\n                shouldAddMockPoint(point) && addMockPointElement(point), pointA11yDisabled = (point.options &&\n                point.options.accessibility &&\n                point.options.accessibility.enabled === false);\n            if (pointEl) {\n                if (point.isNull && !shouldDescribeNullPoints) {\n                    pointEl.setAttribute('aria-hidden', true);\n                    return;\n                }\n                // We always set tabindex, as long as we are setting props.\n                // When setting tabindex, also remove default outline to\n                // avoid ugly border on click.\n                pointEl.setAttribute('tabindex', '-1');\n                if (!series.chart.styledMode) {\n                    pointEl.style.outline = 'none';\n                }\n                if (setScreenReaderProps && !pointA11yDisabled) {\n                    setPointScreenReaderAttribs(point, pointEl);\n                }\n                else {\n                    pointEl.setAttribute('aria-hidden', true);\n                }\n            }\n        });\n    }\n}\n/**\n * Return string with information about series.\n * @private\n */\nfunction defaultSeriesDescriptionFormatter(series) {\n    var chart = series.chart, chartTypes = chart.types || [], description = getSeriesDescriptionText(series), shouldDescribeAxis = function (coll) {\n        return chart[coll] && chart[coll].length > 1 && series[coll];\n    }, seriesNumber = series.index + 1, xAxisInfo = getSeriesAxisDescriptionText(series, 'xAxis'), yAxisInfo = getSeriesAxisDescriptionText(series, 'yAxis'), summaryContext = {\n        seriesNumber: seriesNumber,\n        series: series,\n        chart: chart\n    }, combinationSuffix = chartTypes.length > 1 ? 'Combination' : '', summary = chart.langFormat('accessibility.series.summary.' + series.type + combinationSuffix, summaryContext) || chart.langFormat('accessibility.series.summary.default' + combinationSuffix, summaryContext), axisDescription = (shouldDescribeAxis('yAxis') ? ' ' + yAxisInfo + '.' : '') + (shouldDescribeAxis('xAxis') ? ' ' + xAxisInfo + '.' : ''), formatStr = chart.options.accessibility.series.descriptionFormat || '';\n    return format(formatStr, {\n        seriesDescription: summary,\n        authorDescription: (description ? ' ' + description : ''),\n        axisDescription: axisDescription,\n        series: series,\n        chart: chart,\n        seriesNumber: seriesNumber\n    }, void 0);\n}\n/**\n * Set a11y props on a series element\n * @private\n * @param {Highcharts.Series} series\n * @param {Highcharts.HTMLDOMElement|Highcharts.SVGDOMElement} seriesElement\n */\nfunction describeSeriesElement(series, seriesElement) {\n    var seriesA11yOptions = series.options.accessibility || {}, a11yOptions = series.chart.options.accessibility, landmarkVerbosity = a11yOptions.landmarkVerbosity;\n    // Handle role attribute\n    if (seriesA11yOptions.exposeAsGroupOnly) {\n        seriesElement.setAttribute('role', 'img');\n    }\n    else if (landmarkVerbosity === 'all') {\n        seriesElement.setAttribute('role', 'region');\n    }\n    else {\n        seriesElement.setAttribute('role', 'group');\n    }\n    seriesElement.setAttribute('tabindex', '-1');\n    if (!series.chart.styledMode) {\n        // Don't show browser outline on click, despite tabindex\n        seriesElement.style.outline = 'none';\n    }\n    seriesElement.setAttribute('aria-label', stripHTMLTags(a11yOptions.series.descriptionFormatter &&\n        a11yOptions.series.descriptionFormatter(series) ||\n        defaultSeriesDescriptionFormatter(series)));\n}\n/**\n * Put accessible info on series and points of a series.\n * @param {Highcharts.Series} series The series to add info on.\n */\nfunction describeSeries(series) {\n    var chart = series.chart, firstPointEl = getSeriesFirstPointElement(series), seriesEl = getSeriesA11yElement(series), is3d = chart.is3d && chart.is3d();\n    if (seriesEl) {\n        // For some series types the order of elements do not match the\n        // order of points in series. In that case we have to reverse them\n        // in order for AT to read them out in an understandable order.\n        // Due to z-index issues we cannot do this for 3D charts.\n        if (seriesEl.lastChild === firstPointEl && !is3d) {\n            reverseChildNodes(seriesEl);\n        }\n        describePointsInSeries(series);\n        unhideChartElementFromAT(chart, seriesEl);\n        if (shouldDescribeSeriesElement(series)) {\n            describeSeriesElement(series, seriesEl);\n        }\n        else {\n            seriesEl.removeAttribute('aria-label');\n        }\n    }\n}\n/* *\n *\n *  Default Export\n *\n * */\nvar SeriesDescriber = {\n    defaultPointDescriptionFormatter: defaultPointDescriptionFormatter,\n    defaultSeriesDescriptionFormatter: defaultSeriesDescriptionFormatter,\n    describeSeries: describeSeries\n};\nexport default SeriesDescriber;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Handle announcing new data for a chart.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport H from '../../../Core/Globals.js';\nimport U from '../../../Core/Utilities.js';\nvar addEvent = U.addEvent, defined = U.defined;\nimport Announcer from '../../Utils/Announcer.js';\nimport ChartUtilities from '../../Utils/ChartUtilities.js';\nvar getChartTitle = ChartUtilities.getChartTitle;\nimport EventProvider from '../../Utils/EventProvider.js';\nimport SeriesDescriber from './SeriesDescriber.js';\nvar defaultPointDescriptionFormatter = SeriesDescriber.defaultPointDescriptionFormatter, defaultSeriesDescriptionFormatter = SeriesDescriber.defaultSeriesDescriptionFormatter;\n/* *\n *\n *  Functions\n *\n * */\n/* eslint-disable valid-jsdoc */\n/**\n * @private\n */\nfunction chartHasAnnounceEnabled(chart) {\n    return !!chart.options.accessibility.announceNewData.enabled;\n}\n/**\n * @private\n */\nfunction findPointInDataArray(point) {\n    var candidates = point.series.data.filter(function (candidate) { return (point.x === candidate.x && point.y === candidate.y); });\n    return candidates.length === 1 ? candidates[0] : point;\n}\n/**\n * Get array of unique series from two arrays\n * @private\n */\nfunction getUniqueSeries(arrayA, arrayB) {\n    var uniqueSeries = (arrayA || []).concat(arrayB || []).reduce(function (acc, cur) {\n        acc[cur.name + cur.index] = cur;\n        return acc;\n    }, {});\n    return Object\n        .keys(uniqueSeries)\n        .map(function (ix) { return uniqueSeries[ix]; });\n}\n/* *\n *\n *  Class\n *\n * */\n/**\n * @private\n * @class\n */\nvar NewDataAnnouncer = /** @class */ (function () {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    function NewDataAnnouncer(chart) {\n        /* *\n         *\n         *  Public\n         *\n         * */\n        this.announcer = void 0;\n        this.dirty = {\n            allSeries: {}\n        };\n        this.eventProvider = void 0;\n        this.lastAnnouncementTime = 0;\n        this.chart = chart;\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * Initialize the new data announcer.\n     * @private\n     */\n    NewDataAnnouncer.prototype.init = function () {\n        var chart = this.chart;\n        var announceOptions = (chart.options.accessibility.announceNewData);\n        var announceType = announceOptions.interruptUser ?\n            'assertive' : 'polite';\n        this.lastAnnouncementTime = 0;\n        this.dirty = {\n            allSeries: {}\n        };\n        this.eventProvider = new EventProvider();\n        this.announcer = new Announcer(chart, announceType);\n        this.addEventListeners();\n    };\n    /**\n     * Remove traces of announcer.\n     * @private\n     */\n    NewDataAnnouncer.prototype.destroy = function () {\n        this.eventProvider.removeAddedEvents();\n        this.announcer.destroy();\n    };\n    /**\n     * Add event listeners for the announcer\n     * @private\n     */\n    NewDataAnnouncer.prototype.addEventListeners = function () {\n        var announcer = this, chart = this.chart, e = this.eventProvider;\n        e.addEvent(chart, 'afterApplyDrilldown', function () {\n            announcer.lastAnnouncementTime = 0;\n        });\n        e.addEvent(chart, 'afterAddSeries', function (e) {\n            announcer.onSeriesAdded(e.series);\n        });\n        e.addEvent(chart, 'redraw', function () {\n            announcer.announceDirtyData();\n        });\n    };\n    /**\n     * On new data series added, update dirty list.\n     * @private\n     * @param {Highcharts.Series} series\n     */\n    NewDataAnnouncer.prototype.onSeriesAdded = function (series) {\n        if (chartHasAnnounceEnabled(this.chart)) {\n            this.dirty.hasDirty = true;\n            this.dirty.allSeries[series.name + series.index] = series;\n            // Add it to newSeries storage unless we already have one\n            this.dirty.newSeries = defined(this.dirty.newSeries) ?\n                void 0 : series;\n        }\n    };\n    /**\n     * Gather what we know and announce the data to user.\n     * @private\n     */\n    NewDataAnnouncer.prototype.announceDirtyData = function () {\n        var chart = this.chart, announcer = this;\n        if (chart.options.accessibility.announceNewData &&\n            this.dirty.hasDirty) {\n            var newPoint = this.dirty.newPoint;\n            // If we have a single new point, see if we can find it in the\n            // data array. Otherwise we can only pass through options to\n            // the description builder, and it is a bit sparse in info.\n            if (newPoint) {\n                newPoint = findPointInDataArray(newPoint);\n            }\n            this.queueAnnouncement(Object\n                .keys(this.dirty.allSeries)\n                .map(function (ix) {\n                return announcer.dirty.allSeries[ix];\n            }), this.dirty.newSeries, newPoint);\n            // Reset\n            this.dirty = {\n                allSeries: {}\n            };\n        }\n    };\n    /**\n     * Announce to user that there is new data.\n     * @private\n     * @param {Array<Highcharts.Series>} dirtySeries\n     *          Array of series with new data.\n     * @param {Highcharts.Series} [newSeries]\n     *          If a single new series was added, a reference to this series.\n     * @param {Highcharts.Point} [newPoint]\n     *          If a single point was added, a reference to this point.\n     */\n    NewDataAnnouncer.prototype.queueAnnouncement = function (dirtySeries, newSeries, newPoint) {\n        var _this = this;\n        var chart = this.chart;\n        var annOptions = chart.options.accessibility.announceNewData;\n        if (annOptions.enabled) {\n            var now = +new Date();\n            var dTime = now - this.lastAnnouncementTime;\n            var time = Math.max(0, annOptions.minAnnounceInterval - dTime);\n            // Add series from previously queued announcement.\n            var allSeries = getUniqueSeries(this.queuedAnnouncement && this.queuedAnnouncement.series, dirtySeries);\n            // Build message and announce\n            var message = this.buildAnnouncementMessage(allSeries, newSeries, newPoint);\n            if (message) {\n                // Is there already one queued?\n                if (this.queuedAnnouncement) {\n                    clearTimeout(this.queuedAnnouncementTimer);\n                }\n                // Build the announcement\n                this.queuedAnnouncement = {\n                    time: now,\n                    message: message,\n                    series: allSeries\n                };\n                // Queue the announcement\n                this.queuedAnnouncementTimer = setTimeout(function () {\n                    if (_this && _this.announcer) {\n                        _this.lastAnnouncementTime = +new Date();\n                        _this.announcer.announce(_this.queuedAnnouncement.message);\n                        delete _this.queuedAnnouncement;\n                        delete _this.queuedAnnouncementTimer;\n                    }\n                }, time);\n            }\n        }\n    };\n    /**\n     * Get announcement message for new data.\n     * @private\n     * @param {Array<Highcharts.Series>} dirtySeries\n     *          Array of series with new data.\n     * @param {Highcharts.Series} [newSeries]\n     *          If a single new series was added, a reference to this series.\n     * @param {Highcharts.Point} [newPoint]\n     *          If a single point was added, a reference to this point.\n     *\n     * @return {string|null}\n     * The announcement message to give to user.\n     */\n    NewDataAnnouncer.prototype.buildAnnouncementMessage = function (dirtySeries, newSeries, newPoint) {\n        var chart = this.chart, annOptions = chart.options.accessibility.announceNewData;\n        // User supplied formatter?\n        if (annOptions.announcementFormatter) {\n            var formatterRes = annOptions.announcementFormatter(dirtySeries, newSeries, newPoint);\n            if (formatterRes !== false) {\n                return formatterRes.length ? formatterRes : null;\n            }\n        }\n        // Default formatter - use lang options\n        var multiple = H.charts && H.charts.length > 1 ?\n            'Multiple' : 'Single', langKey = newSeries ? 'newSeriesAnnounce' + multiple :\n            newPoint ? 'newPointAnnounce' + multiple : 'newDataAnnounce', chartTitle = getChartTitle(chart);\n        return chart.langFormat('accessibility.announceNewData.' + langKey, {\n            chartTitle: chartTitle,\n            seriesDesc: newSeries ?\n                defaultSeriesDescriptionFormatter(newSeries) :\n                null,\n            pointDesc: newPoint ?\n                defaultPointDescriptionFormatter(newPoint) :\n                null,\n            point: newPoint,\n            series: newSeries\n        });\n    };\n    return NewDataAnnouncer;\n}());\n/* *\n *\n *  Class Namespace\n *\n * */\n(function (NewDataAnnouncer) {\n    /* *\n     *\n     *  Declarations\n     *\n     * */\n    /* *\n     *\n     *  Static Properties\n     *\n     * */\n    NewDataAnnouncer.composedClasses = [];\n    /* *\n     *\n     *  Static Functions\n     *\n     * */\n    /**\n     * @private\n     */\n    function compose(SeriesClass) {\n        if (NewDataAnnouncer.composedClasses.indexOf(SeriesClass) === -1) {\n            NewDataAnnouncer.composedClasses.push(SeriesClass);\n            addEvent(SeriesClass, 'addPoint', seriesOnAddPoint);\n            addEvent(SeriesClass, 'updatedData', seriesOnUpdatedData);\n        }\n    }\n    NewDataAnnouncer.compose = compose;\n    /**\n     * On new point added, update dirty list.\n     * @private\n     * @param {Highcharts.Point} point\n     */\n    function seriesOnAddPoint(e) {\n        var chart = this.chart, newDataAnnouncer = this.newDataAnnouncer;\n        if (newDataAnnouncer &&\n            newDataAnnouncer.chart === chart &&\n            chartHasAnnounceEnabled(chart)) {\n            // Add it to newPoint storage unless we already have one\n            newDataAnnouncer.dirty.newPoint = (defined(newDataAnnouncer.dirty.newPoint) ?\n                void 0 :\n                e.point);\n        }\n    }\n    /**\n     * On new data in the series, make sure we add it to the dirty list.\n     * @private\n     * @param {Highcharts.Series} series\n     */\n    function seriesOnUpdatedData() {\n        var chart = this.chart, newDataAnnouncer = this.newDataAnnouncer;\n        if (newDataAnnouncer &&\n            newDataAnnouncer.chart === chart &&\n            chartHasAnnounceEnabled(chart)) {\n            newDataAnnouncer.dirty.hasDirty = true;\n            newDataAnnouncer.dirty.allSeries[this.name + this.index] = this;\n        }\n    }\n})(NewDataAnnouncer || (NewDataAnnouncer = {}));\n/* *\n *\n *  Default Export\n *\n * */\nexport default NewDataAnnouncer;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Proxy elements are used to shadow SVG elements in HTML for assistive\n *  technology, such as screen readers or voice input software.\n *\n *  The ProxyElement class represents such an element, and deals with\n *  overlay positioning and mirroring events for the target.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport H from '../Core/Globals.js';\nvar doc = H.doc;\nimport U from '../Core/Utilities.js';\nvar attr = U.attr, css = U.css, merge = U.merge;\nimport EventProvider from './Utils/EventProvider.js';\nimport ChartUtilities from './Utils/ChartUtilities.js';\nvar fireEventOnWrappedOrUnwrappedElement = ChartUtilities.fireEventOnWrappedOrUnwrappedElement;\nimport HTMLUtilities from './Utils/HTMLUtilities.js';\nvar cloneMouseEvent = HTMLUtilities.cloneMouseEvent, cloneTouchEvent = HTMLUtilities.cloneTouchEvent, getFakeMouseEvent = HTMLUtilities.getFakeMouseEvent, removeElement = HTMLUtilities.removeElement;\n/* *\n *\n *  Class\n *\n * */\n/**\n * Represents a proxy element that overlays a target and relays events\n * to its target.\n *\n * @private\n * @class\n */\nvar ProxyElement = /** @class */ (function () {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    function ProxyElement(chart, target, groupType, attributes) {\n        this.chart = chart;\n        this.target = target;\n        this.groupType = groupType;\n        var isListItem = groupType === 'ul';\n        this.eventProvider = new EventProvider();\n        var wrapperEl = isListItem ? doc.createElement('li') : null;\n        var btnEl = this.buttonElement = doc.createElement('button');\n        if (!chart.styledMode) {\n            this.hideButtonVisually(btnEl);\n        }\n        if (wrapperEl) {\n            if (isListItem && !chart.styledMode) {\n                wrapperEl.style.listStyle = 'none';\n            }\n            wrapperEl.appendChild(btnEl);\n            this.element = wrapperEl;\n        }\n        else {\n            this.element = btnEl;\n        }\n        this.updateTarget(target, attributes);\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * Fake a click event on the target.\n     */\n    ProxyElement.prototype.click = function () {\n        var pos = this.getTargetPosition();\n        pos.x += pos.width / 2;\n        pos.y += pos.height / 2;\n        var fakeEventObject = getFakeMouseEvent('click', pos);\n        fireEventOnWrappedOrUnwrappedElement(this.target.click, fakeEventObject);\n    };\n    /**\n     * Update the target to be proxied. The position and events are updated to\n     * match the new target.\n     * @param target The new target definition\n     * @param attributes New HTML attributes to apply to the button. Set an\n     * attribute to null to remove.\n     */\n    ProxyElement.prototype.updateTarget = function (target, attributes) {\n        this.target = target;\n        this.updateCSSClassName();\n        var attrs = attributes || {};\n        Object.keys(attrs).forEach(function (a) {\n            if (attrs[a] === null) {\n                delete attrs[a];\n            }\n        });\n        attr(this.buttonElement, merge({\n            'aria-label': this.getTargetAttr(target.click, 'aria-label')\n        }, attrs));\n        this.eventProvider.removeAddedEvents();\n        this.addProxyEventsToButton(this.buttonElement, target.click);\n        this.refreshPosition();\n    };\n    /**\n     * Refresh the position of the proxy element to match the current target\n     */\n    ProxyElement.prototype.refreshPosition = function () {\n        var bBox = this.getTargetPosition();\n        css(this.buttonElement, {\n            width: (bBox.width || 1) + 'px',\n            height: (bBox.height || 1) + 'px',\n            left: (Math.round(bBox.x) || 0) + 'px',\n            top: (Math.round(bBox.y) || 0) + 'px'\n        });\n    };\n    /**\n     * Remove button from DOM, and clear events.\n     */\n    ProxyElement.prototype.remove = function () {\n        this.eventProvider.removeAddedEvents();\n        removeElement(this.element);\n    };\n    // -------------------------- private ------------------------------------\n    /**\n     * Update the CSS class name to match target\n     */\n    ProxyElement.prototype.updateCSSClassName = function () {\n        var stringHasNoTooltip = function (s) { return (s.indexOf('highcharts-no-tooltip') > -1); };\n        var legend = this.chart.legend;\n        var groupDiv = legend.group && legend.group.div;\n        var noTooltipOnGroup = stringHasNoTooltip(groupDiv && groupDiv.className || '');\n        var targetClassName = this.getTargetAttr(this.target.click, 'class') || '';\n        var noTooltipOnTarget = stringHasNoTooltip(targetClassName);\n        this.buttonElement.className = noTooltipOnGroup || noTooltipOnTarget ?\n            'highcharts-a11y-proxy-button highcharts-no-tooltip' :\n            'highcharts-a11y-proxy-button';\n    };\n    /**\n     * Mirror events for a proxy button to a target\n     */\n    ProxyElement.prototype.addProxyEventsToButton = function (button, target) {\n        var _this = this;\n        [\n            'click', 'touchstart', 'touchend', 'touchcancel', 'touchmove',\n            'mouseover', 'mouseenter', 'mouseleave', 'mouseout'\n        ].forEach(function (evtType) {\n            var isTouchEvent = evtType.indexOf('touch') === 0;\n            _this.eventProvider.addEvent(button, evtType, function (e) {\n                var clonedEvent = isTouchEvent ?\n                    cloneTouchEvent(e) :\n                    cloneMouseEvent(e);\n                if (target) {\n                    fireEventOnWrappedOrUnwrappedElement(target, clonedEvent);\n                }\n                e.stopPropagation();\n                // #9682, #15318: Touch scrolling didnt work when touching\n                // proxy\n                if (!isTouchEvent) {\n                    e.preventDefault();\n                }\n            }, { passive: false });\n        });\n    };\n    /**\n     * Set visually hidden style on a proxy button\n     */\n    ProxyElement.prototype.hideButtonVisually = function (button) {\n        css(button, {\n            borderWidth: 0,\n            backgroundColor: 'transparent',\n            cursor: 'pointer',\n            outline: 'none',\n            opacity: 0.001,\n            filter: 'alpha(opacity=1)',\n            zIndex: 999,\n            overflow: 'hidden',\n            padding: 0,\n            margin: 0,\n            display: 'block',\n            position: 'absolute',\n            '-ms-filter': 'progid:DXImageTransform.Microsoft.Alpha(Opacity=1)'\n        });\n    };\n    /**\n     * Get the position relative to chart container for the target\n     */\n    ProxyElement.prototype.getTargetPosition = function () {\n        var clickTarget = this.target.click;\n        // We accept both DOM elements and wrapped elements as click targets.\n        var clickTargetElement = clickTarget.element ?\n            clickTarget.element :\n            clickTarget;\n        var posElement = this.target.visual || clickTargetElement;\n        var chartDiv = this.chart.renderTo;\n        if (chartDiv && posElement && posElement.getBoundingClientRect) {\n            var rectEl = posElement.getBoundingClientRect(), chartPos = this.chart.pointer.getChartPosition();\n            return {\n                x: (rectEl.left - chartPos.left) / chartPos.scaleX,\n                y: (rectEl.top - chartPos.top) / chartPos.scaleY,\n                width: rectEl.right / chartPos.scaleX -\n                    rectEl.left / chartPos.scaleX,\n                height: rectEl.bottom / chartPos.scaleY -\n                    rectEl.top / chartPos.scaleY\n            };\n        }\n        return { x: 0, y: 0, width: 1, height: 1 };\n    };\n    /**\n     * Get an attribute value of a target\n     */\n    ProxyElement.prototype.getTargetAttr = function (target, key) {\n        if (target.element) {\n            return target.element.getAttribute(key);\n        }\n        return target.getAttribute(key);\n    };\n    return ProxyElement;\n}());\n/* *\n *\n *  Default Export\n *\n * */\nexport default ProxyElement;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Proxy elements are used to shadow SVG elements in HTML for assistive\n *  technology, such as screen readers or voice input software.\n *\n *  The ProxyProvider keeps track of all proxy elements of the a11y module,\n *  and updating their order and positioning.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport H from '../Core/Globals.js';\nvar doc = H.doc;\nimport U from '../Core/Utilities.js';\nvar attr = U.attr, css = U.css;\nimport CU from './Utils/ChartUtilities.js';\nvar unhideChartElementFromAT = CU.unhideChartElementFromAT;\nimport DOMElementProvider from './Utils/DOMElementProvider.js';\nimport HU from './Utils/HTMLUtilities.js';\nvar removeElement = HU.removeElement, removeChildNodes = HU.removeChildNodes;\nimport ProxyElement from './ProxyElement.js';\n/* *\n *\n *  Class\n *\n * */\n/**\n * Keeps track of all proxy elements and proxy groups.\n *\n * @private\n * @class\n */\nvar ProxyProvider = /** @class */ (function () {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    function ProxyProvider(chart) {\n        this.chart = chart;\n        this.domElementProvider = new DOMElementProvider();\n        this.groups = {};\n        this.groupOrder = [];\n        this.beforeChartProxyPosContainer = this.createProxyPosContainer('before');\n        this.afterChartProxyPosContainer = this.createProxyPosContainer('after');\n        this.update();\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable */\n    /**\n     * Add a new proxy element to a group, proxying a target control.\n     */\n    ProxyProvider.prototype.addProxyElement = function (groupKey, target, attributes) {\n        var group = this.groups[groupKey];\n        if (!group) {\n            throw new Error('ProxyProvider.addProxyElement: Invalid group key ' + groupKey);\n        }\n        var proxy = new ProxyElement(this.chart, target, group.type, attributes);\n        group.proxyContainerElement.appendChild(proxy.element);\n        group.proxyElements.push(proxy);\n        return proxy;\n    };\n    /**\n     * Create a group that will contain proxy elements. The group order is\n     * automatically updated according to the last group order keys.\n     *\n     * Returns the added group.\n     */\n    ProxyProvider.prototype.addGroup = function (groupKey, groupType, attributes) {\n        var existingGroup = this.groups[groupKey];\n        if (existingGroup) {\n            return existingGroup.groupElement;\n        }\n        var proxyContainer = this.domElementProvider.createElement(groupType);\n        // If we want to add a role to the group, and still use e.g.\n        // a list group, we need a wrapper div.\n        var groupElement;\n        if (attributes && attributes.role && groupType !== 'div') {\n            groupElement = this.domElementProvider.createElement('div');\n            groupElement.appendChild(proxyContainer);\n        }\n        else {\n            groupElement = proxyContainer;\n        }\n        groupElement.className = 'highcharts-a11y-proxy-group highcharts-a11y-proxy-group-' +\n            groupKey.replace(/\\W/g, '-');\n        this.groups[groupKey] = {\n            proxyContainerElement: proxyContainer,\n            groupElement: groupElement,\n            type: groupType,\n            proxyElements: []\n        };\n        attr(groupElement, attributes || {});\n        if (groupType === 'ul') {\n            proxyContainer.setAttribute('role', 'list'); // Needed for webkit\n        }\n        // Add the group to the end by default, and perhaps then we\n        // won't have to reorder the whole set of groups.\n        this.afterChartProxyPosContainer.appendChild(groupElement);\n        this.updateGroupOrder(this.groupOrder);\n        return groupElement;\n    };\n    /**\n     * Update HTML attributes of a group.\n     */\n    ProxyProvider.prototype.updateGroupAttrs = function (groupKey, attributes) {\n        var group = this.groups[groupKey];\n        if (!group) {\n            throw new Error('ProxyProvider.updateGroupAttrs: Invalid group key ' + groupKey);\n        }\n        attr(group.groupElement, attributes);\n    };\n    /**\n     * Reorder the proxy groups.\n     *\n     * The group key \"series\" refers to the chart's data points / <svg> element.\n     * This is so that the keyboardNavigation.order option can be used to\n     * determine the proxy group order.\n     */\n    ProxyProvider.prototype.updateGroupOrder = function (groupKeys) {\n        var _this = this;\n        // Store so that we can update order when a new group is created\n        this.groupOrder = groupKeys.slice();\n        // Don't unnecessarily reorder, because keyboard focus is lost\n        if (this.isDOMOrderGroupOrder()) {\n            return;\n        }\n        var seriesIx = groupKeys.indexOf('series');\n        var beforeKeys = seriesIx > -1 ? groupKeys.slice(0, seriesIx) : groupKeys;\n        var afterKeys = seriesIx > -1 ? groupKeys.slice(seriesIx + 1) : [];\n        // Store focused element since it will be lost when reordering\n        var activeElement = doc.activeElement;\n        // Add groups to correct container\n        ['before', 'after'].forEach(function (pos) {\n            var posContainer = _this[pos === 'before' ?\n                'beforeChartProxyPosContainer' :\n                'afterChartProxyPosContainer'];\n            var keys = pos === 'before' ? beforeKeys : afterKeys;\n            removeChildNodes(posContainer);\n            keys.forEach(function (groupKey) {\n                var group = _this.groups[groupKey];\n                if (group) {\n                    posContainer.appendChild(group.groupElement);\n                }\n            });\n        });\n        // Attempt to restore focus after reordering, but note that this may\n        // cause screen readers re-announcing the button.\n        if ((this.beforeChartProxyPosContainer.contains(activeElement) ||\n            this.afterChartProxyPosContainer.contains(activeElement)) &&\n            activeElement && activeElement.focus) {\n            activeElement.focus();\n        }\n    };\n    /**\n     * Remove all proxy elements in a group\n     */\n    ProxyProvider.prototype.clearGroup = function (groupKey) {\n        var group = this.groups[groupKey];\n        if (!group) {\n            throw new Error('ProxyProvider.clearGroup: Invalid group key ' + groupKey);\n        }\n        removeChildNodes(group.proxyContainerElement);\n    };\n    /**\n     * Remove a group from the DOM and from the proxy provider's group list.\n     * All child elements are removed.\n     * If the group does not exist, nothing happens.\n     */\n    ProxyProvider.prototype.removeGroup = function (groupKey) {\n        var group = this.groups[groupKey];\n        if (group) {\n            removeElement(group.groupElement);\n            delete this.groups[groupKey];\n        }\n    };\n    /**\n     * Update the position and order of all proxy groups and elements\n     */\n    ProxyProvider.prototype.update = function () {\n        this.updatePosContainerPositions();\n        this.updateGroupOrder(this.groupOrder);\n        this.updateProxyElementPositions();\n    };\n    /**\n     * Update all proxy element positions\n     */\n    ProxyProvider.prototype.updateProxyElementPositions = function () {\n        Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this));\n    };\n    /**\n     * Update a group's proxy elements' positions.\n     * If the group does not exist, nothing happens.\n     */\n    ProxyProvider.prototype.updateGroupProxyElementPositions = function (groupKey) {\n        var group = this.groups[groupKey];\n        if (group) {\n            group.proxyElements.forEach(function (el) { return el.refreshPosition(); });\n        }\n    };\n    /**\n     * Remove all added elements\n     */\n    ProxyProvider.prototype.destroy = function () {\n        this.domElementProvider.destroyCreatedElements();\n    };\n    // -------------------------- private ------------------------------------\n    /**\n     * Create and return a pos container element (the overall containers for\n     * the proxy groups).\n     */\n    ProxyProvider.prototype.createProxyPosContainer = function (classNamePostfix) {\n        var el = this.domElementProvider.createElement('div');\n        el.setAttribute('aria-hidden', 'false');\n        el.className = 'highcharts-a11y-proxy-container' + (classNamePostfix ? '-' + classNamePostfix : '');\n        css(el, {\n            top: '0',\n            left: '0'\n        });\n        if (!this.chart.styledMode) {\n            el.style.whiteSpace = 'nowrap';\n            el.style.position = 'absolute';\n        }\n        return el;\n    };\n    /**\n     * Get an array of group keys that corresponds to the current group order\n     * in the DOM.\n     */\n    ProxyProvider.prototype.getCurrentGroupOrderInDOM = function () {\n        var _this = this;\n        var getGroupKeyFromElement = function (el) {\n            var allGroups = Object.keys(_this.groups);\n            var i = allGroups.length;\n            while (i--) {\n                var groupKey = allGroups[i];\n                var group = _this.groups[groupKey];\n                if (group && el === group.groupElement) {\n                    return groupKey;\n                }\n            }\n        };\n        var getChildrenGroupOrder = function (el) {\n            var childrenOrder = [];\n            var children = el.children;\n            for (var i = 0; i < children.length; ++i) {\n                var groupKey = getGroupKeyFromElement(children[i]);\n                if (groupKey) {\n                    childrenOrder.push(groupKey);\n                }\n            }\n            return childrenOrder;\n        };\n        var before = getChildrenGroupOrder(this.beforeChartProxyPosContainer);\n        var after = getChildrenGroupOrder(this.afterChartProxyPosContainer);\n        before.push('series');\n        return before.concat(after);\n    };\n    /**\n     * Check if the current DOM order matches the current group order, so that\n     * a reordering/update is unnecessary.\n     */\n    ProxyProvider.prototype.isDOMOrderGroupOrder = function () {\n        var _this = this;\n        var domOrder = this.getCurrentGroupOrderInDOM();\n        var groupOrderWithGroups = this.groupOrder.filter(function (x) { return x === 'series' || !!_this.groups[x]; });\n        var i = domOrder.length;\n        if (i !== groupOrderWithGroups.length) {\n            return false;\n        }\n        while (i--) {\n            if (domOrder[i] !== groupOrderWithGroups[i]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    /**\n     * Update the DOM positions of the before/after proxy\n     * positioning containers for the groups.\n     */\n    ProxyProvider.prototype.updatePosContainerPositions = function () {\n        var chart = this.chart;\n        // If exporting, don't add these containers to the DOM.\n        if (chart.renderer.forExport) {\n            return;\n        }\n        var rendererSVGEl = chart.renderer.box;\n        chart.container.insertBefore(this.afterChartProxyPosContainer, rendererSVGEl.nextSibling);\n        chart.container.insertBefore(this.beforeChartProxyPosContainer, rendererSVGEl);\n        unhideChartElementFromAT(this.chart, this.afterChartProxyPosContainer);\n        unhideChartElementFromAT(this.chart, this.beforeChartProxyPosContainer);\n    };\n    return ProxyProvider;\n}());\n/* *\n *\n *  Export Default\n *\n * */\nexport default ProxyProvider;\n","/* *\n *\n *  (c) 2010-2021 Torstein Honsi\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\n/* *\n *\n *  Declarations\n *\n * */\n/**\n * Language object. The language object is global and it can't be set\n * on each chart initialization. Instead, use `Highcharts.setOptions` to\n * set it before any chart is initialized.\n *\n * ```js\n * Highcharts.setOptions({\n *     lang: {\n *         months: [\n *             'Janvier', 'Fvrier', 'Mars', 'Avril',\n *             'Mai', 'Juin', 'Juillet', 'Aot',\n *             'Septembre', 'Octobre', 'Novembre', 'Dcembre'\n *         ],\n *         weekdays: [\n *             'Dimanche', 'Lundi', 'Mardi', 'Mercredi',\n *             'Jeudi', 'Vendredi', 'Samedi'\n *         ]\n *     }\n * });\n * ```\n *\n * @optionparent lang\n */\nvar lang = {\n    /**\n     * The text for the label for the range selector buttons.\n     *\n     * @product highstock gantt\n     */\n    rangeSelectorZoom: 'Zoom',\n    /**\n     * The text for the label for the \"from\" input box in the range\n     * selector. Since v9.0, this string is empty as the label is not\n     * rendered by default.\n     *\n     * @product highstock gantt\n     */\n    rangeSelectorFrom: '',\n    /**\n     * The text for the label for the \"to\" input box in the range selector.\n     *\n     * @product highstock gantt\n     */\n    rangeSelectorTo: ''\n};\n/**\n * The range selector is a tool for selecting ranges to display within\n * the chart. It provides buttons to select preconfigured ranges in\n * the chart, like 1 day, 1 week, 1 month etc. It also provides input\n * boxes where min and max dates can be manually input.\n *\n * @product      highstock gantt\n * @optionparent rangeSelector\n */\nvar rangeSelector = {\n    /**\n     * Whether to enable all buttons from the start. By default buttons are\n     * only enabled if the corresponding time range exists on the X axis,\n     * but enabling all buttons allows for dynamically loading different\n     * time ranges.\n     *\n     * @sample {highstock} stock/rangeselector/allbuttonsenabled-true/\n     *         All buttons enabled\n     *\n     * @since     2.0.3\n     */\n    allButtonsEnabled: false,\n    /**\n     * An array of configuration objects for the buttons.\n     *\n     * Defaults to:\n     * ```js\n     * buttons: [{\n     *     type: 'month',\n     *     count: 1,\n     *     text: '1m',\n     *     title: 'View 1 month'\n     * }, {\n     *     type: 'month',\n     *     count: 3,\n     *     text: '3m',\n     *     title: 'View 3 months'\n     * }, {\n     *     type: 'month',\n     *     count: 6,\n     *     text: '6m',\n     *     title: 'View 6 months'\n     * }, {\n     *     type: 'ytd',\n     *     text: 'YTD',\n     *     title: 'View year to date'\n     * }, {\n     *     type: 'year',\n     *     count: 1,\n     *     text: '1y',\n     *     title: 'View 1 year'\n     * }, {\n     *     type: 'all',\n     *     text: 'All',\n     *     title: 'View all'\n     * }]\n     * ```\n     *\n     * @sample {highstock} stock/rangeselector/datagrouping/\n     *         Data grouping by buttons\n     *\n     * @type      {Array<*>}\n     */\n    buttons: void 0,\n    /**\n     * How many units of the defined type the button should span. If `type`\n     * is \"month\" and `count` is 3, the button spans three months.\n     *\n     * @type      {number}\n     * @default   1\n     * @apioption rangeSelector.buttons.count\n     */\n    /**\n     * Fires when clicking on the rangeSelector button. One parameter,\n     * event, is passed to the function, containing common event\n     * information.\n     *\n     * ```js\n     * click: function(e) {\n     *   console.log(this);\n     * }\n     * ```\n     *\n     * Return false to stop default button's click action.\n     *\n     * @sample {highstock} stock/rangeselector/button-click/\n     *         Click event on the button\n     *\n     * @type      {Highcharts.RangeSelectorClickCallbackFunction}\n     * @apioption rangeSelector.buttons.events.click\n     */\n    /**\n     * Additional range (in milliseconds) added to the end of the calculated\n     * time span.\n     *\n     * @sample {highstock} stock/rangeselector/min-max-offsets/\n     *         Button offsets\n     *\n     * @type      {number}\n     * @default   0\n     * @since     6.0.0\n     * @apioption rangeSelector.buttons.offsetMax\n     */\n    /**\n     * Additional range (in milliseconds) added to the start of the\n     * calculated time span.\n     *\n     * @sample {highstock} stock/rangeselector/min-max-offsets/\n     *         Button offsets\n     *\n     * @type      {number}\n     * @default   0\n     * @since     6.0.0\n     * @apioption rangeSelector.buttons.offsetMin\n     */\n    /**\n     * When buttons apply dataGrouping on a series, by default zooming\n     * in/out will deselect buttons and unset dataGrouping. Enable this\n     * option to keep buttons selected when extremes change.\n     *\n     * @sample {highstock} stock/rangeselector/preserve-datagrouping/\n     *         Different preserveDataGrouping settings\n     *\n     * @type      {boolean}\n     * @default   false\n     * @since     6.1.2\n     * @apioption rangeSelector.buttons.preserveDataGrouping\n     */\n    /**\n     * A custom data grouping object for each button.\n     *\n     * @see [series.dataGrouping](#plotOptions.series.dataGrouping)\n     *\n     * @sample {highstock} stock/rangeselector/datagrouping/\n     *         Data grouping by range selector buttons\n     *\n     * @type      {*}\n     * @extends   plotOptions.series.dataGrouping\n     * @apioption rangeSelector.buttons.dataGrouping\n     */\n    /**\n     * The text for the button itself.\n     *\n     * @type      {string}\n     * @apioption rangeSelector.buttons.text\n     */\n    /**\n     * Explanation for the button, shown as a tooltip on hover, and used by\n     * assistive technology.\n     *\n     * @type      {string}\n     * @apioption rangeSelector.buttons.title\n     */\n    /**\n     * Defined the time span for the button. Can be one of `millisecond`,\n     * `second`, `minute`, `hour`, `day`, `week`, `month`, `year`, `ytd`,\n     * and `all`.\n     *\n     * @type       {Highcharts.RangeSelectorButtonTypeValue}\n     * @apioption  rangeSelector.buttons.type\n     */\n    /**\n     * The space in pixels between the buttons in the range selector.\n     */\n    buttonSpacing: 5,\n    /**\n     * Whether to collapse the range selector buttons into a dropdown when\n     * there is not enough room to show everything in a single row, instead\n     * of dividing the range selector into multiple rows.\n     * Can be one of the following:\n     *  - `always`: Always collapse\n     *  - `responsive`: Only collapse when there is not enough room\n     *  - `never`: Never collapse\n     *\n     * @sample {highstock} stock/rangeselector/dropdown/\n     *         Dropdown option\n     *\n     * @validvalue [\"always\", \"responsive\", \"never\"]\n     * @since 9.0.0\n     */\n    dropdown: 'responsive',\n    /**\n     * Enable or disable the range selector. Default to `true` for stock\n     * charts, using the `stockChart` factory.\n     *\n     * @sample {highstock} stock/rangeselector/enabled/\n     *         Disable the range selector\n     *\n     * @type {boolean|undefined}\n     * @default {highstock} true\n     */\n    enabled: void 0,\n    /**\n     * The vertical alignment of the rangeselector box. Allowed properties\n     * are `top`, `middle`, `bottom`.\n     *\n     * @sample {highstock} stock/rangeselector/vertical-align-middle/\n     *         Middle\n     * @sample {highstock} stock/rangeselector/vertical-align-bottom/\n     *         Bottom\n     *\n     * @type  {Highcharts.VerticalAlignValue}\n     * @since 6.0.0\n     */\n    verticalAlign: 'top',\n    /**\n     * A collection of attributes for the buttons. The object takes SVG\n     * attributes like `fill`, `stroke`, `stroke-width`, as well as `style`,\n     * a collection of CSS properties for the text.\n     *\n     * The object can also be extended with states, so you can set\n     * presentational options for `hover`, `select` or `disabled` button\n     * states.\n     *\n     * CSS styles for the text label.\n     *\n     * In styled mode, the buttons are styled by the\n     * `.highcharts-range-selector-buttons .highcharts-button` rule with its\n     * different states.\n     *\n     * @sample {highstock} stock/rangeselector/styling/\n     *         Styling the buttons and inputs\n     *\n     * @type {Highcharts.SVGAttributes}\n     */\n    buttonTheme: {\n        /** @ignore */\n        width: 28,\n        /** @ignore */\n        height: 18,\n        /** @ignore */\n        padding: 2,\n        /** @ignore */\n        zIndex: 7 // #484, #852\n    },\n    /**\n     * When the rangeselector is floating, the plot area does not reserve\n     * space for it. This opens for positioning anywhere on the chart.\n     *\n     * @sample {highstock} stock/rangeselector/floating/\n     *         Placing the range selector between the plot area and the\n     *         navigator\n     *\n     * @since 6.0.0\n     */\n    floating: false,\n    /**\n     * The x offset of the range selector relative to its horizontal\n     * alignment within `chart.spacingLeft` and `chart.spacingRight`.\n     *\n     * @since 6.0.0\n     */\n    x: 0,\n    /**\n     * The y offset of the range selector relative to its horizontal\n     * alignment within `chart.spacingLeft` and `chart.spacingRight`.\n     *\n     * @since 6.0.0\n     */\n    y: 0,\n    /**\n     * Deprecated. The height of the range selector. Currently it is\n     * calculated dynamically.\n     *\n     * @deprecated\n     * @type  {number|undefined}\n     * @since 2.1.9\n     */\n    height: void 0,\n    /**\n     * The border color of the date input boxes.\n     *\n     * @sample {highstock} stock/rangeselector/styling/\n     *         Styling the buttons and inputs\n     *\n     * @type      {Highcharts.ColorString}\n     * @since     1.3.7\n     */\n    inputBoxBorderColor: 'none',\n    /**\n     * The pixel height of the date input boxes.\n     *\n     * @sample {highstock} stock/rangeselector/styling/\n     *         Styling the buttons and inputs\n     *\n     * @since     1.3.7\n     */\n    inputBoxHeight: 17,\n    /**\n     * The pixel width of the date input boxes. When `undefined`, the width\n     * is fitted to the rendered content.\n     *\n     * @sample {highstock} stock/rangeselector/styling/\n     *         Styling the buttons and inputs\n     *\n     * @type   {number|undefined}\n     * @since  1.3.7\n     */\n    inputBoxWidth: void 0,\n    /**\n     * The date format in the input boxes when not selected for editing.\n     * Defaults to `%b %e, %Y`.\n     *\n     * This is used to determine which type of input to show,\n     * `datetime-local`, `date` or `time` and falling back to `text` when\n     * the browser does not support the input type or the format contains\n     * milliseconds.\n     *\n     * @sample {highstock} stock/rangeselector/input-type/\n     *         Input types\n     * @sample {highstock} stock/rangeselector/input-format/\n     *         Milliseconds in the range selector\n     *\n     */\n    inputDateFormat: '%b %e, %Y',\n    /**\n     * A custom callback function to parse values entered in the input boxes\n     * and return a valid JavaScript time as milliseconds since 1970.\n     * The first argument passed is a value to parse,\n     * second is a boolean indicating use of the UTC time.\n     *\n     * This will only get called for inputs of type `text`. Since v8.2.3,\n     * the input type is dynamically determined based on the granularity\n     * of the `inputDateFormat` and the browser support.\n     *\n     * @sample {highstock} stock/rangeselector/input-format/\n     *         Milliseconds in the range selector\n     *\n     * @type      {Highcharts.RangeSelectorParseCallbackFunction}\n     * @since     1.3.3\n     */\n    inputDateParser: void 0,\n    /**\n     * The date format in the input boxes when they are selected for\n     * editing. This must be a format that is recognized by JavaScript\n     * Date.parse.\n     *\n     * This will only be used for inputs of type `text`. Since v8.2.3,\n     * the input type is dynamically determined based on the granularity\n     * of the `inputDateFormat` and the browser support.\n     *\n     * @sample {highstock} stock/rangeselector/input-format/\n     *         Milliseconds in the range selector\n     *\n     */\n    inputEditDateFormat: '%Y-%m-%d',\n    /**\n     * Enable or disable the date input boxes.\n     */\n    inputEnabled: true,\n    /**\n     * Positioning for the input boxes. Allowed properties are `align`,\n     *  `x` and `y`.\n     *\n     * @since 1.2.4\n     */\n    inputPosition: {\n        /**\n         * The alignment of the input box. Allowed properties are `left`,\n         * `center`, `right`.\n         *\n         * @sample {highstock} stock/rangeselector/input-button-position/\n         *         Alignment\n         *\n         * @type  {Highcharts.AlignValue}\n         * @since 6.0.0\n         */\n        align: 'right',\n        /**\n         * X offset of the input row.\n         */\n        x: 0,\n        /**\n         * Y offset of the input row.\n         */\n        y: 0\n    },\n    /**\n     * The space in pixels between the labels and the date input boxes in\n     * the range selector.\n     *\n     * @since 9.0.0\n     */\n    inputSpacing: 5,\n    /**\n     * The index of the button to appear pre-selected.\n     *\n     * @type      {number}\n     */\n    selected: void 0,\n    /**\n     * Positioning for the button row.\n     *\n     * @since 1.2.4\n     */\n    buttonPosition: {\n        /**\n         * The alignment of the input box. Allowed properties are `left`,\n         * `center`, `right`.\n         *\n         * @sample {highstock} stock/rangeselector/input-button-position/\n         *         Alignment\n         *\n         * @type  {Highcharts.AlignValue}\n         * @since 6.0.0\n         */\n        align: 'left',\n        /**\n         * X offset of the button row.\n         */\n        x: 0,\n        /**\n         * Y offset of the button row.\n         */\n        y: 0\n    },\n    /**\n     * CSS for the HTML inputs in the range selector.\n     *\n     * In styled mode, the inputs are styled by the\n     * `.highcharts-range-input text` rule in SVG mode, and\n     * `input.highcharts-range-selector` when active.\n     *\n     * @sample {highstock} stock/rangeselector/styling/\n     *         Styling the buttons and inputs\n     *\n     * @type      {Highcharts.CSSObject}\n     * @apioption rangeSelector.inputStyle\n     */\n    inputStyle: {\n        /** @ignore */\n        color: \"#335cad\" /* Palette.highlightColor80 */,\n        /** @ignore */\n        cursor: 'pointer'\n    },\n    /**\n     * CSS styles for the labels - the Zoom, From and To texts.\n     *\n     * In styled mode, the labels are styled by the\n     * `.highcharts-range-label` class.\n     *\n     * @sample {highstock} stock/rangeselector/styling/\n     *         Styling the buttons and inputs\n     *\n     * @type {Highcharts.CSSObject}\n     */\n    labelStyle: {\n        /** @ignore */\n        color: \"#666666\" /* Palette.neutralColor60 */\n    }\n};\n/* *\n *\n *  Default Export\n *\n * */\nvar RangeSelectorDefaults = {\n    lang: lang,\n    rangeSelector: rangeSelector\n};\nexport default RangeSelectorDefaults;\n","/* *\n *\n *  (c) 2010-2021 Torstein Honsi\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport D from '../../Core/Defaults.js';\nvar defaultOptions = D.defaultOptions, setOptions = D.setOptions;\nimport RangeSelectorDefaults from './RangeSelectorDefaults.js';\nimport U from '../../Core/Utilities.js';\nvar addEvent = U.addEvent, defined = U.defined, extend = U.extend, find = U.find, isNumber = U.isNumber, merge = U.merge, pick = U.pick;\n/* *\n *\n *  Constants\n *\n * */\nvar chartDestroyEvents = [];\nvar composedMembers = [];\n/* *\n *\n *  Variables\n *\n * */\nvar RangeSelectorConstructor;\n/* *\n *\n *  Functions\n *\n * */\n/**\n * Get the axis min value based on the range option and the current max. For\n * stock charts this is extended via the {@link RangeSelector} so that if the\n * selected range is a multiple of months or years, it is compensated for\n * various month lengths.\n *\n * @private\n * @function Highcharts.Axis#minFromRange\n * @return {number|undefined}\n *         The new minimum value.\n */\nfunction axisMinFromRange() {\n    var rangeOptions = this.range, type = rangeOptions.type, max = this.max, time = this.chart.time, \n    // Get the true range from a start date\n    getTrueRange = function (base, count) {\n        var timeName = type === 'year' ?\n            'FullYear' : 'Month';\n        var date = new time.Date(base);\n        var basePeriod = time.get(timeName, date);\n        time.set(timeName, date, basePeriod + count);\n        if (basePeriod === time.get(timeName, date)) {\n            time.set('Date', date, 0); // #6537\n        }\n        return date.getTime() - base;\n    };\n    var min, range;\n    if (isNumber(rangeOptions)) {\n        min = max - rangeOptions;\n        range = rangeOptions;\n    }\n    else if (rangeOptions) {\n        min = max + getTrueRange(max, -(rangeOptions.count || 1));\n        // Let the fixedRange reflect initial settings (#5930)\n        if (this.chart) {\n            this.chart.fixedRange = max - min;\n        }\n    }\n    var dataMin = pick(this.dataMin, Number.MIN_VALUE);\n    if (!isNumber(min)) {\n        min = dataMin;\n    }\n    if (min <= dataMin) {\n        min = dataMin;\n        if (typeof range === 'undefined') { // #4501\n            range = getTrueRange(min, rangeOptions.count);\n        }\n        this.newMax = Math.min(min + range, pick(this.dataMax, Number.MAX_VALUE));\n    }\n    if (!isNumber(max)) {\n        min = void 0;\n    }\n    else if (!isNumber(rangeOptions) &&\n        rangeOptions &&\n        rangeOptions._offsetMin) {\n        min += rangeOptions._offsetMin;\n    }\n    return min;\n}\n/**\n * @private\n */\nfunction compose(AxisClass, ChartClass, RangeSelectorClass) {\n    RangeSelectorConstructor = RangeSelectorClass;\n    if (composedMembers.indexOf(AxisClass) === -1) {\n        composedMembers.push(AxisClass);\n        AxisClass.prototype.minFromRange = axisMinFromRange;\n    }\n    if (composedMembers.indexOf(ChartClass) === -1) {\n        composedMembers.push(ChartClass);\n        addEvent(ChartClass, 'afterGetContainer', onChartAfterGetContainer);\n        addEvent(ChartClass, 'beforeRender', onChartBeforeRender);\n        addEvent(ChartClass, 'destroy', onChartDestroy);\n        addEvent(ChartClass, 'getMargins', onChartGetMargins);\n        addEvent(ChartClass, 'render', onChartRender);\n        addEvent(ChartClass, 'update', onChartUpdate);\n        var chartProto = ChartClass.prototype;\n        chartProto.callbacks.push(onChartCallback);\n    }\n    if (composedMembers.indexOf(setOptions) === -1) {\n        extend(defaultOptions, { rangeSelector: RangeSelectorDefaults.rangeSelector });\n        extend(defaultOptions.lang, RangeSelectorDefaults.lang);\n    }\n}\n/**\n * Initialize rangeselector for stock charts\n * @private\n */\nfunction onChartAfterGetContainer() {\n    if (this.options.rangeSelector &&\n        this.options.rangeSelector.enabled) {\n        this.rangeSelector = new RangeSelectorConstructor(this);\n    }\n}\n/**\n * @private\n */\nfunction onChartBeforeRender() {\n    var chart = this, axes = chart.axes, rangeSelector = chart.rangeSelector;\n    if (rangeSelector) {\n        if (isNumber(rangeSelector.deferredYTDClick)) {\n            rangeSelector.clickButton(rangeSelector.deferredYTDClick);\n            delete rangeSelector.deferredYTDClick;\n        }\n        axes.forEach(function (axis) {\n            axis.updateNames();\n            axis.setScale();\n        });\n        chart.getAxisMargins();\n        rangeSelector.render();\n        var verticalAlign = rangeSelector.options.verticalAlign;\n        if (!rangeSelector.options.floating) {\n            if (verticalAlign === 'bottom') {\n                this.extraBottomMargin = true;\n            }\n            else if (verticalAlign !== 'middle') {\n                this.extraTopMargin = true;\n            }\n        }\n    }\n}\n/**\n * @private\n */\nfunction onChartCallback(chart) {\n    var extremes, legend, alignTo, verticalAlign;\n    var rangeSelector = chart.rangeSelector, redraw = function () {\n        if (rangeSelector) {\n            extremes = chart.xAxis[0].getExtremes();\n            legend = chart.legend;\n            verticalAlign = (rangeSelector &&\n                rangeSelector.options.verticalAlign);\n            if (isNumber(extremes.min)) {\n                rangeSelector.render(extremes.min, extremes.max);\n            }\n            // Re-align the legend so that it's below the rangeselector\n            if (legend.display &&\n                verticalAlign === 'top' &&\n                verticalAlign === legend.options.verticalAlign) {\n                // Create a new alignment box for the legend.\n                alignTo = merge(chart.spacingBox);\n                if (legend.options.layout === 'vertical') {\n                    alignTo.y = chart.plotTop;\n                }\n                else {\n                    alignTo.y += rangeSelector.getHeight();\n                }\n                legend.group.placed = false; // Don't animate the alignment.\n                legend.align(alignTo);\n            }\n        }\n    };\n    if (rangeSelector) {\n        var events = find(chartDestroyEvents, function (e) { return e[0] === chart; });\n        if (!events) {\n            chartDestroyEvents.push([chart, [\n                    // redraw the scroller on setExtremes\n                    addEvent(chart.xAxis[0], 'afterSetExtremes', function (e) {\n                        if (rangeSelector) {\n                            rangeSelector.render(e.min, e.max);\n                        }\n                    }),\n                    // redraw the scroller chart resize\n                    addEvent(chart, 'redraw', redraw)\n                ]]);\n        }\n        // do it now\n        redraw();\n    }\n}\n/**\n * Remove resize/afterSetExtremes at chart destroy.\n * @private\n */\nfunction onChartDestroy() {\n    for (var i = 0, iEnd = chartDestroyEvents.length; i < iEnd; ++i) {\n        var events = chartDestroyEvents[i];\n        if (events[0] === this) {\n            events[1].forEach(function (unbind) { return unbind(); });\n            chartDestroyEvents.splice(i, 1);\n            return;\n        }\n    }\n}\nfunction onChartGetMargins() {\n    var rangeSelector = this.rangeSelector;\n    if (rangeSelector) {\n        var rangeSelectorHeight = rangeSelector.getHeight();\n        if (this.extraTopMargin) {\n            this.plotTop += rangeSelectorHeight;\n        }\n        if (this.extraBottomMargin) {\n            this.marginBottom += rangeSelectorHeight;\n        }\n    }\n}\n/**\n * @private\n */\nfunction onChartRender() {\n    var chart = this, rangeSelector = chart.rangeSelector;\n    if (rangeSelector && !rangeSelector.options.floating) {\n        rangeSelector.render();\n        var verticalAlign = rangeSelector.options.verticalAlign;\n        if (verticalAlign === 'bottom') {\n            this.extraBottomMargin = true;\n        }\n        else if (verticalAlign !== 'middle') {\n            this.extraTopMargin = true;\n        }\n    }\n}\n/**\n * @private\n */\nfunction onChartUpdate(e) {\n    var chart = this, options = e.options, optionsRangeSelector = options.rangeSelector, extraBottomMarginWas = this.extraBottomMargin, extraTopMarginWas = this.extraTopMargin;\n    var rangeSelector = chart.rangeSelector;\n    if (optionsRangeSelector &&\n        optionsRangeSelector.enabled &&\n        !defined(rangeSelector) &&\n        this.options.rangeSelector) {\n        this.options.rangeSelector.enabled = true;\n        this.rangeSelector = rangeSelector = new RangeSelectorConstructor(this);\n    }\n    this.extraBottomMargin = false;\n    this.extraTopMargin = false;\n    if (rangeSelector) {\n        onChartCallback(this);\n        var verticalAlign = (optionsRangeSelector &&\n            optionsRangeSelector.verticalAlign) || (rangeSelector.options && rangeSelector.options.verticalAlign);\n        if (!rangeSelector.options.floating) {\n            if (verticalAlign === 'bottom') {\n                this.extraBottomMargin = true;\n            }\n            else if (verticalAlign !== 'middle') {\n                this.extraTopMargin = true;\n            }\n        }\n        if (this.extraBottomMargin !== extraBottomMarginWas ||\n            this.extraTopMargin !== extraTopMarginWas) {\n            this.isDirtyBox = true;\n        }\n    }\n}\n/* *\n *\n *  Default Export\n *\n * */\nvar RangeSelectorComposition = {\n    compose: compose\n};\nexport default RangeSelectorComposition;\n","/* *\n *\n *  (c) 2010-2021 Torstein Honsi\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport Axis from '../../Core/Axis/Axis.js';\nimport D from '../../Core/Defaults.js';\nvar defaultOptions = D.defaultOptions;\nimport H from '../../Core/Globals.js';\nimport RangeSelectorComposition from './RangeSelectorComposition.js';\nimport SVGElement from '../../Core/Renderer/SVG/SVGElement.js';\nimport U from '../../Core/Utilities.js';\nvar addEvent = U.addEvent, createElement = U.createElement, css = U.css, defined = U.defined, destroyObjectProperties = U.destroyObjectProperties, discardElement = U.discardElement, extend = U.extend, fireEvent = U.fireEvent, isNumber = U.isNumber, merge = U.merge, objectEach = U.objectEach, pad = U.pad, pick = U.pick, pInt = U.pInt, splat = U.splat;\n/* *\n *\n *  Functions\n *\n * */\n/**\n * Get the preferred input type based on a date format string.\n *\n * @private\n * @function preferredInputType\n */\nfunction preferredInputType(format) {\n    var ms = format.indexOf('%L') !== -1;\n    if (ms) {\n        return 'text';\n    }\n    var date = ['a', 'A', 'd', 'e', 'w', 'b', 'B', 'm', 'o', 'y', 'Y']\n        .some(function (char) { return format.indexOf('%' + char) !== -1; });\n    var time = ['H', 'k', 'I', 'l', 'M', 'S']\n        .some(function (char) { return format.indexOf('%' + char) !== -1; });\n    if (date && time) {\n        return 'datetime-local';\n    }\n    if (date) {\n        return 'date';\n    }\n    if (time) {\n        return 'time';\n    }\n    return 'text';\n}\n/* *\n *\n *  Class\n *\n * */\n/**\n * The range selector.\n *\n * @private\n * @class\n * @name Highcharts.RangeSelector\n * @param {Highcharts.Chart} chart\n */\nvar RangeSelector = /** @class */ (function () {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    function RangeSelector(chart) {\n        /* *\n         *\n         *  Properties\n         *\n         * */\n        this.buttons = void 0;\n        this.buttonOptions = RangeSelector.prototype.defaultButtons;\n        this.initialButtonGroupWidth = 0;\n        this.options = void 0;\n        this.chart = chart;\n        this.init(chart);\n    }\n    /* *\n     *\n     *  Static Functions\n     *\n     * */\n    /**\n     * @private\n     */\n    RangeSelector.compose = function (AxisClass, ChartClass) {\n        RangeSelectorComposition.compose(AxisClass, ChartClass, RangeSelector);\n    };\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * The method to run when one of the buttons in the range selectors is\n     * clicked\n     *\n     * @private\n     * @function Highcharts.RangeSelector#clickButton\n     * @param {number} i\n     *        The index of the button\n     * @param {boolean} [redraw]\n     */\n    RangeSelector.prototype.clickButton = function (i, redraw) {\n        var rangeSelector = this, chart = rangeSelector.chart, rangeOptions = rangeSelector.buttonOptions[i], baseAxis = chart.xAxis[0], unionExtremes = (chart.scroller && chart.scroller.getUnionExtremes()) || baseAxis || {}, type = rangeOptions.type, dataGrouping = rangeOptions.dataGrouping;\n        var dataMin = unionExtremes.dataMin, dataMax = unionExtremes.dataMax, newMin, newMax = baseAxis && Math.round(Math.min(baseAxis.max, pick(dataMax, baseAxis.max))), // #1568\n        baseXAxisOptions, range = rangeOptions._range, rangeMin, minSetting, rangeSetting, ctx, ytdExtremes, addOffsetMin = true;\n        // chart has no data, base series is removed\n        if (dataMin === null || dataMax === null) {\n            return;\n        }\n        // Set the fixed range before range is altered\n        chart.fixedRange = range;\n        rangeSelector.setSelected(i);\n        // Apply dataGrouping associated to button\n        if (dataGrouping) {\n            this.forcedDataGrouping = true;\n            Axis.prototype.setDataGrouping.call(baseAxis || { chart: this.chart }, dataGrouping, false);\n            this.frozenStates = rangeOptions.preserveDataGrouping;\n        }\n        // Apply range\n        if (type === 'month' || type === 'year') {\n            if (!baseAxis) {\n                // This is set to the user options and picked up later when the\n                // axis is instantiated so that we know the min and max.\n                range = rangeOptions;\n            }\n            else {\n                ctx = {\n                    range: rangeOptions,\n                    max: newMax,\n                    chart: chart,\n                    dataMin: dataMin,\n                    dataMax: dataMax\n                };\n                newMin = baseAxis.minFromRange.call(ctx);\n                if (isNumber(ctx.newMax)) {\n                    newMax = ctx.newMax;\n                }\n                // #15799: offsetMin is added in minFromRange so that it works\n                // with pre-selected buttons as well\n                addOffsetMin = false;\n            }\n            // Fixed times like minutes, hours, days\n        }\n        else if (range) {\n            newMin = Math.max(newMax - range, dataMin);\n            newMax = Math.min(newMin + range, dataMax);\n            addOffsetMin = false;\n        }\n        else if (type === 'ytd') {\n            // On user clicks on the buttons, or a delayed action running from\n            // the beforeRender event (below), the baseAxis is defined.\n            if (baseAxis) {\n                // When \"ytd\" is the pre-selected button for the initial view,\n                // its calculation is delayed and rerun in the beforeRender\n                // event (below). When the series are initialized, but before\n                // the chart is rendered, we have access to the xData array\n                // (#942).\n                if (typeof dataMax === 'undefined' ||\n                    typeof dataMin === 'undefined') {\n                    dataMin = Number.MAX_VALUE;\n                    dataMax = Number.MIN_VALUE;\n                    chart.series.forEach(function (series) {\n                        // reassign it to the last item\n                        var xData = series.xData;\n                        if (xData) {\n                            dataMin = Math.min(xData[0], dataMin);\n                            dataMax = Math.max(xData[xData.length - 1], dataMax);\n                        }\n                    });\n                    redraw = false;\n                }\n                ytdExtremes = rangeSelector.getYTDExtremes(dataMax, dataMin, chart.time.useUTC);\n                newMin = rangeMin = ytdExtremes.min;\n                newMax = ytdExtremes.max;\n                // \"ytd\" is pre-selected. We don't yet have access to processed\n                // point and extremes data (things like pointStart and pointInterval\n                // are missing), so we delay the process (#942)\n            }\n            else {\n                rangeSelector.deferredYTDClick = i;\n                return;\n            }\n        }\n        else if (type === 'all' && baseAxis) {\n            // If the navigator exist and the axis range is declared reset that\n            // range and from now on only use the range set by a user, #14742.\n            if (chart.navigator && chart.navigator.baseSeries[0]) {\n                chart.navigator.baseSeries[0].xAxis.options.range = void 0;\n            }\n            newMin = dataMin;\n            newMax = dataMax;\n        }\n        if (addOffsetMin && rangeOptions._offsetMin && defined(newMin)) {\n            newMin += rangeOptions._offsetMin;\n        }\n        if (rangeOptions._offsetMax && defined(newMax)) {\n            newMax += rangeOptions._offsetMax;\n        }\n        if (this.dropdown) {\n            this.dropdown.selectedIndex = i + 1;\n        }\n        // Update the chart\n        if (!baseAxis) {\n            // Axis not yet instanciated. Temporarily set min and range\n            // options and remove them on chart load (#4317).\n            baseXAxisOptions = splat(chart.options.xAxis)[0];\n            rangeSetting = baseXAxisOptions.range;\n            baseXAxisOptions.range = range;\n            minSetting = baseXAxisOptions.min;\n            baseXAxisOptions.min = rangeMin;\n            addEvent(chart, 'load', function resetMinAndRange() {\n                baseXAxisOptions.range = rangeSetting;\n                baseXAxisOptions.min = minSetting;\n            });\n        }\n        else {\n            // Existing axis object. Set extremes after render time.\n            baseAxis.setExtremes(newMin, newMax, pick(redraw, true), void 0, // auto animation\n            {\n                trigger: 'rangeSelectorButton',\n                rangeSelectorButton: rangeOptions\n            });\n        }\n        fireEvent(this, 'afterBtnClick');\n    };\n    /**\n     * Set the selected option. This method only sets the internal flag, it\n     * doesn't update the buttons or the actual zoomed range.\n     *\n     * @private\n     * @function Highcharts.RangeSelector#setSelected\n     * @param {number} [selected]\n     */\n    RangeSelector.prototype.setSelected = function (selected) {\n        this.selected = this.options.selected = selected;\n    };\n    /**\n     * Initialize the range selector\n     *\n     * @private\n     * @function Highcharts.RangeSelector#init\n     * @param {Highcharts.Chart} chart\n     */\n    RangeSelector.prototype.init = function (chart) {\n        var rangeSelector = this, options = chart.options.rangeSelector, buttonOptions = (options.buttons || rangeSelector.defaultButtons.slice()), selectedOption = options.selected, blurInputs = function () {\n            var minInput = rangeSelector.minInput, maxInput = rangeSelector.maxInput;\n            // #3274 in some case blur is not defined\n            if (minInput && (minInput.blur)) {\n                fireEvent(minInput, 'blur');\n            }\n            if (maxInput && (maxInput.blur)) {\n                fireEvent(maxInput, 'blur');\n            }\n        };\n        rangeSelector.chart = chart;\n        rangeSelector.options = options;\n        rangeSelector.buttons = [];\n        rangeSelector.buttonOptions = buttonOptions;\n        this.eventsToUnbind = [];\n        this.eventsToUnbind.push(addEvent(chart.container, 'mousedown', blurInputs));\n        this.eventsToUnbind.push(addEvent(chart, 'resize', blurInputs));\n        // Extend the buttonOptions with actual range\n        buttonOptions.forEach(rangeSelector.computeButtonRange);\n        // zoomed range based on a pre-selected button index\n        if (typeof selectedOption !== 'undefined' &&\n            buttonOptions[selectedOption]) {\n            this.clickButton(selectedOption, false);\n        }\n        this.eventsToUnbind.push(addEvent(chart, 'load', function () {\n            // If a data grouping is applied to the current button, release it\n            // when extremes change\n            if (chart.xAxis && chart.xAxis[0]) {\n                addEvent(chart.xAxis[0], 'setExtremes', function (e) {\n                    if (this.max - this.min !==\n                        chart.fixedRange &&\n                        e.trigger !== 'rangeSelectorButton' &&\n                        e.trigger !== 'updatedData' &&\n                        rangeSelector.forcedDataGrouping &&\n                        !rangeSelector.frozenStates) {\n                        this.setDataGrouping(false, false);\n                    }\n                });\n            }\n        }));\n    };\n    /**\n     * Dynamically update the range selector buttons after a new range has been\n     * set\n     *\n     * @private\n     * @function Highcharts.RangeSelector#updateButtonStates\n     */\n    RangeSelector.prototype.updateButtonStates = function () {\n        var rangeSelector = this, chart = this.chart, dropdown = this.dropdown, baseAxis = chart.xAxis[0], actualRange = Math.round(baseAxis.max - baseAxis.min), hasNoData = !baseAxis.hasVisibleSeries, day = 24 * 36e5, // A single day in milliseconds\n        unionExtremes = (chart.scroller &&\n            chart.scroller.getUnionExtremes()) || baseAxis, dataMin = unionExtremes.dataMin, dataMax = unionExtremes.dataMax, ytdExtremes = rangeSelector.getYTDExtremes(dataMax, dataMin, chart.time.useUTC), ytdMin = ytdExtremes.min, ytdMax = ytdExtremes.max, selected = rangeSelector.selected, allButtonsEnabled = rangeSelector.options.allButtonsEnabled, buttons = rangeSelector.buttons;\n        var selectedExists = isNumber(selected);\n        rangeSelector.buttonOptions.forEach(function (rangeOptions, i) {\n            var range = rangeOptions._range, type = rangeOptions.type, count = rangeOptions.count || 1, button = buttons[i], offsetRange = rangeOptions._offsetMax -\n                rangeOptions._offsetMin, isSelected = i === selected, \n            // Disable buttons where the range exceeds what is allowed in\n            // the current view\n            isTooGreatRange = range >\n                dataMax - dataMin, \n            // Disable buttons where the range is smaller than the minimum\n            // range\n            isTooSmallRange = range < baseAxis.minRange;\n            var state = 0, \n            // Do not select the YTD button if not explicitly told so\n            isYTDButNotSelected = false, \n            // Disable the All button if we're already showing all\n            isAllButAlreadyShowingAll = false, isSameRange = range === actualRange;\n            // Months and years have a variable range so we check the extremes\n            if ((type === 'month' || type === 'year') &&\n                (actualRange + 36e5 >=\n                    { month: 28, year: 365 }[type] * day * count - offsetRange) &&\n                (actualRange - 36e5 <=\n                    { month: 31, year: 366 }[type] * day * count + offsetRange)) {\n                isSameRange = true;\n            }\n            else if (type === 'ytd') {\n                isSameRange = (ytdMax - ytdMin + offsetRange) === actualRange;\n                isYTDButNotSelected = !isSelected;\n            }\n            else if (type === 'all') {\n                isSameRange = (baseAxis.max - baseAxis.min >=\n                    dataMax - dataMin);\n                isAllButAlreadyShowingAll = (!isSelected &&\n                    selectedExists &&\n                    isSameRange);\n            }\n            // The new zoom area happens to match the range for a button - mark\n            // it selected. This happens when scrolling across an ordinal gap.\n            // It can be seen in the intraday demos when selecting 1h and scroll\n            // across the night gap.\n            var disable = (!allButtonsEnabled &&\n                (isTooGreatRange ||\n                    isTooSmallRange ||\n                    isAllButAlreadyShowingAll ||\n                    hasNoData));\n            var select = ((isSelected && isSameRange) ||\n                (isSameRange && !selectedExists && !isYTDButNotSelected) ||\n                (isSelected && rangeSelector.frozenStates));\n            if (disable) {\n                state = 3;\n            }\n            else if (select) {\n                selectedExists = true; // Only one button can be selected\n                state = 2;\n            }\n            // If state has changed, update the button\n            if (button.state !== state) {\n                button.setState(state);\n                if (dropdown) {\n                    dropdown.options[i + 1].disabled = disable;\n                    if (state === 2) {\n                        dropdown.selectedIndex = i + 1;\n                    }\n                }\n                // Reset (#9209)\n                if (state === 0 && selected === i) {\n                    rangeSelector.setSelected();\n                }\n            }\n        });\n    };\n    /**\n     * Compute and cache the range for an individual button\n     *\n     * @private\n     * @function Highcharts.RangeSelector#computeButtonRange\n     * @param {Highcharts.RangeSelectorButtonsOptions} rangeOptions\n     */\n    RangeSelector.prototype.computeButtonRange = function (rangeOptions) {\n        var type = rangeOptions.type, count = rangeOptions.count || 1, \n        // these time intervals have a fixed number of milliseconds, as\n        // opposed to month, ytd and year\n        fixedTimes = {\n            millisecond: 1,\n            second: 1000,\n            minute: 60 * 1000,\n            hour: 3600 * 1000,\n            day: 24 * 3600 * 1000,\n            week: 7 * 24 * 3600 * 1000\n        };\n        // Store the range on the button object\n        if (fixedTimes[type]) {\n            rangeOptions._range = fixedTimes[type] * count;\n        }\n        else if (type === 'month' || type === 'year') {\n            rangeOptions._range = {\n                month: 30,\n                year: 365\n            }[type] * 24 * 36e5 * count;\n        }\n        rangeOptions._offsetMin = pick(rangeOptions.offsetMin, 0);\n        rangeOptions._offsetMax = pick(rangeOptions.offsetMax, 0);\n        rangeOptions._range +=\n            rangeOptions._offsetMax - rangeOptions._offsetMin;\n    };\n    /**\n     * Get the unix timestamp of a HTML input for the dates\n     *\n     * @private\n     * @function Highcharts.RangeSelector#getInputValue\n     */\n    RangeSelector.prototype.getInputValue = function (name) {\n        var input = name === 'min' ? this.minInput : this.maxInput;\n        var options = this.chart.options\n            .rangeSelector;\n        var time = this.chart.time;\n        if (input) {\n            return ((input.type === 'text' && options.inputDateParser) ||\n                this.defaultInputDateParser)(input.value, time.useUTC, time);\n        }\n        return 0;\n    };\n    /**\n     * Set the internal and displayed value of a HTML input for the dates\n     *\n     * @private\n     * @function Highcharts.RangeSelector#setInputValue\n     */\n    RangeSelector.prototype.setInputValue = function (name, inputTime) {\n        var options = this.options, time = this.chart.time, input = name === 'min' ? this.minInput : this.maxInput, dateBox = name === 'min' ? this.minDateBox : this.maxDateBox;\n        if (input) {\n            var hcTimeAttr = input.getAttribute('data-hc-time');\n            var updatedTime = defined(hcTimeAttr) ? Number(hcTimeAttr) : void 0;\n            if (defined(inputTime)) {\n                var previousTime = updatedTime;\n                if (defined(previousTime)) {\n                    input.setAttribute('data-hc-time-previous', previousTime);\n                }\n                input.setAttribute('data-hc-time', inputTime);\n                updatedTime = inputTime;\n            }\n            input.value = time.dateFormat((this.inputTypeFormats[input.type] ||\n                options.inputEditDateFormat), updatedTime);\n            if (dateBox) {\n                dateBox.attr({\n                    text: time.dateFormat(options.inputDateFormat, updatedTime)\n                });\n            }\n        }\n    };\n    /**\n     * Set the min and max value of a HTML input for the dates\n     *\n     * @private\n     * @function Highcharts.RangeSelector#setInputExtremes\n     */\n    RangeSelector.prototype.setInputExtremes = function (name, min, max) {\n        var input = name === 'min' ? this.minInput : this.maxInput;\n        if (input) {\n            var format = this.inputTypeFormats[input.type];\n            var time = this.chart.time;\n            if (format) {\n                var newMin = time.dateFormat(format, min);\n                if (input.min !== newMin) {\n                    input.min = newMin;\n                }\n                var newMax = time.dateFormat(format, max);\n                if (input.max !== newMax) {\n                    input.max = newMax;\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     * @function Highcharts.RangeSelector#showInput\n     * @param {string} name\n     */\n    RangeSelector.prototype.showInput = function (name) {\n        var dateBox = name === 'min' ? this.minDateBox : this.maxDateBox;\n        var input = name === 'min' ? this.minInput : this.maxInput;\n        if (input && dateBox && this.inputGroup) {\n            var isTextInput = input.type === 'text';\n            var _a = this.inputGroup, translateX = _a.translateX, translateY = _a.translateY;\n            var inputBoxWidth = this.options.inputBoxWidth;\n            css(input, {\n                width: isTextInput ?\n                    ((dateBox.width + (inputBoxWidth ? -2 : 20)) + 'px') :\n                    'auto',\n                height: isTextInput ? ((dateBox.height - 2) + 'px') : 'auto',\n                border: '2px solid silver'\n            });\n            if (isTextInput && inputBoxWidth) {\n                css(input, {\n                    left: (translateX + dateBox.x) + 'px',\n                    top: translateY + 'px'\n                });\n                // Inputs of types date, time or datetime-local should be centered\n                // on top of the dateBox\n            }\n            else {\n                css(input, {\n                    left: Math.min(Math.round(dateBox.x +\n                        translateX -\n                        (input.offsetWidth - dateBox.width) / 2), this.chart.chartWidth - input.offsetWidth) + 'px',\n                    top: (translateY - (input.offsetHeight - dateBox.height) / 2) + 'px'\n                });\n            }\n        }\n    };\n    /**\n     * @private\n     * @function Highcharts.RangeSelector#hideInput\n     * @param {string} name\n     */\n    RangeSelector.prototype.hideInput = function (name) {\n        var input = name === 'min' ? this.minInput : this.maxInput;\n        if (input) {\n            css(input, {\n                top: '-9999em',\n                border: 0,\n                width: '1px',\n                height: '1px'\n            });\n        }\n    };\n    /**\n     * @private\n     * @function Highcharts.RangeSelector#defaultInputDateParser\n     */\n    RangeSelector.prototype.defaultInputDateParser = function (inputDate, useUTC, time) {\n        var hasTimezone = function (str) {\n            return str.length > 6 &&\n                (str.lastIndexOf('-') === str.length - 6 ||\n                    str.lastIndexOf('+') === str.length - 6);\n        };\n        var input = inputDate.split('/').join('-').split(' ').join('T');\n        if (input.indexOf('T') === -1) {\n            input += 'T00:00';\n        }\n        if (useUTC) {\n            input += 'Z';\n        }\n        else if (H.isSafari && !hasTimezone(input)) {\n            var offset = new Date(input).getTimezoneOffset() / 60;\n            input += offset <= 0 ? \"+\".concat(pad(-offset), \":00\") : \"-\".concat(pad(offset), \":00\");\n        }\n        var date = Date.parse(input);\n        // If the value isn't parsed directly to a value by the\n        // browser's Date.parse method, like YYYY-MM-DD in IE8, try\n        // parsing it a different way\n        if (!isNumber(date)) {\n            var parts = inputDate.split('-');\n            date = Date.UTC(pInt(parts[0]), pInt(parts[1]) - 1, pInt(parts[2]));\n        }\n        if (time && useUTC && isNumber(date)) {\n            date += time.getTimezoneOffset(date);\n        }\n        return date;\n    };\n    /**\n     * Draw either the 'from' or the 'to' HTML input box of the range selector\n     *\n     * @private\n     * @function Highcharts.RangeSelector#drawInput\n     */\n    RangeSelector.prototype.drawInput = function (name) {\n        var _a = this, chart = _a.chart, div = _a.div, inputGroup = _a.inputGroup;\n        var rangeSelector = this, chartStyle = chart.renderer.style || {}, renderer = chart.renderer, options = chart.options.rangeSelector, lang = defaultOptions.lang, isMin = name === 'min';\n        /**\n         * @private\n         */\n        function updateExtremes() {\n            var maxInput = rangeSelector.maxInput, minInput = rangeSelector.minInput, chartAxis = chart.xAxis[0], dataAxis = chart.scroller && chart.scroller.xAxis ?\n                chart.scroller.xAxis :\n                chartAxis, dataMin = dataAxis.dataMin, dataMax = dataAxis.dataMax;\n            var value = rangeSelector.getInputValue(name);\n            if (value !== Number(input.getAttribute('data-hc-time-previous')) &&\n                isNumber(value)) {\n                input.setAttribute('data-hc-time-previous', value);\n                // Validate the extremes. If it goes beyound the data min or\n                // max, use the actual data extreme (#2438).\n                if (isMin && maxInput && isNumber(dataMin)) {\n                    if (value > Number(maxInput.getAttribute('data-hc-time'))) {\n                        value = void 0;\n                    }\n                    else if (value < dataMin) {\n                        value = dataMin;\n                    }\n                }\n                else if (minInput && isNumber(dataMax)) {\n                    if (value < Number(minInput.getAttribute('data-hc-time'))) {\n                        value = void 0;\n                    }\n                    else if (value > dataMax) {\n                        value = dataMax;\n                    }\n                }\n                // Set the extremes\n                if (typeof value !== 'undefined') { // @todo typof undefined\n                    chartAxis.setExtremes(isMin ? value : chartAxis.min, isMin ? chartAxis.max : value, void 0, void 0, { trigger: 'rangeSelectorInput' });\n                }\n            }\n        }\n        // Create the text label\n        var text = lang[isMin ? 'rangeSelectorFrom' : 'rangeSelectorTo'] || '';\n        var label = renderer\n            .label(text, 0)\n            .addClass('highcharts-range-label')\n            .attr({\n            padding: text ? 2 : 0,\n            height: text ? options.inputBoxHeight : 0\n        })\n            .add(inputGroup);\n        // Create an SVG label that shows updated date ranges and and records\n        // click events that bring in the HTML input.\n        var dateBox = renderer\n            .label('', 0)\n            .addClass('highcharts-range-input')\n            .attr({\n            padding: 2,\n            width: options.inputBoxWidth,\n            height: options.inputBoxHeight,\n            'text-align': 'center'\n        })\n            .on('click', function () {\n            // If it is already focused, the onfocus event doesn't fire\n            // (#3713)\n            rangeSelector.showInput(name);\n            rangeSelector[name + 'Input'].focus();\n        });\n        if (!chart.styledMode) {\n            dateBox.attr({\n                stroke: options.inputBoxBorderColor,\n                'stroke-width': 1\n            });\n        }\n        dateBox.add(inputGroup);\n        // Create the HTML input element. This is rendered as 1x1 pixel then set\n        // to the right size when focused.\n        var input = createElement('input', {\n            name: name,\n            className: 'highcharts-range-selector'\n        }, void 0, div);\n        // #14788: Setting input.type to an unsupported type throws in IE, so\n        // we need to use setAttribute instead\n        input.setAttribute('type', preferredInputType(options.inputDateFormat || '%b %e, %Y'));\n        if (!chart.styledMode) {\n            // Styles\n            label.css(merge(chartStyle, options.labelStyle));\n            dateBox.css(merge({\n                color: \"#333333\" /* Palette.neutralColor80 */\n            }, chartStyle, options.inputStyle));\n            css(input, extend({\n                position: 'absolute',\n                border: 0,\n                boxShadow: '0 0 15px rgba(0,0,0,0.3)',\n                width: '1px',\n                height: '1px',\n                padding: 0,\n                textAlign: 'center',\n                fontSize: chartStyle.fontSize,\n                fontFamily: chartStyle.fontFamily,\n                top: '-9999em' // #4798\n            }, options.inputStyle));\n        }\n        // Blow up the input box\n        input.onfocus = function () {\n            rangeSelector.showInput(name);\n        };\n        // Hide away the input box\n        input.onblur = function () {\n            // update extermes only when inputs are active\n            if (input === H.doc.activeElement) { // Only when focused\n                // Update also when no `change` event is triggered, like when\n                // clicking inside the SVG (#4710)\n                updateExtremes();\n            }\n            // #10404 - move hide and blur outside focus\n            rangeSelector.hideInput(name);\n            rangeSelector.setInputValue(name);\n            input.blur(); // #4606\n        };\n        var keyDown = false;\n        // handle changes in the input boxes\n        input.onchange = function () {\n            // Update extremes and blur input when clicking date input calendar\n            if (!keyDown) {\n                updateExtremes();\n                rangeSelector.hideInput(name);\n                input.blur();\n            }\n        };\n        input.onkeypress = function (event) {\n            // IE does not fire onchange on enter\n            if (event.keyCode === 13) {\n                updateExtremes();\n            }\n        };\n        input.onkeydown = function (event) {\n            keyDown = true;\n            // Arrow keys\n            if (event.keyCode === 38 || event.keyCode === 40) {\n                updateExtremes();\n            }\n        };\n        input.onkeyup = function () {\n            keyDown = false;\n        };\n        return { dateBox: dateBox, input: input, label: label };\n    };\n    /**\n     * Get the position of the range selector buttons and inputs. This can be\n     * overridden from outside for custom positioning.\n     *\n     * @private\n     * @function Highcharts.RangeSelector#getPosition\n     */\n    RangeSelector.prototype.getPosition = function () {\n        var chart = this.chart, options = chart.options.rangeSelector, top = options.verticalAlign === 'top' ?\n            chart.plotTop - chart.axisOffset[0] :\n            0; // set offset only for varticalAlign top\n        return {\n            buttonTop: top + options.buttonPosition.y,\n            inputTop: top + options.inputPosition.y - 10\n        };\n    };\n    /**\n     * Get the extremes of YTD. Will choose dataMax if its value is lower than\n     * the current timestamp. Will choose dataMin if its value is higher than\n     * the timestamp for the start of current year.\n     *\n     * @private\n     * @function Highcharts.RangeSelector#getYTDExtremes\n     * @return {*}\n     * Returns min and max for the YTD\n     */\n    RangeSelector.prototype.getYTDExtremes = function (dataMax, dataMin, useUTC) {\n        var time = this.chart.time, now = new time.Date(dataMax), year = time.get('FullYear', now), startOfYear = useUTC ?\n            time.Date.UTC(year, 0, 1) : // eslint-disable-line new-cap\n            +new time.Date(year, 0, 1), min = Math.max(dataMin, startOfYear), ts = now.getTime();\n        return {\n            max: Math.min(dataMax || ts, ts),\n            min: min\n        };\n    };\n    /**\n     * Render the range selector including the buttons and the inputs. The first\n     * time render is called, the elements are created and positioned. On\n     * subsequent calls, they are moved and updated.\n     *\n     * @private\n     * @function Highcharts.RangeSelector#render\n     * @param {number} [min]\n     *        X axis minimum\n     * @param {number} [max]\n     *        X axis maximum\n     */\n    RangeSelector.prototype.render = function (min, max) {\n        var chart = this.chart, renderer = chart.renderer, container = chart.container, chartOptions = chart.options, options = chartOptions.rangeSelector, \n        // Place inputs above the container\n        inputsZIndex = pick(chartOptions.chart.style &&\n            chartOptions.chart.style.zIndex, 0) + 1, inputEnabled = options.inputEnabled, rendered = this.rendered;\n        if (options.enabled === false) {\n            return;\n        }\n        // create the elements\n        if (!rendered) {\n            this.group = renderer.g('range-selector-group')\n                .attr({\n                zIndex: 7\n            })\n                .add();\n            this.div = createElement('div', void 0, {\n                position: 'relative',\n                height: 0,\n                zIndex: inputsZIndex\n            });\n            if (this.buttonOptions.length) {\n                this.renderButtons();\n            }\n            // First create a wrapper outside the container in order to make\n            // the inputs work and make export correct\n            if (container.parentNode) {\n                container.parentNode.insertBefore(this.div, container);\n            }\n            if (inputEnabled) {\n                // Create the group to keep the inputs\n                this.inputGroup = renderer.g('input-group').add(this.group);\n                var minElems = this.drawInput('min');\n                this.minDateBox = minElems.dateBox;\n                this.minLabel = minElems.label;\n                this.minInput = minElems.input;\n                var maxElems = this.drawInput('max');\n                this.maxDateBox = maxElems.dateBox;\n                this.maxLabel = maxElems.label;\n                this.maxInput = maxElems.input;\n            }\n        }\n        if (inputEnabled) {\n            // Set or reset the input values\n            this.setInputValue('min', min);\n            this.setInputValue('max', max);\n            var unionExtremes = (chart.scroller && chart.scroller.getUnionExtremes()) || chart.xAxis[0] || {};\n            if (defined(unionExtremes.dataMin) &&\n                defined(unionExtremes.dataMax)) {\n                var minRange = chart.xAxis[0].minRange || 0;\n                this.setInputExtremes('min', unionExtremes.dataMin, Math.min(unionExtremes.dataMax, this.getInputValue('max')) - minRange);\n                this.setInputExtremes('max', Math.max(unionExtremes.dataMin, this.getInputValue('min')) + minRange, unionExtremes.dataMax);\n            }\n            // Reflow\n            if (this.inputGroup) {\n                var x_1 = 0;\n                [\n                    this.minLabel,\n                    this.minDateBox,\n                    this.maxLabel,\n                    this.maxDateBox\n                ].forEach(function (label) {\n                    if (label) {\n                        var width = label.getBBox().width;\n                        if (width) {\n                            label.attr({ x: x_1 });\n                            x_1 += width + options.inputSpacing;\n                        }\n                    }\n                });\n            }\n        }\n        this.alignElements();\n        this.rendered = true;\n    };\n    /**\n     * Render the range buttons. This only runs the first time, later the\n     * positioning is laid out in alignElements.\n     *\n     * @private\n     * @function Highcharts.RangeSelector#renderButtons\n     */\n    RangeSelector.prototype.renderButtons = function () {\n        var _this = this;\n        var _a = this, buttons = _a.buttons, chart = _a.chart, options = _a.options;\n        var lang = defaultOptions.lang;\n        var renderer = chart.renderer;\n        var buttonTheme = merge(options.buttonTheme);\n        var states = buttonTheme && buttonTheme.states;\n        // Prevent the button from resetting the width when the button state\n        // changes since we need more control over the width when collapsing\n        // the buttons\n        var width = buttonTheme.width || 28;\n        delete buttonTheme.width;\n        delete buttonTheme.states;\n        this.buttonGroup = renderer.g('range-selector-buttons').add(this.group);\n        var dropdown = this.dropdown = createElement('select', void 0, {\n            position: 'absolute',\n            width: '1px',\n            height: '1px',\n            padding: 0,\n            border: 0,\n            top: '-9999em',\n            cursor: 'pointer',\n            opacity: 0.0001\n        }, this.div);\n        // Prevent page zoom on iPhone\n        addEvent(dropdown, 'touchstart', function () {\n            dropdown.style.fontSize = '16px';\n        });\n        // Forward events from select to button\n        [\n            [H.isMS ? 'mouseover' : 'mouseenter'],\n            [H.isMS ? 'mouseout' : 'mouseleave'],\n            ['change', 'click']\n        ].forEach(function (_a) {\n            var from = _a[0], to = _a[1];\n            addEvent(dropdown, from, function () {\n                var button = buttons[_this.currentButtonIndex()];\n                if (button) {\n                    fireEvent(button.element, to || from);\n                }\n            });\n        });\n        this.zoomText = renderer\n            .label((lang && lang.rangeSelectorZoom) || '', 0)\n            .attr({\n            padding: options.buttonTheme.padding,\n            height: options.buttonTheme.height,\n            paddingLeft: 0,\n            paddingRight: 0\n        })\n            .add(this.buttonGroup);\n        if (!this.chart.styledMode) {\n            this.zoomText.css(options.labelStyle);\n            buttonTheme['stroke-width'] = pick(buttonTheme['stroke-width'], 0);\n        }\n        createElement('option', {\n            textContent: this.zoomText.textStr,\n            disabled: true\n        }, void 0, dropdown);\n        this.buttonOptions.forEach(function (rangeOptions, i) {\n            createElement('option', {\n                textContent: rangeOptions.title || rangeOptions.text\n            }, void 0, dropdown);\n            buttons[i] = renderer\n                .button(rangeOptions.text, 0, 0, function (e) {\n                // extract events from button object and call\n                var buttonEvents = (rangeOptions.events && rangeOptions.events.click);\n                var callDefaultEvent;\n                if (buttonEvents) {\n                    callDefaultEvent =\n                        buttonEvents.call(rangeOptions, e);\n                }\n                if (callDefaultEvent !== false) {\n                    _this.clickButton(i);\n                }\n                _this.isActive = true;\n            }, buttonTheme, states && states.hover, states && states.select, states && states.disabled)\n                .attr({\n                'text-align': 'center',\n                width: width\n            })\n                .add(_this.buttonGroup);\n            if (rangeOptions.title) {\n                buttons[i].attr('title', rangeOptions.title);\n            }\n        });\n    };\n    /**\n     * Align the elements horizontally and vertically.\n     *\n     * @private\n     * @function Highcharts.RangeSelector#alignElements\n     */\n    RangeSelector.prototype.alignElements = function () {\n        var _this = this;\n        var _a = this, buttonGroup = _a.buttonGroup, buttons = _a.buttons, chart = _a.chart, group = _a.group, inputGroup = _a.inputGroup, options = _a.options, zoomText = _a.zoomText;\n        var chartOptions = chart.options;\n        var navButtonOptions = (chartOptions.exporting &&\n            chartOptions.exporting.enabled !== false &&\n            chartOptions.navigation &&\n            chartOptions.navigation.buttonOptions);\n        var buttonPosition = options.buttonPosition, inputPosition = options.inputPosition, verticalAlign = options.verticalAlign;\n        // Get the X offset required to avoid overlapping with the exporting\n        // button. This is is used both by the buttonGroup and the inputGroup.\n        var getXOffsetForExportButton = function (group, position) {\n            if (navButtonOptions &&\n                _this.titleCollision(chart) &&\n                verticalAlign === 'top' &&\n                position.align === 'right' && ((position.y -\n                group.getBBox().height - 12) <\n                ((navButtonOptions.y || 0) +\n                    (navButtonOptions.height || 0) +\n                    chart.spacing[0]))) {\n                return -40;\n            }\n            return 0;\n        };\n        var plotLeft = chart.plotLeft;\n        if (group && buttonPosition && inputPosition) {\n            var translateX = buttonPosition.x - chart.spacing[3];\n            if (buttonGroup) {\n                this.positionButtons();\n                if (!this.initialButtonGroupWidth) {\n                    var width_1 = 0;\n                    if (zoomText) {\n                        width_1 += zoomText.getBBox().width + 5;\n                    }\n                    buttons.forEach(function (button, i) {\n                        width_1 += button.width;\n                        if (i !== buttons.length - 1) {\n                            width_1 += options.buttonSpacing;\n                        }\n                    });\n                    this.initialButtonGroupWidth = width_1;\n                }\n                plotLeft -= chart.spacing[3];\n                this.updateButtonStates();\n                // Detect collision between button group and exporting\n                var xOffsetForExportButton_1 = getXOffsetForExportButton(buttonGroup, buttonPosition);\n                this.alignButtonGroup(xOffsetForExportButton_1);\n                // Skip animation\n                group.placed = buttonGroup.placed = chart.hasLoaded;\n            }\n            var xOffsetForExportButton = 0;\n            if (inputGroup) {\n                // Detect collision between the input group and exporting button\n                xOffsetForExportButton = getXOffsetForExportButton(inputGroup, inputPosition);\n                if (inputPosition.align === 'left') {\n                    translateX = plotLeft;\n                }\n                else if (inputPosition.align === 'right') {\n                    translateX = -Math.max(chart.axisOffset[1], -xOffsetForExportButton);\n                }\n                // Update the alignment to the updated spacing box\n                inputGroup.align({\n                    y: inputPosition.y,\n                    width: inputGroup.getBBox().width,\n                    align: inputPosition.align,\n                    // fix wrong getBBox() value on right align\n                    x: inputPosition.x + translateX - 2\n                }, true, chart.spacingBox);\n                // Skip animation\n                inputGroup.placed = chart.hasLoaded;\n            }\n            this.handleCollision(xOffsetForExportButton);\n            // Vertical align\n            group.align({\n                verticalAlign: verticalAlign\n            }, true, chart.spacingBox);\n            var alignTranslateY = group.alignAttr.translateY;\n            // Set position\n            var groupHeight = group.getBBox().height + 20; // # 20 padding\n            var translateY = 0;\n            // Calculate bottom position\n            if (verticalAlign === 'bottom') {\n                var legendOptions = chart.legend && chart.legend.options;\n                var legendHeight = (legendOptions &&\n                    legendOptions.verticalAlign === 'bottom' &&\n                    legendOptions.enabled &&\n                    !legendOptions.floating ?\n                    (chart.legend.legendHeight +\n                        pick(legendOptions.margin, 10)) :\n                    0);\n                groupHeight = groupHeight + legendHeight - 20;\n                translateY = (alignTranslateY -\n                    groupHeight -\n                    (options.floating ? 0 : options.y) -\n                    (chart.titleOffset ? chart.titleOffset[2] : 0) -\n                    10 // 10 spacing\n                );\n            }\n            if (verticalAlign === 'top') {\n                if (options.floating) {\n                    translateY = 0;\n                }\n                if (chart.titleOffset && chart.titleOffset[0]) {\n                    translateY = chart.titleOffset[0];\n                }\n                translateY += ((chart.margin[0] - chart.spacing[0]) || 0);\n            }\n            else if (verticalAlign === 'middle') {\n                if (inputPosition.y === buttonPosition.y) {\n                    translateY = alignTranslateY;\n                }\n                else if (inputPosition.y || buttonPosition.y) {\n                    if (inputPosition.y < 0 ||\n                        buttonPosition.y < 0) {\n                        translateY -= Math.min(inputPosition.y, buttonPosition.y);\n                    }\n                    else {\n                        translateY = alignTranslateY - groupHeight;\n                    }\n                }\n            }\n            group.translate(options.x, options.y + Math.floor(translateY));\n            // Translate HTML inputs\n            var _b = this, minInput = _b.minInput, maxInput = _b.maxInput, dropdown = _b.dropdown;\n            if (options.inputEnabled && minInput && maxInput) {\n                minInput.style.marginTop = group.translateY + 'px';\n                maxInput.style.marginTop = group.translateY + 'px';\n            }\n            if (dropdown) {\n                dropdown.style.marginTop = group.translateY + 'px';\n            }\n        }\n    };\n    /**\n     * Align the button group horizontally and vertically.\n     *\n     * @private\n     * @function Highcharts.RangeSelector#alignButtonGroup\n     * @param {number} xOffsetForExportButton\n     * @param {number} [width]\n     */\n    RangeSelector.prototype.alignButtonGroup = function (xOffsetForExportButton, width) {\n        var _a = this, chart = _a.chart, options = _a.options, buttonGroup = _a.buttonGroup, buttons = _a.buttons;\n        var buttonPosition = options.buttonPosition;\n        var plotLeft = chart.plotLeft - chart.spacing[3];\n        var translateX = buttonPosition.x - chart.spacing[3];\n        if (buttonPosition.align === 'right') {\n            translateX += xOffsetForExportButton - plotLeft; // #13014\n        }\n        else if (buttonPosition.align === 'center') {\n            translateX -= plotLeft / 2;\n        }\n        if (buttonGroup) {\n            // Align button group\n            buttonGroup.align({\n                y: buttonPosition.y,\n                width: pick(width, this.initialButtonGroupWidth),\n                align: buttonPosition.align,\n                x: translateX\n            }, true, chart.spacingBox);\n        }\n    };\n    /**\n     * @private\n     * @function Highcharts.RangeSelector#positionButtons\n     */\n    RangeSelector.prototype.positionButtons = function () {\n        var _a = this, buttons = _a.buttons, chart = _a.chart, options = _a.options, zoomText = _a.zoomText;\n        var verb = chart.hasLoaded ? 'animate' : 'attr';\n        var buttonPosition = options.buttonPosition;\n        var plotLeft = chart.plotLeft;\n        var buttonLeft = plotLeft;\n        if (zoomText && zoomText.visibility !== 'hidden') {\n            // #8769, allow dynamically updating margins\n            zoomText[verb]({\n                x: pick(plotLeft + buttonPosition.x, plotLeft)\n            });\n            // Button start position\n            buttonLeft += buttonPosition.x +\n                zoomText.getBBox().width + 5;\n        }\n        for (var i = 0, iEnd = this.buttonOptions.length; i < iEnd; ++i) {\n            if (buttons[i].visibility !== 'hidden') {\n                buttons[i][verb]({ x: buttonLeft });\n                // increase button position for the next button\n                buttonLeft += buttons[i].width + options.buttonSpacing;\n            }\n            else {\n                buttons[i][verb]({ x: plotLeft });\n            }\n        }\n    };\n    /**\n     * Handle collision between the button group and the input group\n     *\n     * @private\n     * @function Highcharts.RangeSelector#handleCollision\n     *\n     * @param  {number} xOffsetForExportButton\n     *                  The X offset of the group required to make room for the\n     *                  exporting button\n     */\n    RangeSelector.prototype.handleCollision = function (xOffsetForExportButton) {\n        var _this = this;\n        var _a = this, chart = _a.chart, buttonGroup = _a.buttonGroup, inputGroup = _a.inputGroup;\n        var _b = this.options, buttonPosition = _b.buttonPosition, dropdown = _b.dropdown, inputPosition = _b.inputPosition;\n        var maxButtonWidth = function () {\n            var buttonWidth = 0;\n            _this.buttons.forEach(function (button) {\n                var bBox = button.getBBox();\n                if (bBox.width > buttonWidth) {\n                    buttonWidth = bBox.width;\n                }\n            });\n            return buttonWidth;\n        };\n        var groupsOverlap = function (buttonGroupWidth) {\n            if (inputGroup && buttonGroup) {\n                var inputGroupX = (inputGroup.alignAttr.translateX +\n                    inputGroup.alignOptions.x -\n                    xOffsetForExportButton +\n                    // getBBox for detecing left margin\n                    inputGroup.getBBox().x +\n                    // 2px padding to not overlap input and label\n                    2);\n                var inputGroupWidth = inputGroup.alignOptions.width;\n                var buttonGroupX = buttonGroup.alignAttr.translateX +\n                    buttonGroup.getBBox().x;\n                return (buttonGroupX + buttonGroupWidth > inputGroupX) &&\n                    (inputGroupX + inputGroupWidth > buttonGroupX) &&\n                    (buttonPosition.y <\n                        (inputPosition.y +\n                            inputGroup.getBBox().height));\n            }\n            return false;\n        };\n        var moveInputsDown = function () {\n            if (inputGroup && buttonGroup) {\n                inputGroup.attr({\n                    translateX: inputGroup.alignAttr.translateX + (chart.axisOffset[1] >= -xOffsetForExportButton ?\n                        0 :\n                        -xOffsetForExportButton),\n                    translateY: inputGroup.alignAttr.translateY +\n                        buttonGroup.getBBox().height + 10\n                });\n            }\n        };\n        if (buttonGroup) {\n            if (dropdown === 'always') {\n                this.collapseButtons(xOffsetForExportButton);\n                if (groupsOverlap(maxButtonWidth())) {\n                    // Move the inputs down if there is still a collision\n                    // after collapsing the buttons\n                    moveInputsDown();\n                }\n                return;\n            }\n            if (dropdown === 'never') {\n                this.expandButtons();\n            }\n        }\n        // Detect collision\n        if (inputGroup && buttonGroup) {\n            if ((inputPosition.align === buttonPosition.align) ||\n                // 20 is minimal spacing between elements\n                groupsOverlap(this.initialButtonGroupWidth + 20)) {\n                if (dropdown === 'responsive') {\n                    this.collapseButtons(xOffsetForExportButton);\n                    if (groupsOverlap(maxButtonWidth())) {\n                        moveInputsDown();\n                    }\n                }\n                else {\n                    moveInputsDown();\n                }\n            }\n            else if (dropdown === 'responsive') {\n                this.expandButtons();\n            }\n        }\n        else if (buttonGroup && dropdown === 'responsive') {\n            if (this.initialButtonGroupWidth > chart.plotWidth) {\n                this.collapseButtons(xOffsetForExportButton);\n            }\n            else {\n                this.expandButtons();\n            }\n        }\n    };\n    /**\n     * Collapse the buttons and put the select element on top.\n     *\n     * @private\n     * @function Highcharts.RangeSelector#collapseButtons\n     * @param {number} xOffsetForExportButton\n     */\n    RangeSelector.prototype.collapseButtons = function (xOffsetForExportButton) {\n        var _a = this, buttons = _a.buttons, buttonOptions = _a.buttonOptions, chart = _a.chart, dropdown = _a.dropdown, options = _a.options, zoomText = _a.zoomText;\n        var userButtonTheme = (chart.userOptions.rangeSelector &&\n            chart.userOptions.rangeSelector.buttonTheme) || {};\n        var getAttribs = function (text) { return ({\n            text: text ? \"\".concat(text, \" \\u25BE\") : '',\n            width: 'auto',\n            paddingLeft: pick(options.buttonTheme.paddingLeft, userButtonTheme.padding, 8),\n            paddingRight: pick(options.buttonTheme.paddingRight, userButtonTheme.padding, 8)\n        }); };\n        if (zoomText) {\n            zoomText.hide();\n        }\n        var hasActiveButton = false;\n        buttonOptions.forEach(function (rangeOptions, i) {\n            var button = buttons[i];\n            if (button.state !== 2) {\n                button.hide();\n            }\n            else {\n                button.show();\n                button.attr(getAttribs(rangeOptions.text));\n                hasActiveButton = true;\n            }\n        });\n        if (!hasActiveButton) {\n            if (dropdown) {\n                dropdown.selectedIndex = 0;\n            }\n            buttons[0].show();\n            buttons[0].attr(getAttribs(this.zoomText && this.zoomText.textStr));\n        }\n        var align = options.buttonPosition.align;\n        this.positionButtons();\n        if (align === 'right' || align === 'center') {\n            this.alignButtonGroup(xOffsetForExportButton, buttons[this.currentButtonIndex()].getBBox().width);\n        }\n        this.showDropdown();\n    };\n    /**\n     * Show all the buttons and hide the select element.\n     *\n     * @private\n     * @function Highcharts.RangeSelector#expandButtons\n     */\n    RangeSelector.prototype.expandButtons = function () {\n        var _a = this, buttons = _a.buttons, buttonOptions = _a.buttonOptions, options = _a.options, zoomText = _a.zoomText;\n        this.hideDropdown();\n        if (zoomText) {\n            zoomText.show();\n        }\n        buttonOptions.forEach(function (rangeOptions, i) {\n            var button = buttons[i];\n            button.show();\n            button.attr({\n                text: rangeOptions.text,\n                width: options.buttonTheme.width || 28,\n                paddingLeft: pick(options.buttonTheme.paddingLeft, 'unset'),\n                paddingRight: pick(options.buttonTheme.paddingRight, 'unset')\n            });\n            if (button.state < 2) {\n                button.setState(0);\n            }\n        });\n        this.positionButtons();\n    };\n    /**\n     * Get the index of the visible button when the buttons are collapsed.\n     *\n     * @private\n     * @function Highcharts.RangeSelector#currentButtonIndex\n     */\n    RangeSelector.prototype.currentButtonIndex = function () {\n        var dropdown = this.dropdown;\n        if (dropdown && dropdown.selectedIndex > 0) {\n            return dropdown.selectedIndex - 1;\n        }\n        return 0;\n    };\n    /**\n     * Position the select element on top of the button.\n     *\n     * @private\n     * @function Highcharts.RangeSelector#showDropdown\n     */\n    RangeSelector.prototype.showDropdown = function () {\n        var _a = this, buttonGroup = _a.buttonGroup, buttons = _a.buttons, chart = _a.chart, dropdown = _a.dropdown;\n        if (buttonGroup && dropdown) {\n            var translateX = buttonGroup.translateX, translateY = buttonGroup.translateY;\n            var bBox = buttons[this.currentButtonIndex()].getBBox();\n            css(dropdown, {\n                left: (chart.plotLeft + translateX) + 'px',\n                top: (translateY + 0.5) + 'px',\n                width: bBox.width + 'px',\n                height: bBox.height + 'px'\n            });\n            this.hasVisibleDropdown = true;\n        }\n    };\n    /**\n     * @private\n     * @function Highcharts.RangeSelector#hideDropdown\n     */\n    RangeSelector.prototype.hideDropdown = function () {\n        var dropdown = this.dropdown;\n        if (dropdown) {\n            css(dropdown, {\n                top: '-9999em',\n                width: '1px',\n                height: '1px'\n            });\n            this.hasVisibleDropdown = false;\n        }\n    };\n    /**\n     * Extracts height of range selector\n     *\n     * @private\n     * @function Highcharts.RangeSelector#getHeight\n     * @return {number}\n     * Returns rangeSelector height\n     */\n    RangeSelector.prototype.getHeight = function () {\n        var rangeSelector = this, options = rangeSelector.options, rangeSelectorGroup = rangeSelector.group, inputPosition = options.inputPosition, buttonPosition = options.buttonPosition, yPosition = options.y, buttonPositionY = buttonPosition.y, inputPositionY = inputPosition.y;\n        var rangeSelectorHeight = 0;\n        if (options.height) {\n            return options.height;\n        }\n        // Align the elements before we read the height in case we're switching\n        // between wrapped and non-wrapped layout\n        this.alignElements();\n        rangeSelectorHeight = rangeSelectorGroup ?\n            // 13px to keep back compatibility\n            (rangeSelectorGroup.getBBox(true).height) + 13 +\n                yPosition :\n            0;\n        var minPosition = Math.min(inputPositionY, buttonPositionY);\n        if ((inputPositionY < 0 && buttonPositionY < 0) ||\n            (inputPositionY > 0 && buttonPositionY > 0)) {\n            rangeSelectorHeight += Math.abs(minPosition);\n        }\n        return rangeSelectorHeight;\n    };\n    /**\n     * Detect collision with title or subtitle\n     *\n     * @private\n     * @function Highcharts.RangeSelector#titleCollision\n     * @return {boolean}\n     * Returns collision status\n     */\n    RangeSelector.prototype.titleCollision = function (chart) {\n        return !(chart.options.title.text ||\n            chart.options.subtitle.text);\n    };\n    /**\n     * Update the range selector with new options\n     *\n     * @private\n     * @function Highcharts.RangeSelector#update\n     * @param {Highcharts.RangeSelectorOptions} options\n     */\n    RangeSelector.prototype.update = function (options) {\n        var chart = this.chart;\n        merge(true, chart.options.rangeSelector, options);\n        this.destroy();\n        this.init(chart);\n        this.render();\n    };\n    /**\n     * Destroys allocated elements.\n     *\n     * @private\n     * @function Highcharts.RangeSelector#destroy\n     */\n    RangeSelector.prototype.destroy = function () {\n        var rSelector = this, minInput = rSelector.minInput, maxInput = rSelector.maxInput;\n        if (rSelector.eventsToUnbind) {\n            rSelector.eventsToUnbind.forEach(function (unbind) { return unbind(); });\n            rSelector.eventsToUnbind = void 0;\n        }\n        // Destroy elements in collections\n        destroyObjectProperties(rSelector.buttons);\n        // Clear input element events\n        if (minInput) {\n            minInput.onfocus = minInput.onblur = minInput.onchange = null;\n        }\n        if (maxInput) {\n            maxInput.onfocus = maxInput.onblur = maxInput.onchange = null;\n        }\n        // Destroy HTML and SVG elements\n        objectEach(rSelector, function (val, key) {\n            if (val && key !== 'chart') {\n                if (val instanceof SVGElement) {\n                    // SVGElement\n                    val.destroy();\n                }\n                else if (val instanceof window.HTMLElement) {\n                    // HTML element\n                    discardElement(val);\n                }\n            }\n            if (val !== RangeSelector.prototype[key]) {\n                rSelector[key] = null;\n            }\n        }, this);\n    };\n    return RangeSelector;\n}());\nextend(RangeSelector.prototype, {\n    /**\n     * The default buttons for pre-selecting time frames.\n     * @private\n     */\n    defaultButtons: [{\n            type: 'month',\n            count: 1,\n            text: '1m',\n            title: 'View 1 month'\n        }, {\n            type: 'month',\n            count: 3,\n            text: '3m',\n            title: 'View 3 months'\n        }, {\n            type: 'month',\n            count: 6,\n            text: '6m',\n            title: 'View 6 months'\n        }, {\n            type: 'ytd',\n            text: 'YTD',\n            title: 'View year to date'\n        }, {\n            type: 'year',\n            count: 1,\n            text: '1y',\n            title: 'View 1 year'\n        }, {\n            type: 'all',\n            text: 'All',\n            title: 'View all'\n        }],\n    /**\n     * The date formats to use when setting min, max and value on date inputs.\n     * @private\n     */\n    inputTypeFormats: {\n        'datetime-local': '%Y-%m-%dT%H:%M:%S',\n        'date': '%Y-%m-%d',\n        'time': '%H:%M:%S'\n    }\n});\n/* *\n *\n *  Default Export\n *\n * */\nexport default RangeSelector;\n/* *\n *\n *  API Options\n *\n * */\n/**\n * Define the time span for the button\n *\n * @typedef {\"all\"|\"day\"|\"hour\"|\"millisecond\"|\"minute\"|\"month\"|\"second\"|\"week\"|\"year\"|\"ytd\"} Highcharts.RangeSelectorButtonTypeValue\n */\n/**\n * Callback function to react on button clicks.\n *\n * @callback Highcharts.RangeSelectorClickCallbackFunction\n *\n * @param {global.Event} e\n *        Event arguments.\n *\n * @param {boolean|undefined}\n *        Return false to cancel the default button event.\n */\n/**\n * Callback function to parse values entered in the input boxes and return a\n * valid JavaScript time as milliseconds since 1970.\n *\n * @callback Highcharts.RangeSelectorParseCallbackFunction\n *\n * @param {string} value\n *        Input value to parse.\n *\n * @return {number}\n *         Parsed JavaScript time value.\n */\n(''); // keeps doclets above in JS file\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Accessibility component for the range selector.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport RangeSelector from '../../Stock/RangeSelector/RangeSelector.js';\nimport AccessibilityComponent from '../AccessibilityComponent.js';\nimport ChartUtilities from '../Utils/ChartUtilities.js';\nvar unhideChartElementFromAT = ChartUtilities.unhideChartElementFromAT, getAxisRangeDescription = ChartUtilities.getAxisRangeDescription;\nimport Announcer from '../Utils/Announcer.js';\nimport KeyboardNavigationHandler from '../KeyboardNavigationHandler.js';\nimport U from '../../Core/Utilities.js';\nvar addEvent = U.addEvent, attr = U.attr;\n/* *\n *\n *  Functions\n *\n * */\n/* eslint-disable valid-jsdoc */\n/**\n * @private\n */\nfunction shouldRunInputNavigation(chart) {\n    return Boolean(chart.rangeSelector &&\n        chart.rangeSelector.inputGroup &&\n        chart.rangeSelector.inputGroup.element.style.visibility !== 'hidden' &&\n        chart.options.rangeSelector.inputEnabled !== false &&\n        chart.rangeSelector.minInput &&\n        chart.rangeSelector.maxInput);\n}\n/* *\n *\n *  Class\n *\n * */\n/**\n * The RangeSelectorComponent class\n *\n * @private\n * @class\n * @name Highcharts.RangeSelectorComponent\n */\nvar RangeSelectorComponent = /** @class */ (function (_super) {\n    __extends(RangeSelectorComponent, _super);\n    function RangeSelectorComponent() {\n        /* *\n         *\n         *  Properties\n         *\n         * */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.announcer = void 0;\n        return _this;\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * Init the component\n     * @private\n     */\n    RangeSelectorComponent.prototype.init = function () {\n        var chart = this.chart;\n        this.announcer = new Announcer(chart, 'polite');\n    };\n    /**\n     * Called on first render/updates to the chart, including options changes.\n     */\n    RangeSelectorComponent.prototype.onChartUpdate = function () {\n        var chart = this.chart, component = this, rangeSelector = chart.rangeSelector;\n        if (!rangeSelector) {\n            return;\n        }\n        this.updateSelectorVisibility();\n        this.setDropdownAttrs();\n        if (rangeSelector.buttons &&\n            rangeSelector.buttons.length) {\n            rangeSelector.buttons.forEach(function (button) {\n                component.setRangeButtonAttrs(button);\n            });\n        }\n        // Make sure input boxes are accessible and focusable\n        if (rangeSelector.maxInput && rangeSelector.minInput) {\n            ['minInput', 'maxInput'].forEach(function (key, i) {\n                var input = rangeSelector[key];\n                if (input) {\n                    unhideChartElementFromAT(chart, input);\n                    component.setRangeInputAttrs(input, 'accessibility.rangeSelector.' + (i ? 'max' : 'min') +\n                        'InputLabel');\n                }\n            });\n        }\n    };\n    /**\n     * Hide buttons from AT when showing dropdown, and vice versa.\n     * @private\n     */\n    RangeSelectorComponent.prototype.updateSelectorVisibility = function () {\n        var chart = this.chart;\n        var rangeSelector = chart.rangeSelector;\n        var dropdown = (rangeSelector &&\n            rangeSelector.dropdown);\n        var buttons = (rangeSelector &&\n            rangeSelector.buttons ||\n            []);\n        var hideFromAT = function (el) { return el.setAttribute('aria-hidden', true); };\n        if (rangeSelector &&\n            rangeSelector.hasVisibleDropdown &&\n            dropdown) {\n            unhideChartElementFromAT(chart, dropdown);\n            buttons.forEach(function (btn) { return hideFromAT(btn.element); });\n        }\n        else {\n            if (dropdown) {\n                hideFromAT(dropdown);\n            }\n            buttons.forEach(function (btn) { return unhideChartElementFromAT(chart, btn.element); });\n        }\n    };\n    /**\n     * Set accessibility related attributes on dropdown element.\n     * @private\n     */\n    RangeSelectorComponent.prototype.setDropdownAttrs = function () {\n        var chart = this.chart;\n        var dropdown = (chart.rangeSelector &&\n            chart.rangeSelector.dropdown);\n        if (dropdown) {\n            var label = chart.langFormat('accessibility.rangeSelector.dropdownLabel', { rangeTitle: chart.options.lang.rangeSelectorZoom });\n            dropdown.setAttribute('aria-label', label);\n            dropdown.setAttribute('tabindex', -1);\n        }\n    };\n    /**\n     * @private\n     * @param {Highcharts.SVGElement} button\n     */\n    RangeSelectorComponent.prototype.setRangeButtonAttrs = function (button) {\n        attr(button.element, {\n            tabindex: -1,\n            role: 'button'\n        });\n    };\n    /**\n     * @private\n     */\n    RangeSelectorComponent.prototype.setRangeInputAttrs = function (input, langKey) {\n        var chart = this.chart;\n        attr(input, {\n            tabindex: -1,\n            'aria-label': chart.langFormat(langKey, { chart: chart })\n        });\n    };\n    /**\n     * @private\n     * @param {Highcharts.KeyboardNavigationHandler} keyboardNavigationHandler\n     * @param {number} keyCode\n     * @return {number} Response code\n     */\n    RangeSelectorComponent.prototype.onButtonNavKbdArrowKey = function (keyboardNavigationHandler, keyCode) {\n        var response = keyboardNavigationHandler.response, keys = this.keyCodes, chart = this.chart, wrapAround = chart.options.accessibility\n            .keyboardNavigation.wrapAround, direction = (keyCode === keys.left || keyCode === keys.up) ? -1 : 1, didHighlight = chart.highlightRangeSelectorButton(chart.highlightedRangeSelectorItemIx + direction);\n        if (!didHighlight) {\n            if (wrapAround) {\n                keyboardNavigationHandler.init(direction);\n                return response.success;\n            }\n            return response[direction > 0 ? 'next' : 'prev'];\n        }\n        return response.success;\n    };\n    /**\n     * @private\n     */\n    RangeSelectorComponent.prototype.onButtonNavKbdClick = function (keyboardNavigationHandler) {\n        var response = keyboardNavigationHandler.response, chart = this.chart, wasDisabled = chart.oldRangeSelectorItemState === 3;\n        if (!wasDisabled) {\n            this.fakeClickEvent(chart.rangeSelector.buttons[chart.highlightedRangeSelectorItemIx].element);\n        }\n        return response.success;\n    };\n    /**\n     * Called whenever a range selector button has been clicked, either by\n     * mouse, touch, or kbd/voice/other.\n     * @private\n     */\n    RangeSelectorComponent.prototype.onAfterBtnClick = function () {\n        var chart = this.chart;\n        var axisRangeDescription = getAxisRangeDescription(chart.xAxis[0]);\n        var announcement = chart.langFormat('accessibility.rangeSelector.clickButtonAnnouncement', { chart: chart, axisRangeDescription: axisRangeDescription });\n        if (announcement) {\n            this.announcer.announce(announcement);\n        }\n    };\n    /**\n     * @private\n     */\n    RangeSelectorComponent.prototype.onInputKbdMove = function (direction) {\n        var chart = this.chart;\n        var rangeSel = chart.rangeSelector;\n        var newIx = chart.highlightedInputRangeIx = (chart.highlightedInputRangeIx || 0) + direction;\n        var newIxOutOfRange = newIx > 1 || newIx < 0;\n        if (newIxOutOfRange) {\n            if (chart.accessibility) {\n                chart.accessibility.keyboardNavigation.tabindexContainer\n                    .focus();\n                chart.accessibility.keyboardNavigation.move(direction);\n            }\n        }\n        else if (rangeSel) {\n            var svgEl = rangeSel[newIx ? 'maxDateBox' : 'minDateBox'];\n            var inputEl = rangeSel[newIx ? 'maxInput' : 'minInput'];\n            if (svgEl && inputEl) {\n                chart.setFocusToElement(svgEl, inputEl);\n            }\n        }\n    };\n    /**\n     * @private\n     * @param {number} direction\n     */\n    RangeSelectorComponent.prototype.onInputNavInit = function (direction) {\n        var _this = this;\n        var component = this;\n        var chart = this.chart;\n        var buttonIxToHighlight = direction > 0 ? 0 : 1;\n        var rangeSel = chart.rangeSelector;\n        var svgEl = (rangeSel &&\n            rangeSel[buttonIxToHighlight ? 'maxDateBox' : 'minDateBox']);\n        var minInput = (rangeSel && rangeSel.minInput);\n        var maxInput = (rangeSel && rangeSel.maxInput);\n        var inputEl = buttonIxToHighlight ? maxInput : minInput;\n        chart.highlightedInputRangeIx = buttonIxToHighlight;\n        if (svgEl && minInput && maxInput) {\n            chart.setFocusToElement(svgEl, inputEl);\n            // Tab-press with the input focused does not propagate to chart\n            // automatically, so we manually catch and handle it when relevant.\n            if (this.removeInputKeydownHandler) {\n                this.removeInputKeydownHandler();\n            }\n            var keydownHandler = function (e) {\n                var isTab = (e.which || e.keyCode) === _this.keyCodes.tab;\n                if (isTab) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    component.onInputKbdMove(e.shiftKey ? -1 : 1);\n                }\n            };\n            var minRemover_1 = addEvent(minInput, 'keydown', keydownHandler);\n            var maxRemover_1 = addEvent(maxInput, 'keydown', keydownHandler);\n            this.removeInputKeydownHandler = function () {\n                minRemover_1();\n                maxRemover_1();\n            };\n        }\n    };\n    /**\n     * @private\n     */\n    RangeSelectorComponent.prototype.onInputNavTerminate = function () {\n        var rangeSel = (this.chart.rangeSelector || {});\n        if (rangeSel.maxInput) {\n            rangeSel.hideInput('max');\n        }\n        if (rangeSel.minInput) {\n            rangeSel.hideInput('min');\n        }\n        if (this.removeInputKeydownHandler) {\n            this.removeInputKeydownHandler();\n            delete this.removeInputKeydownHandler;\n        }\n    };\n    /**\n     * @private\n     */\n    RangeSelectorComponent.prototype.initDropdownNav = function () {\n        var _this = this;\n        var chart = this.chart;\n        var rangeSelector = chart.rangeSelector;\n        var dropdown = (rangeSelector && rangeSelector.dropdown);\n        if (rangeSelector && dropdown) {\n            chart.setFocusToElement(rangeSelector.buttonGroup, dropdown);\n            if (this.removeDropdownKeydownHandler) {\n                this.removeDropdownKeydownHandler();\n            }\n            // Tab-press with dropdown focused does not propagate to chart\n            // automatically, so we manually catch and handle it when relevant.\n            this.removeDropdownKeydownHandler = addEvent(dropdown, 'keydown', function (e) {\n                var isTab = (e.which || e.keyCode) === _this.keyCodes.tab, a11y = chart.accessibility;\n                if (isTab) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    if (a11y) {\n                        a11y.keyboardNavigation.tabindexContainer.focus();\n                        a11y.keyboardNavigation.move(e.shiftKey ? -1 : 1);\n                    }\n                }\n            });\n        }\n    };\n    /**\n     * Get navigation for the range selector buttons.\n     * @private\n     * @return {Highcharts.KeyboardNavigationHandler} The module object.\n     */\n    RangeSelectorComponent.prototype.getRangeSelectorButtonNavigation = function () {\n        var chart = this.chart;\n        var keys = this.keyCodes;\n        var component = this;\n        return new KeyboardNavigationHandler(chart, {\n            keyCodeMap: [\n                [\n                    [keys.left, keys.right, keys.up, keys.down],\n                    function (keyCode) {\n                        return component.onButtonNavKbdArrowKey(this, keyCode);\n                    }\n                ],\n                [\n                    [keys.enter, keys.space],\n                    function () {\n                        return component.onButtonNavKbdClick(this);\n                    }\n                ]\n            ],\n            validate: function () {\n                return !!(chart.rangeSelector &&\n                    chart.rangeSelector.buttons &&\n                    chart.rangeSelector.buttons.length);\n            },\n            init: function (direction) {\n                var rangeSelector = chart.rangeSelector;\n                if (rangeSelector && rangeSelector.hasVisibleDropdown) {\n                    component.initDropdownNav();\n                }\n                else if (rangeSelector) {\n                    var lastButtonIx = rangeSelector.buttons.length - 1;\n                    chart.highlightRangeSelectorButton(direction > 0 ? 0 : lastButtonIx);\n                }\n            },\n            terminate: function () {\n                if (component.removeDropdownKeydownHandler) {\n                    component.removeDropdownKeydownHandler();\n                    delete component.removeDropdownKeydownHandler;\n                }\n            }\n        });\n    };\n    /**\n     * Get navigation for the range selector input boxes.\n     * @private\n     * @return {Highcharts.KeyboardNavigationHandler}\n     *         The module object.\n     */\n    RangeSelectorComponent.prototype.getRangeSelectorInputNavigation = function () {\n        var chart = this.chart;\n        var component = this;\n        return new KeyboardNavigationHandler(chart, {\n            keyCodeMap: [],\n            validate: function () {\n                return shouldRunInputNavigation(chart);\n            },\n            init: function (direction) {\n                component.onInputNavInit(direction);\n            },\n            terminate: function () {\n                component.onInputNavTerminate();\n            }\n        });\n    };\n    /**\n     * Get keyboard navigation handlers for this component.\n     * @return {Array<Highcharts.KeyboardNavigationHandler>}\n     *         List of module objects.\n     */\n    RangeSelectorComponent.prototype.getKeyboardNavigation = function () {\n        return [\n            this.getRangeSelectorButtonNavigation(),\n            this.getRangeSelectorInputNavigation()\n        ];\n    };\n    /**\n     * Remove component traces\n     */\n    RangeSelectorComponent.prototype.destroy = function () {\n        if (this.removeDropdownKeydownHandler) {\n            this.removeDropdownKeydownHandler();\n        }\n        if (this.removeInputKeydownHandler) {\n            this.removeInputKeydownHandler();\n        }\n        if (this.announcer) {\n            this.announcer.destroy();\n        }\n    };\n    return RangeSelectorComponent;\n}(AccessibilityComponent));\n/* *\n *\n *  Class Namespace\n *\n * */\n(function (RangeSelectorComponent) {\n    /* *\n     *\n     *  Declarations\n     *\n     * */\n    /* *\n     *\n     *  Constants\n     *\n     * */\n    var composedClasses = [];\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * Highlight range selector button by index.\n     *\n     * @private\n     * @function Highcharts.Chart#highlightRangeSelectorButton\n     */\n    function chartHighlightRangeSelectorButton(ix) {\n        var buttons = (this.rangeSelector &&\n            this.rangeSelector.buttons ||\n            []);\n        var curHighlightedIx = this.highlightedRangeSelectorItemIx;\n        var curSelectedIx = (this.rangeSelector &&\n            this.rangeSelector.selected);\n        // Deselect old\n        if (typeof curHighlightedIx !== 'undefined' &&\n            buttons[curHighlightedIx] &&\n            curHighlightedIx !== curSelectedIx) {\n            buttons[curHighlightedIx].setState(this.oldRangeSelectorItemState || 0);\n        }\n        // Select new\n        this.highlightedRangeSelectorItemIx = ix;\n        if (buttons[ix]) {\n            this.setFocusToElement(buttons[ix].box, buttons[ix].element);\n            if (ix !== curSelectedIx) {\n                this.oldRangeSelectorItemState = buttons[ix].state;\n                buttons[ix].setState(1);\n            }\n            return true;\n        }\n        return false;\n    }\n    /**\n     * @private\n     */\n    function compose(ChartClass, RangeSelectorClass) {\n        if (composedClasses.indexOf(ChartClass) === -1) {\n            composedClasses.push(ChartClass);\n            var chartProto = ChartClass.prototype;\n            chartProto.highlightRangeSelectorButton = (chartHighlightRangeSelectorButton);\n        }\n        if (composedClasses.indexOf(RangeSelectorClass) === -1) {\n            composedClasses.push(RangeSelectorClass);\n            addEvent(RangeSelector, 'afterBtnClick', rangeSelectorAfterBtnClick);\n        }\n    }\n    RangeSelectorComponent.compose = compose;\n    /**\n     * Range selector does not have destroy-setup for class instance events - so\n     * we set it on the class and call the component from here.\n     * @private\n     */\n    function rangeSelectorAfterBtnClick() {\n        var a11y = this.chart.accessibility;\n        if (a11y && a11y.components.rangeSelector) {\n            return a11y.components.rangeSelector.onAfterBtnClick();\n        }\n    }\n})(RangeSelectorComponent || (RangeSelectorComponent = {}));\n/* *\n *\n *  Export Default\n *\n * */\nexport default RangeSelectorComponent;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Handle forcing series markers.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport U from '../../../Core/Utilities.js';\nvar addEvent = U.addEvent, merge = U.merge;\n/* *\n *\n *  Composition\n *\n * */\nvar ForcedMarkersComposition;\n(function (ForcedMarkersComposition) {\n    /* *\n     *\n     *  Declarations\n     *\n     * */\n    /* *\n     *\n     *  Compositions\n     *\n     * */\n    var composedClasses = [];\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * @private\n     */\n    function compose(SeriesClass) {\n        if (composedClasses.indexOf(SeriesClass) === -1) {\n            composedClasses.push(SeriesClass);\n            addEvent(SeriesClass, 'afterSetOptions', seriesOnAfterSetOptions);\n            addEvent(SeriesClass, 'render', seriesOnRender);\n            addEvent(SeriesClass, 'afterRender', seriesOnAfterRender);\n        }\n    }\n    ForcedMarkersComposition.compose = compose;\n    /**\n     * @private\n     */\n    function forceZeroOpacityMarkerOptions(options) {\n        merge(true, options, {\n            marker: {\n                enabled: true,\n                states: {\n                    normal: {\n                        opacity: 0\n                    }\n                }\n            }\n        });\n    }\n    /**\n     * @private\n     */\n    function getPointMarkerOpacity(pointOptions) {\n        return pointOptions.marker.states &&\n            pointOptions.marker.states.normal &&\n            pointOptions.marker.states.normal.opacity;\n    }\n    /**\n     * @private\n     */\n    function handleForcePointMarkers(series) {\n        var i = series.points.length;\n        while (i--) {\n            var point = series.points[i];\n            var pointOptions = point.options;\n            var hadForcedMarker = point.hasForcedA11yMarker;\n            delete point.hasForcedA11yMarker;\n            if (pointOptions.marker) {\n                var isStillForcedMarker = hadForcedMarker &&\n                    getPointMarkerOpacity(pointOptions) === 0;\n                if (pointOptions.marker.enabled && !isStillForcedMarker) {\n                    unforcePointMarkerOptions(pointOptions);\n                    point.hasForcedA11yMarker = false;\n                }\n                else if (pointOptions.marker.enabled === false) {\n                    forceZeroOpacityMarkerOptions(pointOptions);\n                    point.hasForcedA11yMarker = true;\n                }\n            }\n        }\n    }\n    /**\n     * @private\n     */\n    function hasIndividualPointMarkerOptions(series) {\n        return !!(series._hasPointMarkers &&\n            series.points &&\n            series.points.length);\n    }\n    /**\n     * @private\n     */\n    function isWithinDescriptionThreshold(series) {\n        var a11yOptions = series.chart.options.accessibility;\n        return series.points.length <\n            a11yOptions.series.pointDescriptionEnabledThreshold ||\n            a11yOptions.series\n                .pointDescriptionEnabledThreshold === false;\n    }\n    /**\n     * Process marker graphics after render\n     * @private\n     */\n    function seriesOnAfterRender() {\n        var series = this;\n        // For styled mode the rendered graphic does not reflect the style\n        // options, and we need to add/remove classes to achieve the same.\n        if (series.chart.styledMode) {\n            if (series.markerGroup) {\n                series.markerGroup[series.a11yMarkersForced ? 'addClass' : 'removeClass']('highcharts-a11y-markers-hidden');\n            }\n            // Do we need to handle individual points?\n            if (hasIndividualPointMarkerOptions(series)) {\n                series.points.forEach(function (point) {\n                    if (point.graphic) {\n                        point.graphic[point.hasForcedA11yMarker ?\n                            'addClass' : 'removeClass']('highcharts-a11y-marker-hidden');\n                        point.graphic[point.hasForcedA11yMarker === false ?\n                            'addClass' :\n                            'removeClass']('highcharts-a11y-marker-visible');\n                    }\n                });\n            }\n        }\n    }\n    /**\n     * Keep track of options to reset markers to if no longer forced.\n     * @private\n     */\n    function seriesOnAfterSetOptions(e) {\n        this.resetA11yMarkerOptions = merge(e.options.marker || {}, this.userOptions.marker || {});\n    }\n    /**\n     * Keep track of forcing markers.\n     * @private\n     */\n    function seriesOnRender() {\n        var series = this, options = series.options;\n        if (shouldForceMarkers(series)) {\n            if (options.marker && options.marker.enabled === false) {\n                series.a11yMarkersForced = true;\n                forceZeroOpacityMarkerOptions(series.options);\n            }\n            if (hasIndividualPointMarkerOptions(series)) {\n                handleForcePointMarkers(series);\n            }\n        }\n        else if (series.a11yMarkersForced) {\n            delete series.a11yMarkersForced;\n            unforceSeriesMarkerOptions(series);\n            delete series.resetA11yMarkerOptions;\n        }\n    }\n    /**\n     * @private\n     */\n    function shouldForceMarkers(series) {\n        var chart = series.chart, chartA11yEnabled = chart.options.accessibility.enabled, seriesA11yEnabled = (series.options.accessibility &&\n            series.options.accessibility.enabled) !== false;\n        return (chartA11yEnabled &&\n            seriesA11yEnabled &&\n            isWithinDescriptionThreshold(series));\n    }\n    /**\n     * @private\n     */\n    function unforcePointMarkerOptions(pointOptions) {\n        merge(true, pointOptions.marker, {\n            states: {\n                normal: {\n                    opacity: getPointMarkerOpacity(pointOptions) || 1\n                }\n            }\n        });\n    }\n    /**\n     * Reset markers to normal\n     * @private\n     */\n    function unforceSeriesMarkerOptions(series) {\n        var resetMarkerOptions = series.resetA11yMarkerOptions;\n        if (resetMarkerOptions) {\n            var originalOpactiy = resetMarkerOptions.states &&\n                resetMarkerOptions.states.normal &&\n                resetMarkerOptions.states.normal.opacity;\n            series.update({\n                marker: {\n                    enabled: resetMarkerOptions.enabled,\n                    states: {\n                        normal: { opacity: originalOpactiy }\n                    }\n                }\n            });\n        }\n    }\n})(ForcedMarkersComposition || (ForcedMarkersComposition = {}));\n/* *\n *\n *  Default Export\n *\n * */\nexport default ForcedMarkersComposition;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Handle keyboard navigation for series.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport Point from '../../../Core/Series/Point.js';\nimport Series from '../../../Core/Series/Series.js';\nimport SeriesRegistry from '../../../Core/Series/SeriesRegistry.js';\nvar seriesTypes = SeriesRegistry.seriesTypes;\nimport H from '../../../Core/Globals.js';\nvar doc = H.doc;\nimport U from '../../../Core/Utilities.js';\nvar defined = U.defined, fireEvent = U.fireEvent;\nimport KeyboardNavigationHandler from '../../KeyboardNavigationHandler.js';\nimport EventProvider from '../../Utils/EventProvider.js';\nimport ChartUtilities from '../../Utils/ChartUtilities.js';\nvar getPointFromXY = ChartUtilities.getPointFromXY, getSeriesFromName = ChartUtilities.getSeriesFromName, scrollToPoint = ChartUtilities.scrollToPoint;\n/* *\n *\n *  Functions\n *\n * */\n/* eslint-disable valid-jsdoc */\n/**\n * Get the index of a point in a series. This is needed when using e.g. data\n * grouping.\n *\n * @private\n * @function getPointIndex\n * @param {Highcharts.AccessibilityPoint} point\n * The point to find index of.\n * @return {number|undefined}\n * The index in the series.points array of the point.\n */\nfunction getPointIndex(point) {\n    var index = point.index, points = point.series.points;\n    var i = points.length;\n    if (points[index] !== point) {\n        while (i--) {\n            if (points[i] === point) {\n                return i;\n            }\n        }\n    }\n    else {\n        return index;\n    }\n}\n/**\n * Determine if series navigation should be skipped\n * @private\n */\nfunction isSkipSeries(series) {\n    var a11yOptions = series.chart.options.accessibility, seriesNavOptions = a11yOptions.keyboardNavigation.seriesNavigation, seriesA11yOptions = series.options.accessibility || {}, seriesKbdNavOptions = seriesA11yOptions.keyboardNavigation;\n    return seriesKbdNavOptions && seriesKbdNavOptions.enabled === false ||\n        seriesA11yOptions.enabled === false ||\n        series.options.enableMouseTracking === false || // #8440\n        !series.visible ||\n        // Skip all points in a series where pointNavigationEnabledThreshold is\n        // reached\n        (seriesNavOptions.pointNavigationEnabledThreshold &&\n            seriesNavOptions.pointNavigationEnabledThreshold <=\n                series.points.length);\n}\n/**\n * Determine if navigation for a point should be skipped\n * @private\n */\nfunction isSkipPoint(point) {\n    var a11yOptions = point.series.chart.options.accessibility;\n    var pointA11yDisabled = (point.options.accessibility &&\n        point.options.accessibility.enabled === false);\n    return point.isNull &&\n        a11yOptions.keyboardNavigation.seriesNavigation.skipNullPoints ||\n        point.visible === false ||\n        point.isInside === false ||\n        pointA11yDisabled ||\n        isSkipSeries(point.series);\n}\n/**\n * Get the first point that is not a skip point in this series.\n * @private\n */\nfunction getFirstValidPointInSeries(series) {\n    var points = series.points || [], len = points.length;\n    for (var i = 0; i < len; ++i) {\n        if (!isSkipPoint(points[i])) {\n            return points[i];\n        }\n    }\n    return null;\n}\n/**\n * Get the first point that is not a skip point in this chart.\n * @private\n */\nfunction getFirstValidPointInChart(chart) {\n    var series = chart.series || [], len = series.length;\n    for (var i = 0; i < len; ++i) {\n        if (!isSkipSeries(series[i])) {\n            var point = getFirstValidPointInSeries(series[i]);\n            if (point) {\n                return point;\n            }\n        }\n    }\n    return null;\n}\n/**\n * @private\n */\nfunction highlightLastValidPointInChart(chart) {\n    var numSeries = chart.series.length;\n    var i = numSeries, res = false;\n    while (i--) {\n        chart.highlightedPoint = chart.series[i].points[chart.series[i].points.length - 1];\n        // Highlight first valid point in the series will also\n        // look backwards. It always starts from currently\n        // highlighted point.\n        res = chart.series[i].highlightNextValidPoint();\n        if (res) {\n            break;\n        }\n    }\n    return res;\n}\n/**\n * After drilling down/up, we need to set focus to the first point for\n * screen readers and keyboard nav.\n * @private\n */\nfunction updateChartFocusAfterDrilling(chart) {\n    var point = getFirstValidPointInChart(chart);\n    if (point) {\n        point.highlight(false); // Do not visually highlight\n    }\n}\n/**\n * Highlight the first point in chart that is not a skip point\n * @private\n */\nfunction highlightFirstValidPointInChart(chart) {\n    delete chart.highlightedPoint;\n    var point = getFirstValidPointInChart(chart);\n    return point ? point.highlight() : false;\n}\n/* *\n *\n *  Class\n *\n * */\n/**\n * @private\n * @class\n * @name Highcharts.SeriesKeyboardNavigation\n */\nvar SeriesKeyboardNavigation = /** @class */ (function () {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    function SeriesKeyboardNavigation(chart, keyCodes) {\n        this.keyCodes = keyCodes;\n        this.chart = chart;\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * Init the keyboard navigation\n     */\n    SeriesKeyboardNavigation.prototype.init = function () {\n        var keyboardNavigation = this, chart = this.chart, e = this.eventProvider = new EventProvider();\n        e.addEvent(Series, 'destroy', function () {\n            return keyboardNavigation.onSeriesDestroy(this);\n        });\n        e.addEvent(chart, 'afterApplyDrilldown', function () {\n            updateChartFocusAfterDrilling(this);\n        });\n        e.addEvent(chart, 'drilldown', function (e) {\n            var point = e.point, series = point.series;\n            keyboardNavigation.lastDrilledDownPoint = {\n                x: point.x,\n                y: point.y,\n                seriesName: series ? series.name : ''\n            };\n        });\n        e.addEvent(chart, 'drillupall', function () {\n            setTimeout(function () {\n                keyboardNavigation.onDrillupAll();\n            }, 10);\n        });\n        // Heatmaps et al. alter z-index in setState, causing elements\n        // to lose focus\n        e.addEvent(Point, 'afterSetState', function () {\n            var point = this;\n            var pointEl = point.graphic && point.graphic.element;\n            var focusedElement = doc.activeElement;\n            // VO brings focus with it to container, causing series nav to run.\n            // If then navigating with virtual cursor, it is possible to leave\n            // keyboard nav module state on the data points and still activate\n            // proxy buttons.\n            var focusedElClassName = (focusedElement && focusedElement.getAttribute('class'));\n            var isProxyFocused = focusedElClassName &&\n                focusedElClassName.indexOf('highcharts-a11y-proxy-button') > -1;\n            if (chart.highlightedPoint === point &&\n                focusedElement !== pointEl &&\n                !isProxyFocused &&\n                pointEl &&\n                pointEl.focus) {\n                pointEl.focus();\n            }\n        });\n    };\n    /**\n     * After drillup we want to find the point that was drilled down to and\n     * highlight it.\n     * @private\n     */\n    SeriesKeyboardNavigation.prototype.onDrillupAll = function () {\n        var last = this.lastDrilledDownPoint, chart = this.chart, series = last && getSeriesFromName(chart, last.seriesName);\n        var point;\n        if (last && series && defined(last.x) && defined(last.y)) {\n            point = getPointFromXY(series, last.x, last.y);\n        }\n        point = point || getFirstValidPointInChart(chart);\n        // Container focus can be lost on drillup due to deleted elements.\n        if (chart.container) {\n            chart.container.focus();\n        }\n        if (point && point.highlight) {\n            point.highlight(false); // Do not visually highlight\n        }\n    };\n    /**\n     * @private\n     */\n    SeriesKeyboardNavigation.prototype.getKeyboardNavigationHandler = function () {\n        var keyboardNavigation = this, keys = this.keyCodes, chart = this.chart, inverted = chart.inverted;\n        return new KeyboardNavigationHandler(chart, {\n            keyCodeMap: [\n                [inverted ? [keys.up, keys.down] : [keys.left, keys.right],\n                    function (keyCode) {\n                        return keyboardNavigation.onKbdSideways(this, keyCode);\n                    }],\n                [inverted ? [keys.left, keys.right] : [keys.up, keys.down],\n                    function (keyCode) {\n                        return keyboardNavigation.onKbdVertical(this, keyCode);\n                    }],\n                [[keys.enter, keys.space],\n                    function (keyCode, event) {\n                        var point = chart.highlightedPoint;\n                        if (point) {\n                            event.point = point;\n                            fireEvent(point.series, 'click', event);\n                            point.firePointEvent('click');\n                        }\n                        return this.response.success;\n                    }],\n                [[keys.home],\n                    function () {\n                        highlightFirstValidPointInChart(chart);\n                        return this.response.success;\n                    }],\n                [[keys.end],\n                    function () {\n                        highlightLastValidPointInChart(chart);\n                        return this.response.success;\n                    }],\n                [[keys.pageDown, keys.pageUp],\n                    function (keyCode) {\n                        chart.highlightAdjacentSeries(keyCode === keys.pageDown);\n                        return this.response.success;\n                    }]\n            ],\n            init: function () {\n                return keyboardNavigation.onHandlerInit(this);\n            },\n            validate: function () {\n                return !!getFirstValidPointInChart(chart);\n            },\n            terminate: function () {\n                return keyboardNavigation.onHandlerTerminate();\n            }\n        });\n    };\n    /**\n     * @private\n     * @param {Highcharts.KeyboardNavigationHandler} handler\n     * @param {number} keyCode\n     * @return {number}\n     * response\n     */\n    SeriesKeyboardNavigation.prototype.onKbdSideways = function (handler, keyCode) {\n        var keys = this.keyCodes, isNext = keyCode === keys.right || keyCode === keys.down;\n        return this.attemptHighlightAdjacentPoint(handler, isNext);\n    };\n    /**\n     * When keyboard navigation inits.\n     * @private\n     * @param {Highcharts.KeyboardNavigationHandler} handler The handler object\n     * @return {number}\n     * response\n     */\n    SeriesKeyboardNavigation.prototype.onHandlerInit = function (handler) {\n        var chart = this.chart, kbdNavOptions = chart.options.accessibility.keyboardNavigation;\n        if (kbdNavOptions.seriesNavigation.rememberPointFocus &&\n            chart.highlightedPoint) {\n            chart.highlightedPoint.highlight();\n        }\n        else {\n            highlightFirstValidPointInChart(chart);\n        }\n        return handler.response.success;\n    };\n    /**\n     * @private\n     * @param {Highcharts.KeyboardNavigationHandler} handler\n     * @param {number} keyCode\n     * @return {number}\n     * response\n     */\n    SeriesKeyboardNavigation.prototype.onKbdVertical = function (handler, keyCode) {\n        var chart = this.chart, keys = this.keyCodes, isNext = keyCode === keys.down || keyCode === keys.right, navOptions = chart.options.accessibility.keyboardNavigation\n            .seriesNavigation;\n        // Handle serialized mode, act like left/right\n        if (navOptions.mode && navOptions.mode === 'serialize') {\n            return this.attemptHighlightAdjacentPoint(handler, isNext);\n        }\n        // Normal mode, move between series\n        var highlightMethod = (chart.highlightedPoint &&\n            chart.highlightedPoint.series.keyboardMoveVertical) ?\n            'highlightAdjacentPointVertical' :\n            'highlightAdjacentSeries';\n        chart[highlightMethod](isNext);\n        return handler.response.success;\n    };\n    /**\n     * @private\n     */\n    SeriesKeyboardNavigation.prototype.onHandlerTerminate = function () {\n        var chart = this.chart, kbdNavOptions = chart.options.accessibility.keyboardNavigation;\n        if (chart.tooltip) {\n            chart.tooltip.hide(0);\n        }\n        var hoverSeries = (chart.highlightedPoint && chart.highlightedPoint.series);\n        if (hoverSeries && hoverSeries.onMouseOut) {\n            hoverSeries.onMouseOut();\n        }\n        if (chart.highlightedPoint && chart.highlightedPoint.onMouseOut) {\n            chart.highlightedPoint.onMouseOut();\n        }\n        if (!kbdNavOptions.seriesNavigation.rememberPointFocus) {\n            delete chart.highlightedPoint;\n        }\n    };\n    /**\n     * Function that attempts to highlight next/prev point. Handles wrap around.\n     * @private\n     */\n    SeriesKeyboardNavigation.prototype.attemptHighlightAdjacentPoint = function (handler, directionIsNext) {\n        var chart = this.chart, wrapAround = chart.options.accessibility.keyboardNavigation\n            .wrapAround, highlightSuccessful = chart.highlightAdjacentPoint(directionIsNext);\n        if (!highlightSuccessful) {\n            if (wrapAround && (directionIsNext ?\n                highlightFirstValidPointInChart(chart) :\n                highlightLastValidPointInChart(chart))) {\n                return handler.response.success;\n            }\n            return handler.response[directionIsNext ? 'next' : 'prev'];\n        }\n        return handler.response.success;\n    };\n    /**\n     * @private\n     */\n    SeriesKeyboardNavigation.prototype.onSeriesDestroy = function (series) {\n        var chart = this.chart, currentHighlightedPointDestroyed = chart.highlightedPoint &&\n            chart.highlightedPoint.series === series;\n        if (currentHighlightedPointDestroyed) {\n            delete chart.highlightedPoint;\n            if (chart.focusElement) {\n                chart.focusElement.removeFocusBorder();\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    SeriesKeyboardNavigation.prototype.destroy = function () {\n        this.eventProvider.removeAddedEvents();\n    };\n    return SeriesKeyboardNavigation;\n}());\n/* *\n *\n *  Class Namespace\n *\n * */\n(function (SeriesKeyboardNavigation) {\n    /* *\n     *\n     *  Declarations\n     *\n     * */\n    /* *\n     *\n     *  Constants\n     *\n     * */\n    var composedClasses = [];\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Function to highlight next/previous point in chart.\n     *\n     * @private\n     * @function Highcharts.Chart#highlightAdjacentPoint\n     *\n     * @param {boolean} next\n     * Flag for the direction.\n     *\n     * @return {Highcharts.Point|boolean}\n     * Returns highlighted point on success, false on failure (no adjacent point\n     * to highlight in chosen direction).\n     */\n    function chartHighlightAdjacentPoint(next) {\n        var chart = this, series = chart.series, curPoint = chart.highlightedPoint, curPointIndex = curPoint && getPointIndex(curPoint) || 0, curPoints = curPoint && curPoint.series.points || [], lastSeries = chart.series && chart.series[chart.series.length - 1], lastPoint = lastSeries &&\n            lastSeries.points &&\n            lastSeries.points[lastSeries.points.length - 1];\n        var newSeries, newPoint;\n        // If no points, return false\n        if (!series[0] || !series[0].points) {\n            return false;\n        }\n        if (!curPoint) {\n            // No point is highlighted yet. Try first/last point depending on\n            // move direction\n            newPoint = next ? series[0].points[0] : lastPoint;\n        }\n        else {\n            // We have a highlighted point. Grab next/prev point & series.\n            newSeries = series[curPoint.series.index + (next ? 1 : -1)];\n            newPoint = curPoints[curPointIndex + (next ? 1 : -1)];\n            if (!newPoint && newSeries) {\n                // Done with this series, try next one\n                newPoint = newSeries.points[next ? 0 : newSeries.points.length - 1];\n            }\n            // If there is no adjacent point, we return false\n            if (!newPoint) {\n                return false;\n            }\n        }\n        // Recursively skip points\n        if (isSkipPoint(newPoint)) {\n            // If we skip this whole series, move to the end of the series\n            // before we recurse, just to optimize\n            newSeries = newPoint.series;\n            if (isSkipSeries(newSeries)) {\n                chart.highlightedPoint = next ?\n                    newSeries.points[newSeries.points.length - 1] :\n                    newSeries.points[0];\n            }\n            else {\n                // Otherwise, just move one point\n                chart.highlightedPoint = newPoint;\n            }\n            // Retry\n            return chart.highlightAdjacentPoint(next);\n        }\n        // There is an adjacent point, highlight it\n        return newPoint.highlight();\n    }\n    /**\n     * Highlight the closest point vertically.\n     * @private\n     */\n    function chartHighlightAdjacentPointVertical(down) {\n        var curPoint = this.highlightedPoint;\n        var minDistance = Infinity, bestPoint;\n        if (!defined(curPoint.plotX) || !defined(curPoint.plotY)) {\n            return false;\n        }\n        this.series.forEach(function (series) {\n            if (isSkipSeries(series)) {\n                return;\n            }\n            series.points.forEach(function (point) {\n                if (!defined(point.plotY) || !defined(point.plotX) ||\n                    point === curPoint) {\n                    return;\n                }\n                var yDistance = point.plotY - curPoint.plotY;\n                var width = Math.abs(point.plotX - curPoint.plotX), distance = Math.abs(yDistance) * Math.abs(yDistance) +\n                    width * width * 4; // Weigh horizontal distance highly\n                // Reverse distance number if axis is reversed\n                if (series.yAxis && series.yAxis.reversed) {\n                    yDistance *= -1;\n                }\n                if (yDistance <= 0 && down || yDistance >= 0 && !down ||\n                    distance < 5 || // Points in same spot => infinite loop\n                    isSkipPoint(point)) {\n                    return;\n                }\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    bestPoint = point;\n                }\n            });\n        });\n        return bestPoint ? bestPoint.highlight() : false;\n    }\n    /**\n     * Highlight next/previous series in chart. Returns false if no adjacent\n     * series in the direction, otherwise returns new highlighted point.\n     * @private\n     */\n    function chartHighlightAdjacentSeries(down) {\n        var chart = this, curPoint = chart.highlightedPoint, lastSeries = chart.series && chart.series[chart.series.length - 1], lastPoint = lastSeries && lastSeries.points &&\n            lastSeries.points[lastSeries.points.length - 1];\n        var newSeries, newPoint, adjacentNewPoint;\n        // If no point is highlighted, highlight the first/last point\n        if (!chart.highlightedPoint) {\n            newSeries = down ? (chart.series && chart.series[0]) : lastSeries;\n            newPoint = down ?\n                (newSeries && newSeries.points && newSeries.points[0]) :\n                lastPoint;\n            return newPoint ? newPoint.highlight() : false;\n        }\n        newSeries = (chart.series[curPoint.series.index + (down ? -1 : 1)]);\n        if (!newSeries) {\n            return false;\n        }\n        // We have a new series in this direction, find the right point\n        // Weigh xDistance as counting much higher than Y distance\n        newPoint = getClosestPoint(curPoint, newSeries, 4);\n        if (!newPoint) {\n            return false;\n        }\n        // New series and point exists, but we might want to skip it\n        if (isSkipSeries(newSeries)) {\n            // Skip the series\n            newPoint.highlight();\n            // Try recurse\n            adjacentNewPoint = chart.highlightAdjacentSeries(down);\n            if (!adjacentNewPoint) {\n                // Recurse failed\n                curPoint.highlight();\n                return false;\n            }\n            // Recurse succeeded\n            return adjacentNewPoint;\n        }\n        // Highlight the new point or any first valid point back or forwards\n        // from it\n        newPoint.highlight();\n        return newPoint.series.highlightNextValidPoint();\n    }\n    /**\n     * @private\n     */\n    function compose(ChartClass, PointClass, SeriesClass) {\n        if (composedClasses.indexOf(ChartClass) === -1) {\n            composedClasses.push(ChartClass);\n            var chartProto = ChartClass.prototype;\n            chartProto.highlightAdjacentPoint = chartHighlightAdjacentPoint;\n            chartProto.highlightAdjacentPointVertical = (chartHighlightAdjacentPointVertical);\n            chartProto.highlightAdjacentSeries = chartHighlightAdjacentSeries;\n        }\n        if (composedClasses.indexOf(PointClass) === -1) {\n            composedClasses.push(PointClass);\n            var pointProto = PointClass.prototype;\n            pointProto.highlight = pointHighlight;\n        }\n        if (composedClasses.indexOf(SeriesClass) === -1) {\n            composedClasses.push(SeriesClass);\n            var seriesProto = SeriesClass.prototype;\n            /**\n             * Set for which series types it makes sense to move to the closest\n             * point with up/down arrows, and which series types should just\n             * move to next series.\n             * @private\n             */\n            seriesProto.keyboardMoveVertical = true;\n            [\n                'column',\n                'gantt',\n                'pie'\n            ].forEach(function (type) {\n                if (seriesTypes[type]) {\n                    seriesTypes[type].prototype.keyboardMoveVertical = false;\n                }\n            });\n            seriesProto.highlightNextValidPoint = (seriesHighlightNextValidPoint);\n        }\n    }\n    SeriesKeyboardNavigation.compose = compose;\n    /**\n     * Get the point in a series that is closest (in pixel distance) to a\n     * reference point. Optionally supply weight factors for x and y directions.\n     * @private\n     */\n    function getClosestPoint(point, series, xWeight, yWeight) {\n        var minDistance = Infinity, dPoint, minIx, distance, i = series.points.length;\n        var hasUndefinedPosition = function (point) { return (!(defined(point.plotX) && defined(point.plotY))); };\n        if (hasUndefinedPosition(point)) {\n            return;\n        }\n        while (i--) {\n            dPoint = series.points[i];\n            if (hasUndefinedPosition(dPoint)) {\n                continue;\n            }\n            distance = (point.plotX - dPoint.plotX) *\n                (point.plotX - dPoint.plotX) *\n                (xWeight || 1) +\n                (point.plotY - dPoint.plotY) *\n                    (point.plotY - dPoint.plotY) *\n                    (yWeight || 1);\n            if (distance < minDistance) {\n                minDistance = distance;\n                minIx = i;\n            }\n        }\n        return defined(minIx) ? series.points[minIx] : void 0;\n    }\n    /**\n     * Highlights a point (show tooltip, display hover state, focus element).\n     *\n     * @private\n     * @function Highcharts.Point#highlight\n     *\n     * @return {Highcharts.Point}\n     *         This highlighted point.\n     */\n    function pointHighlight(highlightVisually) {\n        if (highlightVisually === void 0) { highlightVisually = true; }\n        var chart = this.series.chart;\n        if (!this.isNull && highlightVisually) {\n            this.onMouseOver(); // Show the hover marker and tooltip\n        }\n        else {\n            if (chart.tooltip) {\n                chart.tooltip.hide(0);\n            }\n            // Do not call blur on the element, as it messes up the focus of the\n            // div element of the chart\n        }\n        scrollToPoint(this);\n        // We focus only after calling onMouseOver because the state change can\n        // change z-index and mess up the element.\n        if (this.graphic) {\n            chart.setFocusToElement(this.graphic);\n            if (!highlightVisually && chart.focusElement) {\n                chart.focusElement.removeFocusBorder();\n            }\n        }\n        chart.highlightedPoint = this;\n        return this;\n    }\n    /**\n     * Highlight first valid point in a series. Returns the point if\n     * successfully highlighted, otherwise false. If there is a highlighted\n     * point in the series, use that as starting point.\n     *\n     * @private\n     * @function Highcharts.Series#highlightNextValidPoint\n     */\n    function seriesHighlightNextValidPoint() {\n        var curPoint = this.chart.highlightedPoint, start = (curPoint && curPoint.series) === this ?\n            getPointIndex(curPoint) :\n            0, points = this.points, len = points.length;\n        if (points && len) {\n            for (var i = start; i < len; ++i) {\n                if (!isSkipPoint(points[i])) {\n                    return points[i].highlight();\n                }\n            }\n            for (var j = start; j >= 0; --j) {\n                if (!isSkipPoint(points[j])) {\n                    return points[j].highlight();\n                }\n            }\n        }\n        return false;\n    }\n})(SeriesKeyboardNavigation || (SeriesKeyboardNavigation = {}));\n/* *\n *\n *  Default Export\n *\n * */\nexport default SeriesKeyboardNavigation;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Accessibility component for series and points.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport AccessibilityComponent from '../../AccessibilityComponent.js';\nimport ChartUtilities from '../../Utils/ChartUtilities.js';\nvar hideSeriesFromAT = ChartUtilities.hideSeriesFromAT;\nimport ForcedMarkers from './ForcedMarkers.js';\nimport NewDataAnnouncer from './NewDataAnnouncer.js';\nimport SeriesDescriber from './SeriesDescriber.js';\nvar describeSeries = SeriesDescriber.describeSeries;\nimport SeriesKeyboardNavigation from './SeriesKeyboardNavigation.js';\nimport Tooltip from '../../../Core/Tooltip.js';\n/* *\n *\n *  Class\n *\n * */\n/**\n * The SeriesComponent class\n *\n * @private\n * @class\n * @name Highcharts.SeriesComponent\n */\nvar SeriesComponent = /** @class */ (function (_super) {\n    __extends(SeriesComponent, _super);\n    function SeriesComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /* *\n     *\n     *  Static Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * @private\n     */\n    SeriesComponent.compose = function (ChartClass, PointClass, SeriesClass) {\n        NewDataAnnouncer.compose(SeriesClass);\n        ForcedMarkers.compose(SeriesClass);\n        SeriesKeyboardNavigation.compose(ChartClass, PointClass, SeriesClass);\n    };\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Init the component.\n     */\n    SeriesComponent.prototype.init = function () {\n        this.newDataAnnouncer = new NewDataAnnouncer(this.chart);\n        this.newDataAnnouncer.init();\n        this.keyboardNavigation = new SeriesKeyboardNavigation(this.chart, this.keyCodes);\n        this.keyboardNavigation.init();\n        this.hideTooltipFromATWhenShown();\n        this.hideSeriesLabelsFromATWhenShown();\n    };\n    /**\n     * @private\n     */\n    SeriesComponent.prototype.hideTooltipFromATWhenShown = function () {\n        var component = this;\n        this.addEvent(Tooltip, 'refresh', function () {\n            if (this.chart === component.chart &&\n                this.label &&\n                this.label.element) {\n                this.label.element.setAttribute('aria-hidden', true);\n            }\n        });\n    };\n    /**\n     * @private\n     */\n    SeriesComponent.prototype.hideSeriesLabelsFromATWhenShown = function () {\n        this.addEvent(this.chart, 'afterDrawSeriesLabels', function () {\n            this.series.forEach(function (series) {\n                if (series.labelBySeries) {\n                    series.labelBySeries.attr('aria-hidden', true);\n                }\n            });\n        });\n    };\n    /**\n     * Called on chart render. It is necessary to do this for render in case\n     * markers change on zoom/pixel density.\n     */\n    SeriesComponent.prototype.onChartRender = function () {\n        var chart = this.chart;\n        chart.series.forEach(function (series) {\n            var shouldDescribeSeries = (series.options.accessibility &&\n                series.options.accessibility.enabled) !== false &&\n                series.visible;\n            if (shouldDescribeSeries) {\n                describeSeries(series);\n            }\n            else {\n                hideSeriesFromAT(series);\n            }\n        });\n    };\n    /**\n     * Get keyboard navigation handler for this component.\n     * @private\n     */\n    SeriesComponent.prototype.getKeyboardNavigation = function () {\n        return this.keyboardNavigation.getKeyboardNavigationHandler();\n    };\n    /**\n     * Remove traces\n     * @private\n     */\n    SeriesComponent.prototype.destroy = function () {\n        this.newDataAnnouncer.destroy();\n        this.keyboardNavigation.destroy();\n    };\n    return SeriesComponent;\n}(AccessibilityComponent));\n/* *\n *\n *  Default Export\n *\n * */\nexport default SeriesComponent;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Accessibility component for chart zoom.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport AccessibilityComponent from '../AccessibilityComponent.js';\nimport CU from '../Utils/ChartUtilities.js';\nvar unhideChartElementFromAT = CU.unhideChartElementFromAT;\nimport HU from '../Utils/HTMLUtilities.js';\nvar getFakeMouseEvent = HU.getFakeMouseEvent;\nimport KeyboardNavigationHandler from '../KeyboardNavigationHandler.js';\nimport U from '../../Core/Utilities.js';\nvar attr = U.attr, pick = U.pick;\n/* *\n *\n *  Functions\n *\n * */\n/**\n * @private\n */\nfunction chartHasMapZoom(chart) {\n    return !!((chart.mapView) &&\n        chart.mapNavigation &&\n        chart.mapNavigation.navButtons.length);\n}\n/* *\n *\n *  Class\n *\n * */\n/**\n * The ZoomComponent class\n *\n * @private\n * @class\n * @name Highcharts.ZoomComponent\n */\nvar ZoomComponent = /** @class */ (function (_super) {\n    __extends(ZoomComponent, _super);\n    function ZoomComponent() {\n        /* *\n         *\n         *  Properties\n         *\n         * */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.focusedMapNavButtonIx = -1;\n        return _this;\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Initialize the component\n     */\n    ZoomComponent.prototype.init = function () {\n        var component = this, chart = this.chart;\n        this.proxyProvider.addGroup('zoom', 'div');\n        [\n            'afterShowResetZoom', 'afterApplyDrilldown', 'drillupall'\n        ].forEach(function (eventType) {\n            component.addEvent(chart, eventType, function () {\n                component.updateProxyOverlays();\n            });\n        });\n    };\n    /**\n     * Called when chart is updated\n     */\n    ZoomComponent.prototype.onChartUpdate = function () {\n        var chart = this.chart, component = this;\n        // Make map zoom buttons accessible\n        if (chart.mapNavigation) {\n            chart.mapNavigation.navButtons.forEach(function (button, i) {\n                unhideChartElementFromAT(chart, button.element);\n                component.setMapNavButtonAttrs(button.element, 'accessibility.zoom.mapZoom' + (i ? 'Out' : 'In'));\n            });\n        }\n    };\n    /**\n     * @private\n     * @param {Highcharts.HTMLDOMElement|Highcharts.SVGDOMElement} button\n     * @param {string} labelFormatKey\n     */\n    ZoomComponent.prototype.setMapNavButtonAttrs = function (button, labelFormatKey) {\n        var chart = this.chart, label = chart.langFormat(labelFormatKey, { chart: chart });\n        attr(button, {\n            tabindex: -1,\n            role: 'button',\n            'aria-label': label\n        });\n    };\n    /**\n     * Update the proxy overlays on every new render to ensure positions are\n     * correct.\n     */\n    ZoomComponent.prototype.onChartRender = function () {\n        this.updateProxyOverlays();\n    };\n    /**\n     * Update proxy overlays, recreating the buttons.\n     */\n    ZoomComponent.prototype.updateProxyOverlays = function () {\n        var chart = this.chart;\n        // Always start with a clean slate\n        this.proxyProvider.clearGroup('zoom');\n        if (chart.resetZoomButton) {\n            this.createZoomProxyButton(chart.resetZoomButton, 'resetZoomProxyButton', chart.langFormat('accessibility.zoom.resetZoomButton', { chart: chart }));\n        }\n        if (chart.drillUpButton &&\n            chart.breadcrumbs &&\n            chart.breadcrumbs.list) {\n            var lastBreadcrumb = chart.breadcrumbs.list[chart.breadcrumbs.list.length - 1];\n            this.createZoomProxyButton(chart.drillUpButton, 'drillUpProxyButton', chart.langFormat('accessibility.drillUpButton', {\n                chart: chart,\n                buttonText: chart.breadcrumbs.getButtonText(lastBreadcrumb)\n            }));\n        }\n    };\n    /**\n     * @private\n     * @param {Highcharts.SVGElement} buttonEl\n     * @param {string} buttonProp\n     * @param {string} label\n     */\n    ZoomComponent.prototype.createZoomProxyButton = function (buttonEl, buttonProp, label) {\n        this[buttonProp] = this.proxyProvider.addProxyElement('zoom', {\n            click: buttonEl\n        }, {\n            'aria-label': label,\n            tabindex: -1\n        });\n    };\n    /**\n     * Get keyboard navigation handler for map zoom.\n     * @private\n     * @return {Highcharts.KeyboardNavigationHandler} The module object\n     */\n    ZoomComponent.prototype.getMapZoomNavigation = function () {\n        var keys = this.keyCodes, chart = this.chart, component = this;\n        return new KeyboardNavigationHandler(chart, {\n            keyCodeMap: [\n                [\n                    [keys.up, keys.down, keys.left, keys.right],\n                    function (keyCode) {\n                        return component.onMapKbdArrow(this, keyCode);\n                    }\n                ],\n                [\n                    [keys.tab],\n                    function (_keyCode, e) {\n                        return component.onMapKbdTab(this, e);\n                    }\n                ],\n                [\n                    [keys.space, keys.enter],\n                    function () {\n                        return component.onMapKbdClick(this);\n                    }\n                ]\n            ],\n            validate: function () {\n                return chartHasMapZoom(chart);\n            },\n            init: function (direction) {\n                return component.onMapNavInit(direction);\n            }\n        });\n    };\n    /**\n     * Arrow key panning for maps.\n     * @private\n     * @param {Highcharts.KeyboardNavigationHandler} keyboardNavigationHandler The handler context.\n     * @param {number} keyCode Key pressed.\n     * @return {number} Response code\n     */\n    ZoomComponent.prototype.onMapKbdArrow = function (keyboardNavigationHandler, keyCode) {\n        var chart = this.chart, keys = this.keyCodes, target = chart.container, isY = keyCode === keys.up || keyCode === keys.down, stepDirection = (keyCode === keys.left || keyCode === keys.up) ?\n            1 : -1, granularity = 10, diff = (isY ? chart.plotHeight : chart.plotWidth) /\n            granularity * stepDirection, \n        // Randomize since same mousedown coords twice is ignored in MapView\n        r = Math.random() * 10, startPos = {\n            x: target.offsetLeft + chart.plotLeft + chart.plotWidth / 2 + r,\n            y: target.offsetTop + chart.plotTop + chart.plotHeight / 2 + r\n        }, endPos = isY ? { x: startPos.x, y: startPos.y + diff } :\n            { x: startPos.x + diff, y: startPos.y };\n        [\n            getFakeMouseEvent('mousedown', startPos),\n            getFakeMouseEvent('mousemove', endPos),\n            getFakeMouseEvent('mouseup', endPos)\n        ].forEach(function (e) { return target.dispatchEvent(e); });\n        return keyboardNavigationHandler.response.success;\n    };\n    /**\n     * @private\n     * @param {Highcharts.KeyboardNavigationHandler} keyboardNavigationHandler\n     * @param {global.KeyboardEvent} event\n     * @return {number} Response code\n     */\n    ZoomComponent.prototype.onMapKbdTab = function (keyboardNavigationHandler, event) {\n        var chart = this.chart;\n        var response = keyboardNavigationHandler.response;\n        var isBackwards = event.shiftKey;\n        var isMoveOutOfRange = isBackwards && !this.focusedMapNavButtonIx ||\n            !isBackwards && this.focusedMapNavButtonIx;\n        // Deselect old\n        chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0);\n        if (isMoveOutOfRange) {\n            if (chart.mapView) {\n                chart.mapView.zoomBy(); // Reset zoom\n            }\n            return response[isBackwards ? 'prev' : 'next'];\n        }\n        // Select other button\n        this.focusedMapNavButtonIx += isBackwards ? -1 : 1;\n        var button = chart.mapNavigation.navButtons[this.focusedMapNavButtonIx];\n        chart.setFocusToElement(button.box, button.element);\n        button.setState(2);\n        return response.success;\n    };\n    /**\n     * Called on map button click.\n     * @private\n     * @param {Highcharts.KeyboardNavigationHandler} keyboardNavigationHandler The handler context object\n     * @return {number} Response code\n     */\n    ZoomComponent.prototype.onMapKbdClick = function (keyboardNavigationHandler) {\n        var el = this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element;\n        this.fakeClickEvent(el);\n        return keyboardNavigationHandler.response.success;\n    };\n    /**\n     * @private\n     * @param {number} direction\n     */\n    ZoomComponent.prototype.onMapNavInit = function (direction) {\n        var chart = this.chart, zoomIn = chart.mapNavigation.navButtons[0], zoomOut = chart.mapNavigation.navButtons[1], initialButton = direction > 0 ? zoomIn : zoomOut;\n        chart.setFocusToElement(initialButton.box, initialButton.element);\n        initialButton.setState(2);\n        this.focusedMapNavButtonIx = direction > 0 ? 0 : 1;\n    };\n    /**\n     * Get keyboard navigation handler for a simple chart button. Provide the\n     * button reference for the chart, and a function to call on click.\n     *\n     * @private\n     * @param {string} buttonProp The property on chart referencing the button.\n     * @return {Highcharts.KeyboardNavigationHandler} The module object\n     */\n    ZoomComponent.prototype.simpleButtonNavigation = function (buttonProp, proxyProp, onClick) {\n        var keys = this.keyCodes, component = this, chart = this.chart;\n        return new KeyboardNavigationHandler(chart, {\n            keyCodeMap: [\n                [\n                    [keys.tab, keys.up, keys.down, keys.left, keys.right],\n                    function (keyCode, e) {\n                        var isBackwards = (keyCode === keys.tab && e.shiftKey ||\n                            keyCode === keys.left ||\n                            keyCode === keys.up);\n                        // Arrow/tab => just move\n                        return this.response[isBackwards ? 'prev' : 'next'];\n                    }\n                ],\n                [\n                    [keys.space, keys.enter],\n                    function () {\n                        var res = onClick(this, chart);\n                        return pick(res, this.response.success);\n                    }\n                ]\n            ],\n            validate: function () {\n                var hasButton = (chart[buttonProp] &&\n                    chart[buttonProp].box &&\n                    component[proxyProp].buttonElement);\n                return hasButton;\n            },\n            init: function () {\n                chart.setFocusToElement(chart[buttonProp].box, component[proxyProp].buttonElement);\n            }\n        });\n    };\n    /**\n     * Get keyboard navigation handlers for this component.\n     * @return {Array<Highcharts.KeyboardNavigationHandler>}\n     *         List of module objects\n     */\n    ZoomComponent.prototype.getKeyboardNavigation = function () {\n        return [\n            this.simpleButtonNavigation('resetZoomButton', 'resetZoomProxyButton', function (_handler, chart) {\n                chart.zoomOut();\n            }),\n            this.simpleButtonNavigation('drillUpButton', 'drillUpProxyButton', function (handler, chart) {\n                chart.drillUp();\n                return handler.response.prev;\n            }),\n            this.getMapZoomNavigation()\n        ];\n    };\n    return ZoomComponent;\n}(AccessibilityComponent));\n/* *\n *\n *  Default Export\n *\n * */\nexport default ZoomComponent;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Handling for Windows High Contrast Mode.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport H from '../Core/Globals.js';\nvar doc = H.doc, isMS = H.isMS, win = H.win;\n/* *\n *\n *  Functions\n *\n * */\n/**\n * Detect WHCM in the browser.\n *\n * @function Highcharts#isHighContrastModeActive\n * @private\n * @return {boolean} Returns true if the browser is in High Contrast mode.\n */\nfunction isHighContrastModeActive() {\n    // Use media query on Edge, but not on IE\n    var isEdge = /(Edg)/.test(win.navigator.userAgent);\n    if (win.matchMedia && isEdge) {\n        return win.matchMedia('(-ms-high-contrast: active)').matches;\n    }\n    // Test BG image for IE\n    if (isMS && win.getComputedStyle) {\n        var testDiv = doc.createElement('div');\n        var imageSrc = 'data:image/gif;base64,' +\n            'R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n        testDiv.style.backgroundImage = \"url(\".concat(imageSrc, \")\"); // #13071\n        doc.body.appendChild(testDiv);\n        var bi = (testDiv.currentStyle ||\n            win.getComputedStyle(testDiv)).backgroundImage;\n        doc.body.removeChild(testDiv);\n        return bi === 'none';\n    }\n    // Other browsers use the forced-colors standard\n    return win.matchMedia && win.matchMedia('(forced-colors: active)').matches;\n}\n/**\n * Force high contrast theme for the chart. The default theme is defined in\n * a separate file.\n *\n * @function Highcharts#setHighContrastTheme\n * @private\n * @param {Highcharts.AccessibilityChart} chart The chart to set the theme of.\n * @return {void}\n */\nfunction setHighContrastTheme(chart) {\n    // We might want to add additional functionality here in the future for\n    // storing the old state so that we can reset the theme if HC mode is\n    // disabled. For now, the user will have to reload the page.\n    chart.highContrastModeActive = true;\n    // Apply theme to chart\n    var theme = (chart.options.accessibility.highContrastTheme);\n    chart.update(theme, false);\n    // Force series colors (plotOptions is not enough)\n    chart.series.forEach(function (s) {\n        var plotOpts = theme.plotOptions[s.type] || {};\n        s.update({\n            color: plotOpts.color || 'windowText',\n            colors: [plotOpts.color || 'windowText'],\n            borderColor: plotOpts.borderColor || 'window'\n        });\n        // Force point colors if existing\n        s.points.forEach(function (p) {\n            if (p.options && p.options.color) {\n                p.update({\n                    color: plotOpts.color || 'windowText',\n                    borderColor: plotOpts.borderColor || 'window'\n                }, false);\n            }\n        });\n    });\n    // The redraw for each series and after is required for 3D pie\n    // (workaround)\n    chart.redraw();\n}\n/* *\n *\n *  Default Export\n *\n * */\nvar whcm = {\n    isHighContrastModeActive: isHighContrastModeActive,\n    setHighContrastTheme: setHighContrastTheme\n};\nexport default whcm;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Default options for accessibility.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n/* eslint-disable max-len */\n/*\n *  List of deprecated options:\n *\n *  chart.description -> accessibility.description\n *  chart.typeDescription -> accessibility.typeDescription\n *  series.description -> series.accessibility.description\n *  series.exposeElementToA11y -> series.accessibility.exposeAsGroupOnly\n *  series.pointDescriptionFormatter ->\n *      series.accessibility.pointDescriptionFormatter\n *  series.accessibility.pointDescriptionFormatter ->\n *      series.accessibility.point.descriptionFormatter\n *  series.skipKeyboardNavigation ->\n *      series.accessibility.keyboardNavigation.enabled\n *  point.description -> point.accessibility.description !!!! WARNING: No longer deprecated and handled, removed for HC8.\n *  axis.description -> axis.accessibility.description\n *\n *  accessibility.pointDateFormat -> accessibility.point.dateFormat\n *  accessibility.addTableShortcut -> Handled by screenReaderSection.beforeChartFormat\n *  accessibility.pointDateFormatter -> accessibility.point.dateFormatter\n *  accessibility.pointDescriptionFormatter -> accessibility.point.descriptionFormatter\n *  accessibility.pointDescriptionThreshold -> accessibility.series.pointDescriptionEnabledThreshold\n *  accessibility.pointNavigationThreshold -> accessibility.keyboardNavigation.seriesNavigation.pointNavigationEnabledThreshold\n *  accessibility.pointValueDecimals -> accessibility.point.valueDecimals\n *  accessibility.pointValuePrefix -> accessibility.point.valuePrefix\n *  accessibility.pointValueSuffix -> accessibility.point.valueSuffix\n *  accessibility.screenReaderSectionFormatter -> accessibility.screenReaderSection.beforeChartFormatter\n *  accessibility.describeSingleSeries -> accessibility.series.describeSingleSeries\n *  accessibility.seriesDescriptionFormatter -> accessibility.series.descriptionFormatter\n *  accessibility.onTableAnchorClick -> accessibility.screenReaderSection.onViewDataTableClick\n *  accessibility.axisRangeDateFormat -> accessibility.screenReaderSection.axisRangeDateFormat\n *  accessibility.keyboardNavigation.skipNullPoints -> accessibility.keyboardNavigation.seriesNavigation.skipNullPoints\n *  accessibility.keyboardNavigation.mode -> accessibility.keyboardNavigation.seriesNavigation.mode\n *\n *  lang.accessibility.chartHeading -> no longer used, remove\n *  lang.accessibility.legendItem -> lang.accessibility.legend.legendItem\n *  lang.accessibility.legendLabel -> lang.accessibility.legend.legendLabel\n *  lang.accessibility.mapZoomIn -> lang.accessibility.zoom.mapZoomIn\n *  lang.accessibility.mapZoomOut -> lang.accessibility.zoom.mapZoomOut\n *  lang.accessibility.resetZoomButton -> lang.accessibility.zoom.resetZoomButton\n *  lang.accessibility.screenReaderRegionLabel -> lang.accessibility.screenReaderSection.beforeRegionLabel\n *  lang.accessibility.rangeSelectorButton -> lang.accessibility.rangeSelector.buttonText\n *  lang.accessibility.rangeSelectorMaxInput -> lang.accessibility.rangeSelector.maxInputLabel\n *  lang.accessibility.rangeSelectorMinInput -> lang.accessibility.rangeSelector.minInputLabel\n *  lang.accessibility.svgContainerEnd -> lang.accessibility.screenReaderSection.endOfChartMarker\n *  lang.accessibility.viewAsDataTable -> lang.accessibility.table.viewAsDataTableButtonText\n *  lang.accessibility.tableSummary -> lang.accessibility.table.tableSummary\n *\n */\n/* eslint-enable max-len */\n'use strict';\nimport U from '../../Core/Utilities.js';\nvar error = U.error, pick = U.pick;\n/* *\n *\n *  Functions\n *\n * */\n/* eslint-disable valid-jsdoc */\n/**\n * Set a new option on a root prop, where the option is defined as an array of\n * suboptions.\n * @private\n * @param root\n * @param {Array<string>} optionAsArray\n * @param {*} val\n * @return {void}\n */\nfunction traverseSetOption(root, optionAsArray, val) {\n    var opt = root, prop, i = 0;\n    for (; i < optionAsArray.length - 1; ++i) {\n        prop = optionAsArray[i];\n        opt = opt[prop] = pick(opt[prop], {});\n    }\n    opt[optionAsArray[optionAsArray.length - 1]] = val;\n}\n/**\n * If we have a clear root option node for old and new options and a mapping\n * between, we can use this generic function for the copy and warn logic.\n */\nfunction deprecateFromOptionsMap(chart, rootOldAsArray, rootNewAsArray, mapToNewOptions) {\n    /**\n     * @private\n     */\n    function getChildProp(root, propAsArray) {\n        return propAsArray.reduce(function (acc, cur) {\n            return acc[cur];\n        }, root);\n    }\n    var rootOld = getChildProp(chart.options, rootOldAsArray), rootNew = getChildProp(chart.options, rootNewAsArray);\n    Object.keys(mapToNewOptions).forEach(function (oldOptionKey) {\n        var _a;\n        var val = rootOld[oldOptionKey];\n        if (typeof val !== 'undefined') {\n            traverseSetOption(rootNew, mapToNewOptions[oldOptionKey], val);\n            error(32, false, chart, (_a = {},\n                _a[rootOldAsArray.join('.') + '.' + oldOptionKey] = (rootNewAsArray.join('.') + '.' +\n                    mapToNewOptions[oldOptionKey].join('.')),\n                _a));\n        }\n    });\n}\n/**\n * @private\n */\nfunction copyDeprecatedChartOptions(chart) {\n    var chartOptions = chart.options.chart, a11yOptions = chart.options.accessibility || {};\n    ['description', 'typeDescription'].forEach(function (prop) {\n        var _a;\n        if (chartOptions[prop]) {\n            a11yOptions[prop] = chartOptions[prop];\n            error(32, false, chart, (_a = {}, _a[\"chart.\".concat(prop)] = \"use accessibility.\".concat(prop), _a));\n        }\n    });\n}\n/**\n * @private\n */\nfunction copyDeprecatedAxisOptions(chart) {\n    chart.axes.forEach(function (axis) {\n        var opts = axis.options;\n        if (opts && opts.description) {\n            opts.accessibility = opts.accessibility || {};\n            opts.accessibility.description = opts.description;\n            error(32, false, chart, {\n                'axis.description': 'use axis.accessibility.description'\n            });\n        }\n    });\n}\n/**\n * @private\n */\nfunction copyDeprecatedSeriesOptions(chart) {\n    // Map of deprecated series options. New options are defined as\n    // arrays of paths under series.options.\n    var oldToNewSeriesOptions = {\n        description: ['accessibility', 'description'],\n        exposeElementToA11y: ['accessibility', 'exposeAsGroupOnly'],\n        pointDescriptionFormatter: [\n            'accessibility', 'point', 'descriptionFormatter'\n        ],\n        skipKeyboardNavigation: [\n            'accessibility', 'keyboardNavigation', 'enabled'\n        ],\n        'accessibility.pointDescriptionFormatter': [\n            'accessibility', 'point', 'descriptionFormatter'\n        ]\n    };\n    chart.series.forEach(function (series) {\n        // Handle series wide options\n        Object.keys(oldToNewSeriesOptions).forEach(function (oldOption) {\n            var _a;\n            var optionVal = series.options[oldOption];\n            // Special case\n            if (oldOption === 'accessibility.pointDescriptionFormatter') {\n                optionVal = (series.options.accessibility &&\n                    series.options.accessibility\n                        .pointDescriptionFormatter);\n            }\n            if (typeof optionVal !== 'undefined') {\n                // Set the new option\n                traverseSetOption(series.options, oldToNewSeriesOptions[oldOption], \n                // Note that skipKeyboardNavigation has inverted option\n                // value, since we set enabled rather than disabled\n                oldOption === 'skipKeyboardNavigation' ?\n                    !optionVal : optionVal);\n                error(32, false, chart, (_a = {},\n                    _a[\"series.\".concat(oldOption)] = ('series.' +\n                        oldToNewSeriesOptions[oldOption].join('.')),\n                    _a));\n            }\n        });\n    });\n}\n/**\n * @private\n */\nfunction copyDeprecatedTopLevelAccessibilityOptions(chart) {\n    deprecateFromOptionsMap(chart, ['accessibility'], ['accessibility'], {\n        pointDateFormat: ['point', 'dateFormat'],\n        pointDateFormatter: ['point', 'dateFormatter'],\n        pointDescriptionFormatter: ['point', 'descriptionFormatter'],\n        pointDescriptionThreshold: ['series',\n            'pointDescriptionEnabledThreshold'],\n        pointNavigationThreshold: ['keyboardNavigation', 'seriesNavigation',\n            'pointNavigationEnabledThreshold'],\n        pointValueDecimals: ['point', 'valueDecimals'],\n        pointValuePrefix: ['point', 'valuePrefix'],\n        pointValueSuffix: ['point', 'valueSuffix'],\n        screenReaderSectionFormatter: ['screenReaderSection',\n            'beforeChartFormatter'],\n        describeSingleSeries: ['series', 'describeSingleSeries'],\n        seriesDescriptionFormatter: ['series', 'descriptionFormatter'],\n        onTableAnchorClick: ['screenReaderSection', 'onViewDataTableClick'],\n        axisRangeDateFormat: ['screenReaderSection', 'axisRangeDateFormat']\n    });\n}\n/**\n * @private\n */\nfunction copyDeprecatedKeyboardNavigationOptions(chart) {\n    deprecateFromOptionsMap(chart, ['accessibility', 'keyboardNavigation'], ['accessibility', 'keyboardNavigation', 'seriesNavigation'], {\n        skipNullPoints: ['skipNullPoints'],\n        mode: ['mode']\n    });\n}\n/**\n * @private\n */\nfunction copyDeprecatedLangOptions(chart) {\n    deprecateFromOptionsMap(chart, ['lang', 'accessibility'], ['lang', 'accessibility'], {\n        legendItem: ['legend', 'legendItem'],\n        legendLabel: ['legend', 'legendLabel'],\n        mapZoomIn: ['zoom', 'mapZoomIn'],\n        mapZoomOut: ['zoom', 'mapZoomOut'],\n        resetZoomButton: ['zoom', 'resetZoomButton'],\n        screenReaderRegionLabel: ['screenReaderSection',\n            'beforeRegionLabel'],\n        rangeSelectorButton: ['rangeSelector', 'buttonText'],\n        rangeSelectorMaxInput: ['rangeSelector', 'maxInputLabel'],\n        rangeSelectorMinInput: ['rangeSelector', 'minInputLabel'],\n        svgContainerEnd: ['screenReaderSection', 'endOfChartMarker'],\n        viewAsDataTable: ['table', 'viewAsDataTableButtonText'],\n        tableSummary: ['table', 'tableSummary']\n    });\n}\n/**\n * Copy options that are deprecated over to new options. Logs warnings to\n * console if deprecated options are used.\n *\n * @private\n */\nfunction copyDeprecatedOptions(chart) {\n    copyDeprecatedChartOptions(chart);\n    copyDeprecatedAxisOptions(chart);\n    if (chart.series) {\n        copyDeprecatedSeriesOptions(chart);\n    }\n    copyDeprecatedTopLevelAccessibilityOptions(chart);\n    copyDeprecatedKeyboardNavigationOptions(chart);\n    copyDeprecatedLangOptions(chart);\n}\n/* *\n *\n *  Default Export\n *\n * */\nexport default copyDeprecatedOptions;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Accessibility module for Highcharts\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\nimport D from '../Core/Defaults.js';\nvar defaultOptions = D.defaultOptions;\nimport H from '../Core/Globals.js';\nvar doc = H.doc;\nimport U from '../Core/Utilities.js';\nvar addEvent = U.addEvent, extend = U.extend, fireEvent = U.fireEvent, merge = U.merge;\nimport HU from './Utils/HTMLUtilities.js';\nvar removeElement = HU.removeElement;\nimport A11yI18n from './A11yI18n.js';\nimport ContainerComponent from './Components/ContainerComponent.js';\nimport FocusBorder from './FocusBorder.js';\nimport InfoRegionsComponent from './Components/InfoRegionsComponent.js';\nimport KeyboardNavigation from './KeyboardNavigation.js';\nimport LegendComponent from './Components/LegendComponent.js';\nimport MenuComponent from './Components/MenuComponent.js';\nimport NewDataAnnouncer from './Components/SeriesComponent/NewDataAnnouncer.js';\nimport ProxyProvider from './ProxyProvider.js';\nimport RangeSelectorComponent from './Components/RangeSelectorComponent.js';\nimport SeriesComponent from './Components/SeriesComponent/SeriesComponent.js';\nimport ZoomComponent from './Components/ZoomComponent.js';\nimport whcm from './HighContrastMode.js';\nimport highContrastTheme from './HighContrastTheme.js';\nimport defaultOptionsA11Y from './Options/A11yDefaults.js';\nimport defaultLangOptions from './Options/LangDefaults.js';\nimport copyDeprecatedOptions from './Options/DeprecatedOptions.js';\n/* *\n *\n *  Class\n *\n * */\n/**\n * The Accessibility class\n *\n * @private\n * @requires module:modules/accessibility\n *\n * @class\n * @name Highcharts.Accessibility\n *\n * @param {Highcharts.Chart} chart\n * Chart object\n */\nvar Accessibility = /** @class */ (function () {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    function Accessibility(chart) {\n        /* *\n         *\n         *  Properties\n         *\n         * */\n        this.chart = void 0;\n        this.components = void 0;\n        this.keyboardNavigation = void 0;\n        this.proxyProvider = void 0;\n        this.init(chart);\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * Initialize the accessibility class\n     * @private\n     * @param {Highcharts.Chart} chart\n     *        Chart object\n     */\n    Accessibility.prototype.init = function (chart) {\n        this.chart = chart;\n        // Abort on old browsers\n        if (!doc.addEventListener || !chart.renderer.isSVG) {\n            this.zombie = true;\n            this.components = {};\n            chart.renderTo.setAttribute('aria-hidden', true);\n            return;\n        }\n        // Copy over any deprecated options that are used. We could do this on\n        // every update, but it is probably not needed.\n        copyDeprecatedOptions(chart);\n        this.proxyProvider = new ProxyProvider(this.chart);\n        this.initComponents();\n        this.keyboardNavigation = new KeyboardNavigation(chart, this.components);\n    };\n    /**\n     * @private\n     */\n    Accessibility.prototype.initComponents = function () {\n        var chart = this.chart;\n        var proxyProvider = this.proxyProvider;\n        var a11yOptions = chart.options.accessibility;\n        this.components = {\n            container: new ContainerComponent(),\n            infoRegions: new InfoRegionsComponent(),\n            legend: new LegendComponent(),\n            chartMenu: new MenuComponent(),\n            rangeSelector: new RangeSelectorComponent(),\n            series: new SeriesComponent(),\n            zoom: new ZoomComponent()\n        };\n        if (a11yOptions.customComponents) {\n            extend(this.components, a11yOptions.customComponents);\n        }\n        var components = this.components;\n        this.getComponentOrder().forEach(function (componentName) {\n            components[componentName].initBase(chart, proxyProvider);\n            components[componentName].init();\n        });\n    };\n    /**\n     * Get order to update components in.\n     * @private\n     */\n    Accessibility.prototype.getComponentOrder = function () {\n        if (!this.components) {\n            return []; // For zombie accessibility object on old browsers\n        }\n        if (!this.components.series) {\n            return Object.keys(this.components);\n        }\n        var componentsExceptSeries = Object.keys(this.components)\n            .filter(function (c) { return c !== 'series'; });\n        // Update series first, so that other components can read accessibility\n        // info on points.\n        return ['series'].concat(componentsExceptSeries);\n    };\n    /**\n     * Update all components.\n     */\n    Accessibility.prototype.update = function () {\n        var components = this.components, chart = this.chart, a11yOptions = chart.options.accessibility;\n        fireEvent(chart, 'beforeA11yUpdate');\n        // Update the chart type list as this is used by multiple modules\n        chart.types = this.getChartTypes();\n        // Update proxies. We don't update proxy positions since most likely we\n        // need to recreate the proxies on update.\n        var kbdNavOrder = a11yOptions.keyboardNavigation.order;\n        this.proxyProvider.updateGroupOrder(kbdNavOrder);\n        // Update markup\n        this.getComponentOrder().forEach(function (componentName) {\n            components[componentName].onChartUpdate();\n            fireEvent(chart, 'afterA11yComponentUpdate', {\n                name: componentName,\n                component: components[componentName]\n            });\n        });\n        // Update keyboard navigation\n        this.keyboardNavigation.update(kbdNavOrder);\n        // Handle high contrast mode\n        if (!chart.highContrastModeActive && // Only do this once\n            whcm.isHighContrastModeActive()) {\n            whcm.setHighContrastTheme(chart);\n        }\n        fireEvent(chart, 'afterA11yUpdate', {\n            accessibility: this\n        });\n    };\n    /**\n     * Destroy all elements.\n     */\n    Accessibility.prototype.destroy = function () {\n        var chart = this.chart || {};\n        // Destroy components\n        var components = this.components;\n        Object.keys(components).forEach(function (componentName) {\n            components[componentName].destroy();\n            components[componentName].destroyBase();\n        });\n        // Destroy proxy provider\n        if (this.proxyProvider) {\n            this.proxyProvider.destroy();\n        }\n        // Remove announcer container\n        if (chart.announcerContainer) {\n            removeElement(chart.announcerContainer);\n        }\n        // Kill keyboard nav\n        if (this.keyboardNavigation) {\n            this.keyboardNavigation.destroy();\n        }\n        // Hide container from screen readers if it exists\n        if (chart.renderTo) {\n            chart.renderTo.setAttribute('aria-hidden', true);\n        }\n        // Remove focus border if it exists\n        if (chart.focusElement) {\n            chart.focusElement.removeFocusBorder();\n        }\n    };\n    /**\n     * Return a list of the types of series we have in the chart.\n     * @private\n     */\n    Accessibility.prototype.getChartTypes = function () {\n        var types = {};\n        this.chart.series.forEach(function (series) {\n            types[series.type] = 1;\n        });\n        return Object.keys(types);\n    };\n    return Accessibility;\n}());\n/* *\n *\n *  Class Namespace\n *\n * */\n(function (Accessibility) {\n    /* *\n     *\n     *  Declarations\n     *\n     * */\n    /* *\n     *\n     *  Constants\n     *\n     * */\n    var composedClasses = [];\n    Accessibility.i18nFormat = A11yI18n.i18nFormat;\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * Destroy with chart.\n     * @private\n     */\n    function chartOnDestroy() {\n        if (this.accessibility) {\n            this.accessibility.destroy();\n        }\n    }\n    /**\n     * Handle updates to the module and send render updates to components.\n     * @private\n     */\n    function chartOnRender() {\n        // Update/destroy\n        if (this.a11yDirty && this.renderTo) {\n            delete this.a11yDirty;\n            this.updateA11yEnabled();\n        }\n        var a11y = this.accessibility;\n        if (a11y && !a11y.zombie) {\n            a11y.proxyProvider.updateProxyElementPositions();\n            a11y.getComponentOrder().forEach(function (componentName) {\n                a11y.components[componentName].onChartRender();\n            });\n        }\n    }\n    /**\n     * Update with chart/series/point updates.\n     * @private\n     */\n    function chartOnUpdate(e) {\n        // Merge new options\n        var newOptions = e.options.accessibility;\n        if (newOptions) {\n            // Handle custom component updating specifically\n            if (newOptions.customComponents) {\n                this.options.accessibility.customComponents =\n                    newOptions.customComponents;\n                delete newOptions.customComponents;\n            }\n            merge(true, this.options.accessibility, newOptions);\n            // Recreate from scratch\n            if (this.accessibility && this.accessibility.destroy) {\n                this.accessibility.destroy();\n                delete this.accessibility;\n            }\n        }\n        // Mark dirty for update\n        this.a11yDirty = true;\n    }\n    /**\n     * @private\n     */\n    function chartUpdateA11yEnabled() {\n        var a11y = this.accessibility;\n        var accessibilityOptions = this.options.accessibility;\n        if (accessibilityOptions && accessibilityOptions.enabled) {\n            if (a11y && !a11y.zombie) {\n                a11y.update();\n            }\n            else {\n                this.accessibility = a11y = new Accessibility(this);\n                if (a11y && !a11y.zombie) {\n                    a11y.update();\n                }\n            }\n        }\n        else if (a11y) {\n            // Destroy if after update we have a11y and it is disabled\n            if (a11y.destroy) {\n                a11y.destroy();\n            }\n            delete this.accessibility;\n        }\n        else {\n            // Just hide container\n            this.renderTo.setAttribute('aria-hidden', true);\n        }\n    }\n    /**\n     * @private\n     */\n    function compose(ChartClass, LegendClass, PointClass, SeriesClass, SVGElementClass, RangeSelectorClass) {\n        // ordered:\n        KeyboardNavigation.compose(ChartClass);\n        NewDataAnnouncer.compose(SeriesClass);\n        LegendComponent.compose(ChartClass, LegendClass);\n        MenuComponent.compose(ChartClass);\n        SeriesComponent.compose(ChartClass, PointClass, SeriesClass);\n        // RangeSelector\n        A11yI18n.compose(ChartClass);\n        FocusBorder.compose(ChartClass, SVGElementClass);\n        if (RangeSelectorClass) {\n            RangeSelectorComponent.compose(ChartClass, RangeSelectorClass);\n        }\n        if (composedClasses.indexOf(ChartClass) === -1) {\n            composedClasses.push(ChartClass);\n            var chartProto = ChartClass.prototype;\n            chartProto.updateA11yEnabled = chartUpdateA11yEnabled;\n            addEvent(ChartClass, 'destroy', chartOnDestroy);\n            addEvent(ChartClass, 'render', chartOnRender);\n            addEvent(ChartClass, 'update', chartOnUpdate);\n            // Mark dirty for update\n            ['addSeries', 'init'].forEach(function (event) {\n                addEvent(ChartClass, event, function () {\n                    this.a11yDirty = true;\n                });\n            });\n            // Direct updates (events happen after render)\n            ['afterApplyDrilldown', 'drillupall'].forEach(function (event) {\n                addEvent(ChartClass, event, function chartOnAfterDrilldown() {\n                    var a11y = this.accessibility;\n                    if (a11y && !a11y.zombie) {\n                        a11y.update();\n                    }\n                });\n            });\n        }\n        if (composedClasses.indexOf(PointClass) === -1) {\n            composedClasses.push(PointClass);\n            addEvent(PointClass, 'update', pointOnUpdate);\n        }\n        if (composedClasses.indexOf(SeriesClass) === -1) {\n            composedClasses.push(SeriesClass);\n            // Mark dirty for update\n            ['update', 'updatedData', 'remove'].forEach(function (event) {\n                addEvent(SeriesClass, event, function () {\n                    if (this.chart.accessibility) {\n                        this.chart.a11yDirty = true;\n                    }\n                });\n            });\n        }\n    }\n    Accessibility.compose = compose;\n    /**\n     * Mark dirty for update.\n     * @private\n     */\n    function pointOnUpdate() {\n        if (this.series.chart.accessibility) {\n            this.series.chart.a11yDirty = true;\n        }\n    }\n})(Accessibility || (Accessibility = {}));\n/* *\n *\n *  Registry\n *\n * */\n// Add default options\nmerge(true, defaultOptions, defaultOptionsA11Y, {\n    accessibility: {\n        highContrastTheme: highContrastTheme\n    },\n    lang: defaultLangOptions\n});\n/* *\n *\n *  Default Export\n *\n * */\nexport default Accessibility;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Default options for accessibility.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\n/* *\n *\n *  API Options\n *\n * */\n/**\n * Formatter callback for the accessibility announcement.\n *\n * @callback Highcharts.AccessibilityAnnouncementFormatter\n *\n * @param {Array<Highcharts.Series>} updatedSeries\n * Array of all series that received updates. If an announcement is already\n * queued, the series that received updates for that announcement are also\n * included in this array.\n *\n * @param {Highcharts.Series} [addedSeries]\n * This is provided if {@link Highcharts.Chart#addSeries} was called, and there\n * is a new series. In that case, this argument is a reference to the new\n * series.\n *\n * @param {Highcharts.Point} [addedPoint]\n * This is provided if {@link Highcharts.Series#addPoint} was called, and there\n * is a new point. In that case, this argument is a reference to the new point.\n *\n * @return {false|string}\n * The function should return a string with the text to announce to the user.\n * Return empty string to not announce anything. Return `false` to use the\n * default announcement format.\n */\n/**\n * @interface Highcharts.PointAccessibilityOptionsObject\n */ /**\n* Provide a description of the data point, announced to screen readers.\n* @name Highcharts.PointAccessibilityOptionsObject#description\n* @type {string|undefined}\n* @requires modules/accessibility\n* @since 7.1.0\n*/ /**\n* Enable or disable exposing the point to assistive technology\n* @name Highcharts.PointAccessibilityOptionsObject#enabled\n* @type {boolean|undefined}\n* @requires modules/accessibility\n* @since 9.0.1\n*/\n/* *\n * @interface Highcharts.PointOptionsObject in parts/Point.ts\n */ /**\n* @name Highcharts.PointOptionsObject#accessibility\n* @type {Highcharts.PointAccessibilityOptionsObject|undefined}\n* @requires modules/accessibility\n* @since 7.1.0\n*/\n/**\n * @callback Highcharts.ScreenReaderClickCallbackFunction\n *\n * @param {global.MouseEvent} evt\n *        Mouse click event\n *\n * @return {void}\n */\n/**\n * Creates a formatted string for the screen reader module.\n *\n * @callback Highcharts.ScreenReaderFormatterCallbackFunction<T>\n *\n * @param {T} context\n *        Context to format\n *\n * @return {string}\n *         Formatted string for the screen reader module.\n */\nvar Options = {\n    /**\n     * Options for configuring accessibility for the chart. Requires the\n     * [accessibility module](https://code.highcharts.com/modules/accessibility.js)\n     * to be loaded. For a description of the module and information\n     * on its features, see\n     * [Highcharts Accessibility](https://www.highcharts.com/docs/accessibility/accessibility-module).\n     *\n     * @since        5.0.0\n     * @requires     modules/accessibility\n     * @optionparent accessibility\n     */\n    accessibility: {\n        /**\n         * Enable accessibility functionality for the chart. For more\n         * information on how to include these features, and why this is\n         * recommended, see [Highcharts Accessibility](https://www.highcharts.com/docs/accessibility/accessibility-module).\n         *\n         * Highcharts will by default emit a warning to the console if\n         * the [accessibility module](https://code.highcharts.com/modules/accessibility.js)\n         * is not loaded. Setting this option to `false` will override\n         * and silence the warning.\n         *\n         * Once the module is loaded, setting this option to `false`\n         * will disable the module for this chart.\n         *\n         * @since 5.0.0\n         */\n        enabled: true,\n        /**\n         * Accessibility options for the screen reader information sections\n         * added before and after the chart.\n         *\n         * @since 8.0.0\n         */\n        screenReaderSection: {\n            /**\n             * Function to run upon clicking the \"View as Data Table\" link in\n             * the screen reader region.\n             *\n             * By default Highcharts will insert and set focus to a data table\n             * representation of the chart.\n             *\n             * @type      {Highcharts.ScreenReaderClickCallbackFunction}\n             * @since 8.0.0\n             * @apioption accessibility.screenReaderSection.onViewDataTableClick\n             */\n            /**\n             * Function to run upon clicking the \"Play as sound\" button in\n             * the screen reader region.\n             *\n             * By default Highcharts will call the `chart.sonify` function.\n             *\n             * @type      {Highcharts.ScreenReaderClickCallbackFunction}\n             * @since 8.0.1\n             * @apioption accessibility.screenReaderSection.onPlayAsSoundClick\n             */\n            /**\n             * A formatter function to create the HTML contents of the hidden\n             * screen reader information region before the chart. Receives one\n             * argument, `chart`, referring to the chart object. Should return a\n             * string with the HTML content of the region. By default this\n             * returns an automatic description of the chart based on\n             * [beforeChartFormat](#accessibility.screenReaderSection.beforeChartFormat).\n             *\n             * @type      {Highcharts.ScreenReaderFormatterCallbackFunction<Highcharts.Chart>}\n             * @since 8.0.0\n             * @apioption accessibility.screenReaderSection.beforeChartFormatter\n             */\n            /**\n             * Format for the screen reader information region before the chart.\n             * Supported HTML tags are `<h1-6>`, `<p>`, `<div>`, `<a>`, `<ul>`,\n             * `<ol>`, `<li>`, and `<button>`. Attributes are not supported,\n             * except for id on `<div>`, `<a>`, and `<button>`. Id is required\n             * on `<a>` and `<button>` in the format `<tag id=\"abcd\">`. Numbers,\n             * lower- and uppercase letters, \"-\" and \"#\" are valid characters in\n             * IDs.\n             *\n             * The headingTagName is an auto-detected heading (h1-h6) that\n             * corresponds to the heading level below the previous heading in\n             * the DOM.\n             *\n             * Set to empty string to remove the region altogether.\n             *\n             * @since 8.0.0\n             */\n            beforeChartFormat: '<{headingTagName}>{chartTitle}</{headingTagName}>' +\n                '<div>{typeDescription}</div>' +\n                '<div>{chartSubtitle}</div>' +\n                '<div>{chartLongdesc}</div>' +\n                '<div>{playAsSoundButton}</div>' +\n                '<div>{viewTableButton}</div>' +\n                '<div>{xAxisDescription}</div>' +\n                '<div>{yAxisDescription}</div>' +\n                '<div>{annotationsTitle}{annotationsList}</div>',\n            /**\n             * A formatter function to create the HTML contents of the hidden\n             * screen reader information region after the chart. Analogous to\n             * [beforeChartFormatter](#accessibility.screenReaderSection.beforeChartFormatter).\n             *\n             * @type      {Highcharts.ScreenReaderFormatterCallbackFunction<Highcharts.Chart>}\n             * @since 8.0.0\n             * @apioption accessibility.screenReaderSection.afterChartFormatter\n             */\n            /**\n             * Format for the screen reader information region after the chart.\n             * Analogous to [beforeChartFormat](#accessibility.screenReaderSection.beforeChartFormat).\n             *\n             * @since 8.0.0\n             */\n            afterChartFormat: '{endOfChartMarker}',\n            /**\n             * Date format to use to describe range of datetime axes.\n             *\n             * For an overview of the replacement codes, see\n             * [dateFormat](/class-reference/Highcharts.Time#dateFormat).\n             *\n             * @see [point.dateFormat](#accessibility.point.dateFormat)\n             *\n             * @since 8.0.0\n             */\n            axisRangeDateFormat: '%Y-%m-%d %H:%M:%S'\n        },\n        /**\n         * Accessibility options global to all data series. Individual series\n         * can also have specific [accessibility options](#plotOptions.series.accessibility)\n         * set.\n         *\n         * @since 8.0.0\n         */\n        series: {\n            /**\n             * Formatter function to use instead of the default for series\n             * descriptions. Receives one argument, `series`, referring to the\n             * series to describe. Should return a string with the description\n             * of the series for a screen reader user. If `false` is returned,\n             * the default formatter will be used for that series.\n             *\n             * @see [series.descriptionFormat](#accessibility.series.descriptionFormat)\n             * @see [series.description](#plotOptions.series.description)\n             *\n             * @type      {Highcharts.ScreenReaderFormatterCallbackFunction<Highcharts.Series>}\n             * @since 8.0.0\n             * @apioption accessibility.series.descriptionFormatter\n             */\n            /**\n             * Format to use for describing the data series group to assistive\n             * technology - including screen readers.\n             *\n             * The series context and its subproperties are available under the\n             * variable `{series}`, for example `{series.name}` for the series\n             * name, and `{series.points.length}` for the number of data points.\n             *\n             * The chart context and its subproperties are available under the\n             * variable `{chart}`, for example `{chart.series.length}` for the\n             * number of series in the chart.\n             *\n             * `{seriesDescription}` refers to the automatic description of the\n             * series type and number of points added by Highcharts by default.\n             * `{authorDescription}` refers to the description added in\n             * [series.description](#plotOptions.series.description) if one is\n             * present. `{axisDescription}` refers to the description added if\n             * the chart has multiple X or Y axes.\n             *\n             * Note that if [series.descriptionFormatter](#accessibility.series.descriptionFormatter)\n             * is declared it will take precedence, and this option will be\n             * overridden.\n             *\n             * @sample highcharts/accessibility/advanced-accessible\n             *  Accessible low-medium-high chart\n             *\n             * @type      {string}\n             * @since 10.1.0\n             */\n            descriptionFormat: '{seriesDescription}{authorDescription}{axisDescription}',\n            /**\n             * Whether or not to add series descriptions to charts with a single\n             * series.\n             *\n             * @since 8.0.0\n             */\n            describeSingleSeries: false,\n            /**\n             * When a series contains more points than this, we no longer expose\n             * information about individual points to screen readers.\n             *\n             * Set to `false` to disable.\n             *\n             * @type  {boolean|number}\n             * @since 8.0.0\n             */\n            pointDescriptionEnabledThreshold: 200\n        },\n        /**\n         * Options for descriptions of individual data points.\n         *\n         * @since 8.0.0\n         */\n        point: {\n            /**\n             * Date format to use for points on datetime axes when describing\n             * them to screen reader users.\n             *\n             * Defaults to the same format as in tooltip.\n             *\n             * For an overview of the replacement codes, see\n             * [dateFormat](/class-reference/Highcharts.Time#dateFormat).\n             *\n             * @see [dateFormatter](#accessibility.point.dateFormatter)\n             *\n             * @type      {string}\n             * @since 8.0.0\n             * @apioption accessibility.point.dateFormat\n             */\n            /**\n             * Formatter function to determine the date/time format used with\n             * points on datetime axes when describing them to screen reader\n             * users. Receives one argument, `point`, referring to the point\n             * to describe. Should return a date format string compatible with\n             * [dateFormat](/class-reference/Highcharts.Time#dateFormat).\n             *\n             * @see [dateFormat](#accessibility.point.dateFormat)\n             *\n             * @type      {Highcharts.ScreenReaderFormatterCallbackFunction<Highcharts.Point>}\n             * @since 8.0.0\n             * @apioption accessibility.point.dateFormatter\n             */\n            /**\n             * Prefix to add to the values in the point descriptions. Uses\n             * [tooltip.valuePrefix](#tooltip.valuePrefix) if not defined.\n             *\n             * @type        {string}\n             * @since 8.0.0\n             * @apioption   accessibility.point.valuePrefix\n             */\n            /**\n             * Suffix to add to the values in the point descriptions. Uses\n             * [tooltip.valueSuffix](#tooltip.valueSuffix) if not defined.\n             *\n             * @type        {string}\n             * @since 8.0.0\n             * @apioption   accessibility.point.valueSuffix\n             */\n            /**\n             * Decimals to use for the values in the point descriptions. Uses\n             * [tooltip.valueDecimals](#tooltip.valueDecimals) if not defined.\n             *\n             * @type        {number}\n             * @since 8.0.0\n             * @apioption   accessibility.point.valueDecimals\n             */\n            /**\n             * Formatter function to use instead of the default for point\n             * descriptions.\n             *\n             * Receives one argument, `point`, referring to the point to\n             * describe. Should return a string with the description of the\n             * point for a screen reader user. If `false` is returned, the\n             * default formatter will be used for that point.\n             *\n             * Note: Prefer using [accessibility.point.valueDescriptionFormat](#accessibility.point.valueDescriptionFormat)\n             * instead if possible, as default functionality such as describing\n             * annotations will be preserved.\n             *\n             * @see [accessibility.point.valueDescriptionFormat](#accessibility.point.valueDescriptionFormat)\n             * @see [point.accessibility.description](#series.line.data.accessibility.description)\n             *\n             * @type      {Highcharts.ScreenReaderFormatterCallbackFunction<Highcharts.Point>}\n             * @since 8.0.0\n             * @apioption accessibility.point.descriptionFormatter\n             */\n            /**\n             * Format to use for describing the values of data points\n             * to assistive technology - including screen readers.\n             * The point context is available as `{point}`.\n             *\n             * Other available context variables include `{index}`, `{value}`, and `{xDescription}`.\n             *\n             * Additionally, the series name, annotation info, and\n             * description added in `point.accessibility.description`\n             * is added by default if relevant. To override this, use the\n             * [accessibility.point.descriptionFormatter](#accessibility.point.descriptionFormatter)\n             * option.\n             *\n             * @see [point.accessibility.description](#series.line.data.accessibility.description)\n             * @see [accessibility.point.descriptionFormatter](#accessibility.point.descriptionFormatter)\n             *\n             * @type      {string}\n             * @since 8.0.1\n             */\n            valueDescriptionFormat: '{xDescription}{separator}{value}.',\n            /**\n             * Whether or not to describe points with the value `null` to\n             * assistive technology, such as screen readers.\n             *\n             * @sample {highmaps} maps/demo/all-areas-as-null\n             *         Accessible map with null points\n             *\n             * @type      {boolean}\n             * @since 10.1.0\n             */\n            describeNull: true\n        },\n        /**\n         * Amount of landmarks/regions to create for screen reader users. More\n         * landmarks can make navigation with screen readers easier, but can\n         * be distracting if there are lots of charts on the page. Three modes\n         * are available:\n         *  - `all`: Adds regions for all series, legend, information\n         *      region.\n         *  - `one`: Adds a single landmark per chart.\n         *  - `disabled`: No landmarks are added.\n         *\n         * @since 7.1.0\n         * @validvalue [\"all\", \"one\", \"disabled\"]\n         */\n        landmarkVerbosity: 'all',\n        /**\n         * Link the chart to an HTML element describing the contents of the\n         * chart.\n         *\n         * It is always recommended to describe charts using visible text, to\n         * improve SEO as well as accessibility for users with disabilities.\n         * This option lets an HTML element with a description be linked to the\n         * chart, so that screen reader users can connect the two.\n         *\n         * By setting this option to a string, Highcharts runs the string as an\n         * HTML selector query on the entire document. If there is only a single\n         * match, this element is linked to the chart. The content of the linked\n         * element will be included in the chart description for screen reader\n         * users.\n         *\n         * By default, the chart looks for an adjacent sibling element with the\n         * `highcharts-description` class.\n         *\n         * The feature can be disabled by setting the option to an empty string,\n         * or overridden by providing the\n         * [accessibility.description](#accessibility.description) option.\n         * Alternatively, the HTML element to link can be passed in directly as\n         * an HTML node.\n         *\n         * If you need the description to be part of the exported image,\n         * consider using the [caption](#caption) feature.\n         *\n         * If you need the description to be hidden visually, use the\n         * [accessibility.description](#accessibility.description) option.\n         *\n         * @see [caption](#caption)\n         * @see [description](#accessibility.description)\n         * @see [typeDescription](#accessibility.typeDescription)\n         *\n         * @sample highcharts/accessibility/accessible-line\n         *         Accessible line chart\n         *\n         * @type  {string|Highcharts.HTMLDOMElement}\n         * @since 8.0.0\n         */\n        linkedDescription: '*[data-highcharts-chart=\"{index}\"] + .highcharts-description',\n        /**\n         * A hook for adding custom components to the accessibility module.\n         * Should be an object mapping component names to instances of classes\n         * inheriting from the Highcharts.AccessibilityComponent base class.\n         * Remember to add the component to the\n         * [keyboardNavigation.order](#accessibility.keyboardNavigation.order)\n         * for the keyboard navigation to be usable.\n         *\n         * @sample highcharts/accessibility/custom-component\n         *         Custom accessibility component\n         *\n         * @type      {*}\n         * @since     7.1.0\n         * @apioption accessibility.customComponents\n         */\n        /**\n         * Theme to apply to the chart when Windows High Contrast Mode is\n         * detected. By default, a high contrast theme matching the high\n         * contrast system system colors is used.\n         *\n         * @type      {*}\n         * @since     7.1.3\n         * @apioption accessibility.highContrastTheme\n         */\n        /**\n         * A text description of the chart.\n         *\n         * **Note: Prefer using [linkedDescription](#accessibility.linkedDescription)\n         * or [caption](#caption.text) instead.**\n         *\n         * If the Accessibility module is loaded, this option is included by\n         * default as a long description of the chart in the hidden screen\n         * reader information region.\n         *\n         * Note: Since Highcharts now supports captions and linked descriptions,\n         * it is preferred to define the description using those methods, as a\n         * visible caption/description benefits all users. If the\n         * `accessibility.description` option is defined, the linked description\n         * is ignored, and the caption is hidden from screen reader users.\n         *\n         * @see [linkedDescription](#accessibility.linkedDescription)\n         * @see [caption](#caption)\n         * @see [typeDescription](#accessibility.typeDescription)\n         *\n         * @type      {string}\n         * @since     5.0.0\n         * @apioption accessibility.description\n         */\n        /**\n         * A text description of the chart type.\n         *\n         * If the Accessibility module is loaded, this will be included in the\n         * description of the chart in the screen reader information region.\n         *\n         * Highcharts will by default attempt to guess the chart type, but for\n         * more complex charts it is recommended to specify this property for\n         * clarity.\n         *\n         * @type      {string}\n         * @since     5.0.0\n         * @apioption accessibility.typeDescription\n         */\n        /**\n         * Options for keyboard navigation.\n         *\n         * @declare Highcharts.KeyboardNavigationOptionsObject\n         * @since   5.0.0\n         */\n        keyboardNavigation: {\n            /**\n             * Enable keyboard navigation for the chart.\n             *\n             * @since 5.0.0\n             */\n            enabled: true,\n            /**\n             * Options for the focus border drawn around elements while\n             * navigating through them.\n             *\n             * @sample highcharts/accessibility/custom-focus\n             *         Custom focus ring\n             *\n             * @declare Highcharts.KeyboardNavigationFocusBorderOptionsObject\n             * @since   6.0.3\n             */\n            focusBorder: {\n                /**\n                 * Enable/disable focus border for chart.\n                 *\n                 * @since 6.0.3\n                 */\n                enabled: true,\n                /**\n                 * Hide the browser's default focus indicator.\n                 *\n                 * @since 6.0.4\n                 */\n                hideBrowserFocusOutline: true,\n                /**\n                 * Style options for the focus border drawn around elements\n                 * while navigating through them. Note that some browsers in\n                 * addition draw their own borders for focused elements. These\n                 * automatic borders cannot be styled by Highcharts.\n                 *\n                 * In styled mode, the border is given the\n                 * `.highcharts-focus-border` class.\n                 *\n                 * @type    {Highcharts.CSSObject}\n                 * @since   6.0.3\n                 */\n                style: {\n                    /** @internal */\n                    color: \"#335cad\" /* Palette.highlightColor80 */,\n                    /** @internal */\n                    lineWidth: 2,\n                    /** @internal */\n                    borderRadius: 3\n                },\n                /**\n                 * Focus border margin around the elements.\n                 *\n                 * @since 6.0.3\n                 */\n                margin: 2\n            },\n            /**\n             * Order of tab navigation in the chart. Determines which elements\n             * are tabbed to first. Available elements are: `series`, `zoom`,\n             * `rangeSelector`, `chartMenu`, `legend` and `container`. In\n             * addition, any custom components can be added here. Adding\n             * `container` first in order will make the keyboard focus stop on\n             * the chart container first, requiring the user to tab again to\n             * enter the chart.\n             *\n             * @type  {Array<string>}\n             * @since 7.1.0\n             */\n            order: ['series', 'zoom', 'rangeSelector', 'legend', 'chartMenu'],\n            /**\n             * Whether or not to wrap around when reaching the end of arrow-key\n             * navigation for an element in the chart.\n             * @since 7.1.0\n             */\n            wrapAround: true,\n            /**\n             * Options for the keyboard navigation of data points and series.\n             *\n             * @declare Highcharts.KeyboardNavigationSeriesNavigationOptionsObject\n             * @since 8.0.0\n             */\n            seriesNavigation: {\n                /**\n                 * Set the keyboard navigation mode for the chart. Can be\n                 * \"normal\" or \"serialize\". In normal mode, left/right arrow\n                 * keys move between points in a series, while up/down arrow\n                 * keys move between series. Up/down navigation acts\n                 * intelligently to figure out which series makes sense to move\n                 * to from any given point.\n                 *\n                 * In \"serialize\" mode, points are instead navigated as a single\n                 * list. Left/right behaves as in \"normal\" mode. Up/down arrow\n                 * keys will behave like left/right. This can be useful for\n                 * unifying navigation behavior with/without screen readers\n                 * enabled.\n                 *\n                 * @type       {string}\n                 * @default    normal\n                 * @since 8.0.0\n                 * @validvalue [\"normal\", \"serialize\"]\n                 * @apioption  accessibility.keyboardNavigation.seriesNavigation.mode\n                 */\n                /**\n                 * Skip null points when navigating through points with the\n                 * keyboard.\n                 *\n                 * @since 8.0.0\n                 */\n                skipNullPoints: true,\n                /**\n                 * When a series contains more points than this, we no longer\n                 * allow keyboard navigation for it.\n                 *\n                 * Set to `false` to disable.\n                 *\n                 * @type  {boolean|number}\n                 * @since 8.0.0\n                 */\n                pointNavigationEnabledThreshold: false,\n                /**\n                 * Remember which point was focused even after navigating away\n                 * from the series, so that when navigating back to the series\n                 * you start at the last focused point.\n                 *\n                 * @type  {boolean}\n                 * @since 10.1.0\n                 */\n                rememberPointFocus: false\n            }\n        },\n        /**\n         * Options for announcing new data to screen reader users. Useful\n         * for dynamic data applications and drilldown.\n         *\n         * Keep in mind that frequent announcements will not be useful to\n         * users, as they won't have time to explore the new data. For these\n         * applications, consider making snapshots of the data accessible, and\n         * do the announcements in batches.\n         *\n         * @declare Highcharts.AccessibilityAnnounceNewDataOptionsObject\n         * @since   7.1.0\n         */\n        announceNewData: {\n            /**\n             * Optional formatter callback for the announcement. Receives\n             * up to three arguments. The first argument is always an array\n             * of all series that received updates. If an announcement is\n             * already queued, the series that received updates for that\n             * announcement are also included in this array. The second\n             * argument is provided if `chart.addSeries` was called, and\n             * there is a new series. In that case, this argument is a\n             * reference to the new series. The third argument, similarly,\n             * is provided if `series.addPoint` was called, and there is a\n             * new point. In that case, this argument is a reference to the\n             * new point.\n             *\n             * The function should return a string with the text to announce\n             * to the user. Return empty string to not announce anything.\n             * Return `false` to use the default announcement format.\n             *\n             * @sample highcharts/accessibility/custom-dynamic\n             *         High priority live alerts\n             *\n             * @type      {Highcharts.AccessibilityAnnouncementFormatter}\n             * @apioption accessibility.announceNewData.announcementFormatter\n             */\n            /**\n             * Enable announcing new data to screen reader users\n             * @sample highcharts/accessibility/accessible-dynamic\n             *         Dynamic data accessible\n             */\n            enabled: false,\n            /**\n             * Minimum interval between announcements in milliseconds. If\n             * new data arrives before this amount of time has passed, it is\n             * queued for announcement. If another new data event happens\n             * while an announcement is queued, the queued announcement is\n             * dropped, and the latest announcement is queued instead. Set\n             * to 0 to allow all announcements, but be warned that frequent\n             * announcements are disturbing to users.\n             */\n            minAnnounceInterval: 5000,\n            /**\n             * Choose whether or not the announcements should interrupt the\n             * screen reader. If not enabled, the user will be notified once\n             * idle. It is recommended not to enable this setting unless\n             * there is a specific reason to do so.\n             */\n            interruptUser: false\n        }\n    },\n    /**\n     * Accessibility options for a data point.\n     *\n     * @declare   Highcharts.PointAccessibilityOptionsObject\n     * @since     7.1.0\n     * @apioption series.line.data.accessibility\n     */\n    /**\n     * Provide a description of the data point, announced to screen readers.\n     *\n     * @type      {string}\n     * @since     7.1.0\n     * @apioption series.line.data.accessibility.description\n     */\n    /**\n     * Set to false to disable accessibility functionality for a specific point.\n     * The point will not be included in keyboard navigation, and will not be\n     * exposed to assistive technology.\n     *\n     * @type      {boolean}\n     * @since 9.0.1\n     * @apioption series.line.data.accessibility.enabled\n     */\n    /**\n     * Accessibility options for a series.\n     *\n     * @declare    Highcharts.SeriesAccessibilityOptionsObject\n     * @since      7.1.0\n     * @requires   modules/accessibility\n     * @apioption  plotOptions.series.accessibility\n     */\n    /**\n     * Enable/disable accessibility functionality for a specific series.\n     *\n     * @type       {boolean}\n     * @since      7.1.0\n     * @apioption  plotOptions.series.accessibility.enabled\n     */\n    /**\n     * Provide a description of the series, announced to screen readers.\n     *\n     * @type       {string}\n     * @since      7.1.0\n     * @apioption  plotOptions.series.accessibility.description\n     */\n    /**\n     * Expose only the series element to screen readers, not its points.\n     *\n     * @type       {boolean}\n     * @since      7.1.0\n     * @apioption  plotOptions.series.accessibility.exposeAsGroupOnly\n     */\n    /**\n     * Point accessibility options for a series.\n     *\n     * @extends    accessibility.point\n     * @since 9.3.0\n     * @requires   modules/accessibility\n     * @apioption  plotOptions.series.accessibility.point\n     */\n    /**\n     * Formatter function to use instead of the default for point\n     * descriptions. Same as `accessibility.point.descriptionFormatter`, but\n     * applies to a series instead of the whole chart.\n     *\n     * Note: Prefer using [accessibility.point.valueDescriptionFormat](#plotOptions.series.accessibility.point.valueDescriptionFormat)\n     * instead if possible, as default functionality such as describing\n     * annotations will be preserved.\n     *\n     * @see [accessibility.point.valueDescriptionFormat](#plotOptions.series.accessibility.point.valueDescriptionFormat)\n     * @see [point.accessibility.description](#series.line.data.accessibility.description)\n     * @see [accessibility.point.descriptionFormatter](#accessibility.point.descriptionFormatter)\n     *\n     * @type      {Highcharts.ScreenReaderFormatterCallbackFunction<Highcharts.Point>}\n     * @since 9.3.0\n     * @apioption plotOptions.series.accessibility.point.descriptionFormatter\n     */\n    /**\n     * Keyboard navigation for a series\n     *\n     * @declare    Highcharts.SeriesAccessibilityKeyboardNavigationOptionsObject\n     * @since      7.1.0\n     * @apioption  plotOptions.series.accessibility.keyboardNavigation\n     */\n    /**\n     * Enable/disable keyboard navigation support for a specific series.\n     *\n     * @type       {boolean}\n     * @since      7.1.0\n     * @apioption  plotOptions.series.accessibility.keyboardNavigation.enabled\n     */\n    /**\n     * Accessibility options for an annotation label.\n     *\n     * @declare    Highcharts.AnnotationLabelAccessibilityOptionsObject\n     * @since 8.0.1\n     * @requires   modules/accessibility\n     * @apioption  annotations.labelOptions.accessibility\n     */\n    /**\n     * Description of an annotation label for screen readers and other assistive\n     * technology.\n     *\n     * @type       {string}\n     * @since 8.0.1\n     * @apioption  annotations.labelOptions.accessibility.description\n     */\n    /**\n     * Accessibility options for an axis. Requires the accessibility module.\n     *\n     * @declare    Highcharts.AxisAccessibilityOptionsObject\n     * @since      7.1.0\n     * @requires   modules/accessibility\n     * @apioption  xAxis.accessibility\n     */\n    /**\n     * Enable axis accessibility features, including axis information in the\n     * screen reader information region. If this is disabled on the xAxis, the\n     * x values are not exposed to screen readers for the individual data points\n     * by default.\n     *\n     * @type       {boolean}\n     * @since      7.1.0\n     * @apioption  xAxis.accessibility.enabled\n     */\n    /**\n     * Description for an axis to expose to screen reader users.\n     *\n     * @type       {string}\n     * @since      7.1.0\n     * @apioption  xAxis.accessibility.description\n     */\n    /**\n     * Range description for an axis. Overrides the default range description.\n     * Set to empty to disable range description for this axis.\n     *\n     * @type       {string}\n     * @since      7.1.0\n     * @apioption  xAxis.accessibility.rangeDescription\n     */\n    /**\n     * @optionparent legend\n     */\n    legend: {\n        /**\n         * Accessibility options for the legend. Requires the Accessibility\n         * module.\n         *\n         * @since     7.1.0\n         * @requires  modules/accessibility\n         */\n        accessibility: {\n            /**\n             * Enable accessibility support for the legend.\n             *\n             * @since  7.1.0\n             */\n            enabled: true,\n            /**\n             * Options for keyboard navigation for the legend.\n             *\n             * @since     7.1.0\n             * @requires  modules/accessibility\n             */\n            keyboardNavigation: {\n                /**\n                 * Enable keyboard navigation for the legend.\n                 *\n                 * @see [accessibility.keyboardNavigation](#accessibility.keyboardNavigation.enabled)\n                 *\n                 * @since  7.1.0\n                 */\n                enabled: true\n            }\n        }\n    },\n    /**\n     * @optionparent exporting\n     */\n    exporting: {\n        /**\n         * Accessibility options for the exporting menu. Requires the\n         * Accessibility module.\n         *\n         * @since    7.1.0\n         * @requires modules/accessibility\n         */\n        accessibility: {\n            /**\n             * Enable accessibility support for the export menu.\n             *\n             * @since 7.1.0\n             */\n            enabled: true\n        }\n    }\n};\nexport default Options;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Default theme for Windows High Contrast Mode.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\n/* *\n *\n *  Theme\n *\n * */\nvar theme = {\n    chart: {\n        backgroundColor: 'window'\n    },\n    title: {\n        style: {\n            color: 'windowText'\n        }\n    },\n    subtitle: {\n        style: {\n            color: 'windowText'\n        }\n    },\n    colorAxis: {\n        minColor: 'windowText',\n        maxColor: 'windowText',\n        stops: []\n    },\n    colors: ['windowText'],\n    xAxis: {\n        gridLineColor: 'windowText',\n        labels: {\n            style: {\n                color: 'windowText'\n            }\n        },\n        lineColor: 'windowText',\n        minorGridLineColor: 'windowText',\n        tickColor: 'windowText',\n        title: {\n            style: {\n                color: 'windowText'\n            }\n        }\n    },\n    yAxis: {\n        gridLineColor: 'windowText',\n        labels: {\n            style: {\n                color: 'windowText'\n            }\n        },\n        lineColor: 'windowText',\n        minorGridLineColor: 'windowText',\n        tickColor: 'windowText',\n        title: {\n            style: {\n                color: 'windowText'\n            }\n        }\n    },\n    tooltip: {\n        backgroundColor: 'window',\n        borderColor: 'windowText',\n        style: {\n            color: 'windowText'\n        }\n    },\n    plotOptions: {\n        series: {\n            lineColor: 'windowText',\n            fillColor: 'window',\n            borderColor: 'windowText',\n            edgeColor: 'windowText',\n            borderWidth: 1,\n            dataLabels: {\n                connectorColor: 'windowText',\n                color: 'windowText',\n                style: {\n                    color: 'windowText',\n                    textOutline: 'none'\n                }\n            },\n            marker: {\n                lineColor: 'windowText',\n                fillColor: 'windowText'\n            }\n        },\n        pie: {\n            color: 'window',\n            colors: ['window'],\n            borderColor: 'windowText',\n            borderWidth: 1\n        },\n        boxplot: {\n            fillColor: 'window'\n        },\n        candlestick: {\n            lineColor: 'windowText',\n            fillColor: 'window'\n        },\n        errorbar: {\n            fillColor: 'window'\n        }\n    },\n    legend: {\n        backgroundColor: 'window',\n        itemStyle: {\n            color: 'windowText'\n        },\n        itemHoverStyle: {\n            color: 'windowText'\n        },\n        itemHiddenStyle: {\n            color: '#555'\n        },\n        title: {\n            style: {\n                color: 'windowText'\n            }\n        }\n    },\n    credits: {\n        style: {\n            color: 'windowText'\n        }\n    },\n    labels: {\n        style: {\n            color: 'windowText'\n        }\n    },\n    drilldown: {\n        activeAxisLabelStyle: {\n            color: 'windowText'\n        },\n        activeDataLabelStyle: {\n            color: 'windowText'\n        }\n    },\n    navigation: {\n        buttonOptions: {\n            symbolStroke: 'windowText',\n            theme: {\n                fill: 'window'\n            }\n        }\n    },\n    rangeSelector: {\n        buttonTheme: {\n            fill: 'window',\n            stroke: 'windowText',\n            style: {\n                color: 'windowText'\n            },\n            states: {\n                hover: {\n                    fill: 'window',\n                    stroke: 'windowText',\n                    style: {\n                        color: 'windowText'\n                    }\n                },\n                select: {\n                    fill: '#444',\n                    stroke: 'windowText',\n                    style: {\n                        color: 'windowText'\n                    }\n                }\n            }\n        },\n        inputBoxBorderColor: 'windowText',\n        inputStyle: {\n            backgroundColor: 'window',\n            color: 'windowText'\n        },\n        labelStyle: {\n            color: 'windowText'\n        }\n    },\n    navigator: {\n        handles: {\n            backgroundColor: 'window',\n            borderColor: 'windowText'\n        },\n        outlineColor: 'windowText',\n        maskFill: 'transparent',\n        series: {\n            color: 'windowText',\n            lineColor: 'windowText'\n        },\n        xAxis: {\n            gridLineColor: 'windowText'\n        }\n    },\n    scrollbar: {\n        barBackgroundColor: '#444',\n        barBorderColor: 'windowText',\n        buttonArrowColor: 'windowText',\n        buttonBackgroundColor: 'window',\n        buttonBorderColor: 'windowText',\n        rifleColor: 'windowText',\n        trackBackgroundColor: 'window',\n        trackBorderColor: 'windowText'\n    }\n};\n/* *\n *\n *  Default Export\n *\n * */\nexport default theme;\n","/* *\n *\n *  (c) 2009-2021 ystein Moseng\n *\n *  Default lang/i18n options for accessibility.\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n'use strict';\n/* *\n *\n *  API Options\n *\n * */\nvar langOptions = {\n    /**\n     * Configure the accessibility strings in the chart. Requires the\n     * [accessibility module](https://code.highcharts.com/modules/accessibility.js)\n     * to be loaded. For a description of the module and information on its\n     * features, see\n     * [Highcharts Accessibility](https://www.highcharts.com/docs/chart-concepts/accessibility).\n     *\n     * For more dynamic control over the accessibility functionality, see\n     * [accessibility.point.descriptionFormatter](#accessibility.point.descriptionFormatter),\n     * [accessibility.series.descriptionFormatter](#accessibility.series.descriptionFormatter),\n     * and\n     * [accessibility.screenReaderSection.beforeChartFormatter](#accessibility.screenReaderSection.beforeChartFormatter).\n     *\n     * @since        6.0.6\n     * @optionparent lang.accessibility\n     */\n    accessibility: {\n        /**\n         * @deprecated 10.2.1\n         * @apioption  lang.accessibility.resetZoomButton\n         */\n        defaultChartTitle: 'Chart',\n        chartContainerLabel: '{title}. Highcharts interactive chart.',\n        svgContainerLabel: 'Interactive chart',\n        drillUpButton: '{buttonText}',\n        credits: 'Chart credits: {creditsStr}',\n        /**\n         * Thousands separator to use when formatting numbers for screen\n         * readers. Note that many screen readers will not handle space as a\n         * thousands separator, and will consider \"11 700\" as two numbers.\n         *\n         * Set to `null` to use the separator defined in\n         * [lang.thousandsSep](lang.thousandsSep).\n         *\n         * @since 7.1.0\n         */\n        thousandsSep: ',',\n        /**\n         * Title element text for the chart SVG element. Leave this\n         * empty to disable adding the title element. Browsers will display\n         * this content when hovering over elements in the chart. Assistive\n         * technology may use this element to label the chart.\n         *\n         * @since 6.0.8\n         */\n        svgContainerTitle: '',\n        /**\n         * Set a label on the container wrapping the SVG.\n         *\n         * @see [chartContainerLabel](#lang.accessibility.chartContainerLabel)\n         *\n         * @since 8.0.0\n         */\n        graphicContainerLabel: '',\n        /**\n         * Language options for the screen reader information sections added\n         * before and after the charts.\n         *\n         * @since 8.0.0\n         */\n        screenReaderSection: {\n            beforeRegionLabel: '',\n            afterRegionLabel: '',\n            /**\n             * Language options for annotation descriptions.\n             *\n             * @since 8.0.1\n             */\n            annotations: {\n                heading: 'Chart annotations summary',\n                descriptionSinglePoint: ('{annotationText}. Related to {annotationPoint}'),\n                descriptionMultiplePoints: ('{annotationText}. Related to {annotationPoint}' +\n                    '{ Also related to, #each(additionalAnnotationPoints)}'),\n                descriptionNoPoints: '{annotationText}'\n            },\n            /**\n             * Label for the end of the chart. Announced by screen readers.\n             *\n             * @since 8.0.0\n             */\n            endOfChartMarker: 'End of interactive chart.'\n        },\n        /**\n         * Language options for sonification.\n         *\n         * @since 8.0.1\n         */\n        sonification: {\n            playAsSoundButtonText: 'Play as sound, {chartTitle}',\n            playAsSoundClickAnnouncement: 'Play'\n        },\n        /**\n         * Language options for accessibility of the legend.\n         *\n         * @since 8.0.0\n         */\n        legend: {\n            legendLabelNoTitle: 'Toggle series visibility, {chartTitle}',\n            legendLabel: 'Chart legend: {legendTitle}',\n            legendItem: 'Show {itemName}'\n        },\n        /**\n         * Chart and map zoom accessibility language options.\n         *\n         * @since 8.0.0\n         */\n        zoom: {\n            mapZoomIn: 'Zoom chart',\n            mapZoomOut: 'Zoom out chart',\n            resetZoomButton: 'Reset zoom'\n        },\n        /**\n         * Range selector language options for accessibility.\n         *\n         * @since 8.0.0\n         */\n        rangeSelector: {\n            dropdownLabel: '{rangeTitle}',\n            minInputLabel: 'Select start date.',\n            maxInputLabel: 'Select end date.',\n            clickButtonAnnouncement: 'Viewing {axisRangeDescription}'\n        },\n        /**\n         * Accessibility language options for the data table.\n         *\n         * @since 8.0.0\n         */\n        table: {\n            viewAsDataTableButtonText: 'View as data table, {chartTitle}',\n            tableSummary: 'Table representation of chart.'\n        },\n        /**\n         * Default announcement for new data in charts. If addPoint or\n         * addSeries is used, and only one series/point is added, the\n         * `newPointAnnounce` and `newSeriesAnnounce` strings are used.\n         * The `...Single` versions will be used if there is only one chart\n         * on the page, and the `...Multiple` versions will be used if there\n         * are multiple charts on the page. For all other new data events,\n         * the `newDataAnnounce` string will be used.\n         *\n         * @since 7.1.0\n         */\n        announceNewData: {\n            newDataAnnounce: 'Updated data for chart {chartTitle}',\n            newSeriesAnnounceSingle: 'New data series: {seriesDesc}',\n            newPointAnnounceSingle: 'New data point: {pointDesc}',\n            newSeriesAnnounceMultiple: 'New data series in chart {chartTitle}: {seriesDesc}',\n            newPointAnnounceMultiple: 'New data point in chart {chartTitle}: {pointDesc}'\n        },\n        /**\n         * Descriptions of lesser known series types. The relevant\n         * description is added to the screen reader information region\n         * when these series types are used.\n         *\n         * @since 6.0.6\n         */\n        seriesTypeDescriptions: {\n            boxplot: 'Box plot charts are typically used to display ' +\n                'groups of statistical data. Each data point in the ' +\n                'chart can have up to 5 values: minimum, lower quartile, ' +\n                'median, upper quartile, and maximum.',\n            arearange: 'Arearange charts are line charts displaying a ' +\n                'range between a lower and higher value for each point.',\n            areasplinerange: 'These charts are line charts displaying a ' +\n                'range between a lower and higher value for each point.',\n            bubble: 'Bubble charts are scatter charts where each data ' +\n                'point also has a size value.',\n            columnrange: 'Columnrange charts are column charts ' +\n                'displaying a range between a lower and higher value for ' +\n                'each point.',\n            errorbar: 'Errorbar series are used to display the ' +\n                'variability of the data.',\n            funnel: 'Funnel charts are used to display reduction of data ' +\n                'in stages.',\n            pyramid: 'Pyramid charts consist of a single pyramid with ' +\n                'item heights corresponding to each point value.',\n            waterfall: 'A waterfall chart is a column chart where each ' +\n                'column contributes towards a total end value.'\n        },\n        /**\n         * Chart type description strings. This is added to the chart\n         * information region.\n         *\n         * If there is only a single series type used in the chart, we use\n         * the format string for the series type, or default if missing.\n         * There is one format string for cases where there is only a single\n         * series in the chart, and one for multiple series of the same\n         * type.\n         *\n         * @since 6.0.6\n         */\n        chartTypes: {\n            /* eslint-disable max-len */\n            emptyChart: 'Empty chart',\n            mapTypeDescription: 'Map of {mapTitle} with {numSeries} data series.',\n            unknownMap: 'Map of unspecified region with {numSeries} data series.',\n            combinationChart: 'Combination chart with {numSeries} data series.',\n            defaultSingle: 'Chart with {numPoints} data {#plural(numPoints, points, point)}.',\n            defaultMultiple: 'Chart with {numSeries} data series.',\n            splineSingle: 'Line chart with {numPoints} data {#plural(numPoints, points, point)}.',\n            splineMultiple: 'Line chart with {numSeries} lines.',\n            lineSingle: 'Line chart with {numPoints} data {#plural(numPoints, points, point)}.',\n            lineMultiple: 'Line chart with {numSeries} lines.',\n            columnSingle: 'Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.',\n            columnMultiple: 'Bar chart with {numSeries} data series.',\n            barSingle: 'Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.',\n            barMultiple: 'Bar chart with {numSeries} data series.',\n            pieSingle: 'Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.',\n            pieMultiple: 'Pie chart with {numSeries} pies.',\n            scatterSingle: 'Scatter chart with {numPoints} {#plural(numPoints, points, point)}.',\n            scatterMultiple: 'Scatter chart with {numSeries} data series.',\n            boxplotSingle: 'Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.',\n            boxplotMultiple: 'Boxplot with {numSeries} data series.',\n            bubbleSingle: 'Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.',\n            bubbleMultiple: 'Bubble chart with {numSeries} data series.'\n        },\n        /**\n         * Axis description format strings.\n         *\n         * @since 6.0.6\n         */\n        axis: {\n            /* eslint-disable max-len */\n            xAxisDescriptionSingular: 'The chart has 1 X axis displaying {names[0]}. {ranges[0]}',\n            xAxisDescriptionPlural: 'The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.',\n            yAxisDescriptionSingular: 'The chart has 1 Y axis displaying {names[0]}. {ranges[0]}',\n            yAxisDescriptionPlural: 'The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.',\n            timeRangeDays: 'Data range: {range} days.',\n            timeRangeHours: 'Data range: {range} hours.',\n            timeRangeMinutes: 'Data range: {range} minutes.',\n            timeRangeSeconds: 'Data range: {range} seconds.',\n            rangeFromTo: 'Data ranges from {rangeFrom} to {rangeTo}.',\n            rangeCategories: 'Data range: {numCategories} categories.'\n        },\n        /**\n         * Exporting menu format strings for accessibility module.\n         *\n         * @since 6.0.6\n         */\n        exporting: {\n            chartMenuLabel: 'Chart menu',\n            menuButtonLabel: 'View chart menu, {chartTitle}'\n        },\n        /**\n         * Lang configuration for different series types. For more dynamic\n         * control over the series element descriptions, see\n         * [accessibility.seriesDescriptionFormatter](#accessibility.seriesDescriptionFormatter).\n         *\n         * @since 6.0.6\n         */\n        series: {\n            /**\n             * Lang configuration for the series main summary. Each series\n             * type has two modes:\n             *\n             * 1. This series type is the only series type used in the\n             *    chart\n             *\n             * 2. This is a combination chart with multiple series types\n             *\n             * If a definition does not exist for the specific series type\n             * and mode, the 'default' lang definitions are used.\n             *\n             * Chart and its subproperties can be accessed with the `{chart}` variable.\n             * The series and its subproperties can be accessed with the `{series}` variable.\n             *\n             * The series index (starting from 1) can be accessed with the `{seriesNumber}` variable.\n             *\n             * @since 6.0.6\n             */\n            summary: {\n                /* eslint-disable max-len */\n                'default': '{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.',\n                defaultCombination: '{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.',\n                line: '{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.',\n                lineCombination: '{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.',\n                spline: '{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.',\n                splineCombination: '{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.',\n                column: '{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.',\n                columnCombination: '{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.',\n                bar: '{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.',\n                barCombination: '{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.',\n                pie: '{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.',\n                pieCombination: '{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.',\n                scatter: '{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.',\n                scatterCombination: '{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.',\n                boxplot: '{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.',\n                boxplotCombination: '{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.',\n                bubble: '{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.',\n                bubbleCombination: '{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.',\n                map: '{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.',\n                mapCombination: '{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.',\n                mapline: '{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.',\n                maplineCombination: '{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.',\n                mapbubble: '{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.',\n                mapbubbleCombination: '{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.'\n            },\n            /**\n             * User supplied description text. This is added in the point\n             * comment description by default if present.\n             *\n             * @since 6.0.6\n             */\n            description: '{description}',\n            /**\n             * xAxis description for series if there are multiple xAxes in\n             * the chart.\n             *\n             * @since 6.0.6\n             */\n            xAxisDescription: 'X axis, {name}',\n            /**\n             * yAxis description for series if there are multiple yAxes in\n             * the chart.\n             *\n             * @since 6.0.6\n             */\n            yAxisDescription: 'Y axis, {name}',\n            /**\n             * Description for the value of null points.\n             *\n             * @since 8.0.0\n             */\n            nullPointValue: 'No value',\n            /**\n             * Description for annotations on a point, as it is made available\n             * to assistive technology.\n             *\n             * @since 8.0.1\n             */\n            pointAnnotationsDescription: '{Annotation: #each(annotations). }'\n        }\n    }\n};\n/* *\n *\n *  Default Export\n *\n * */\nexport default langOptions;\n","/**\n * @license Highcharts JS v10.3.3 (2023-01-20)\n * @module highcharts/modules/accessibility\n * @requires highcharts\n *\n * Accessibility module\n *\n * (c) 2010-2021 Highsoft AS\n * Author: Oystein Moseng\n *\n * License: www.highcharts.com/license\n */\n'use strict';\nimport Highcharts from '../../Core/Globals.js';\nimport Accessibility from '../../Accessibility/Accessibility.js';\nimport AccessibilityComponent from '../../Accessibility/AccessibilityComponent.js';\nimport ChartUtilities from '../../Accessibility/Utils/ChartUtilities.js';\nimport HTMLUtilities from '../../Accessibility/Utils/HTMLUtilities.js';\nimport KeyboardNavigationHandler from '../../Accessibility/KeyboardNavigationHandler.js';\nimport SeriesDescriber from '../../Accessibility/Components/SeriesComponent/SeriesDescriber.js';\nvar G = Highcharts;\nG.i18nFormat = Accessibility.i18nFormat;\nG.A11yChartUtilities = ChartUtilities;\nG.A11yHTMLUtilities = HTMLUtilities;\nG.AccessibilityComponent = AccessibilityComponent;\nG.KeyboardNavigationHandler = KeyboardNavigationHandler;\nG.SeriesAccessibilityDescriber = SeriesDescriber;\nAccessibility.compose(G.Chart, G.Legend, G.Point, G.Series, G.SVGElement, G.RangeSelector);\n"],"x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33]}