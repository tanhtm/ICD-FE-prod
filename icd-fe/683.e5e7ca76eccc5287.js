"use strict";(self.webpackChunkicd_fe=self.webpackChunkicd_fe||[]).push([[683],{9641:(vi,et,A)=>{A.d(et,{Z:()=>p});var F,C,M,x=A(1805);(C=F||(F={})).rendererTypes={},C.getRendererType=function st(B){return void 0===B&&(B=M),C.rendererTypes[B]||C.rendererTypes[M]},C.registerRendererType=function at(B,K,L){C.rendererTypes[B]=K,(!M||L)&&(M=B,x.Z.Renderer=K)};const p=F},6849:(vi,et,A)=>{A.r(et);var rt,x=A(1805),F=A(8050),p=A(9171),C=p.Z.addEvent,M=p.Z.erase,st=p.Z.find,at=p.Z.fireEvent,B=p.Z.pick,K=p.Z.wrap,L=[];function Ct(s,i){var t=this.initAnnotation(s);return this.options.annotations.push(t.options),B(i,!0)&&(t.redraw(),t.graphic.attr({opacity:1})),t}function gi(){var s=this;s.plotBoxClip=this.renderer.clipRect(this.plotBox),s.controlPointsGroup=s.renderer.g("control-points").attr({zIndex:99}).clip(s.plotBoxClip).add(),s.options.annotations.forEach(function(i,t){if(!s.annotations.some(function(n){return n.options===i})){var o=s.initAnnotation(i);s.options.annotations[t]=o.options}}),s.drawAnnotations(),C(s,"redraw",s.drawAnnotations),C(s,"destroy",function(){s.plotBoxClip.destroy(),s.controlPointsGroup.destroy()}),C(s,"exportData",function(i){var o=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,n=!i.dataRows[1].xValues,e=s.options.lang&&s.options.lang.exportData&&s.options.lang.exportData.annotationHeader,r=i.dataRows[0].length,l=s.options.exporting&&s.options.exporting.csv&&s.options.exporting.csv.annotations&&s.options.exporting.csv.annotations.itemDelimiter,h=s.options.exporting&&s.options.exporting.csv&&s.options.exporting.csv.annotations&&s.options.exporting.csv.annotations.join;s.annotations.forEach(function(v){v.options.labelOptions&&v.options.labelOptions.includeInDataExport&&v.labels.forEach(function(g){if(g.options.text){var y=g.options.text;g.points.forEach(function(m){var Z=m.x,_=m.series.xAxis?m.series.xAxis.options.index:-1,V=!1;if(-1===_){for(var z=i.dataRows[0].length,P=new Array(z),S=0;S<z;++S)P[S]="";P.push(y),P.xValues=[],P.xValues[_]=Z,i.dataRows.push(P),V=!0}if(V||i.dataRows.forEach(function(D){!V&&D.xValues&&void 0!==_&&Z===D.xValues[_]&&(h&&D.length>r?D[D.length-1]+=l+y:D.push(y),V=!0)}),!V){for(z=i.dataRows[0].length,P=new Array(z),S=0;S<z;++S)P[S]="";P[0]=Z,P.push(y),P.xValues=[],void 0!==_&&(P.xValues[_]=Z),i.dataRows.push(P)}})}})});var v,g,c=0;i.dataRows.forEach(function(v){c=Math.max(c,v.length)});for(var d=c-i.dataRows[0].length,u=0;u<d;u++){var f=(v=u+1,g=void 0,o&&!1!==(g=o(v))?g:(g=e+" "+v,n?{columnTitle:g,topLevelColumnTitle:g}:g));n?(i.dataRows[0].push(f.topLevelColumnTitle),i.dataRows[1].push(f.columnTitle)):i.dataRows[0].push(f)}})}function yi(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach(function(s){s.redraw(),s.graphic.animate({opacity:1},s.animationConfig)})}function mi(s){var i=this.annotations,t="annotations"===s.coll?s:st(i,function(o){return o.options.id===s});t&&(at(t,"remove"),M(this.options.annotations,t.options),M(i,t),t.destroy())}function xi(){this.annotations=[],this.options.annotations||(this.options.annotations=[])}function bi(s){this.chart.hasDraggedAnnotation||s.apply(this,Array.prototype.slice.call(arguments,1))}(rt||(rt={})).compose=function i(t,o,n){if(-1===L.indexOf(o)){L.push(o),C(o,"afterInit",xi);var e=o.prototype;e.addAnnotation=Ct,e.callbacks.push(gi),e.collectionsWithInit.annotations=[Ct],e.collectionsWithUpdate.push("annotations"),e.drawAnnotations=yi,e.removeAnnotation=mi,e.initAnnotation=function(l){var c=new(t.types[l.type]||t)(this,l);return this.annotations.push(c),c}}-1===L.indexOf(n)&&(L.push(n),K(n.prototype,"onContainerMouseDown",bi))};const Ai=rt;var Pi=p.Z.defined;const Ei={visible:!0,animation:{},crop:!0,draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"#000000",borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return Pi(this.y)?""+this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{events:{},style:{cursor:"pointer",fill:"#ffffff",stroke:"#000000","stroke-width":2},height:10,symbol:"circle",visible:!1,width:10},events:{},zIndex:6};var Et=x.Z.doc,Y=x.Z.isTouchDevice,X=p.Z.addEvent,lt=p.Z.fireEvent,wi=p.Z.objectEach,wt=p.Z.pick,Oi=p.Z.removeEvent,ki=function(){function s(){}return s.prototype.addEvents=function(){var i=this,t=function(n){X(n,Y?"touchstart":"mousedown",function(e){i.onMouseDown(e)},{passive:!1})};if(t(this.graphic.element),(i.labels||[]).forEach(function(n){n.options.useHTML&&n.graphic.text&&t(n.graphic.text.element)}),wi(i.options.events,function(n,e){var a=function(r){("click"!==e||!i.cancelClick)&&n.call(i,i.chart.pointer.normalize(r),i.target)};-1===(i.nonDOMEvents||[]).indexOf(e)?i.graphic.on(e,a):X(i,e,a,{passive:!1})}),i.options.draggable&&(X(i,"drag",i.onDrag),!i.graphic.renderer.styledMode)){var o={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[i.options.draggable]};i.graphic.css(o),(i.labels||[]).forEach(function(n){n.options.useHTML&&n.graphic.text&&n.graphic.text.css(o)})}i.isUpdating||lt(i,"add")},s.prototype.destroy=function(){this.removeDocEvents(),Oi(this),this.hcEvents=null},s.prototype.mouseMoveToRadians=function(i,t,o){var l,n=i.prevChartY-o,e=i.prevChartX-t,a=i.chartY-o,r=i.chartX-t;return this.chart.inverted&&(l=e,e=n,n=l,l=r,r=a,a=l),Math.atan2(a,r)-Math.atan2(n,e)},s.prototype.mouseMoveToScale=function(i,t,o){var l=(i.chartX-t||1)/(i.prevChartX-t||1),h=(i.chartY-o||1)/(i.prevChartY-o||1);if(this.chart.inverted){var c=h;h=l,l=c}return{x:l,y:h}},s.prototype.mouseMoveToTranslation=function(i){var n,t=i.chartX-i.prevChartX,o=i.chartY-i.prevChartY;return this.chart.inverted&&(n=o,o=t,t=n),{x:t,y:o}},s.prototype.onDrag=function(i){if(this.chart.isInsidePlot(i.chartX-this.chart.plotLeft,i.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){var t=this.mouseMoveToTranslation(i);"x"===this.options.draggable&&(t.y=0),"y"===this.options.draggable&&(t.x=0);var o=this;o.points.length?o.translate(t.x,t.y):(o.shapes.forEach(function(n){return n.translate(t.x,t.y)}),o.labels.forEach(function(n){return n.translate(t.x,t.y)})),this.redraw(!1)}},s.prototype.onMouseDown=function(i){if(i.preventDefault&&i.preventDefault(),2!==i.button){var t=this,o=t.chart.pointer,n=(i=o.normalize(i)).chartX,e=i.chartY;t.cancelClick=!1,t.chart.hasDraggedAnnotation=!0,t.removeDrag=X(Et,Y?"touchmove":"mousemove",function(a){t.hasDragged=!0,(a=o.normalize(a)).prevChartX=n,a.prevChartY=e,lt(t,"drag",a),n=a.chartX,e=a.chartY},Y?{passive:!1}:void 0),t.removeMouseUp=X(Et,Y?"touchend":"mouseup",function(a){var r=wt(t.target&&t.target.annotation,t.target);r&&(r.cancelClick=t.hasDragged),t.cancelClick=t.hasDragged,t.hasDragged=!1,t.chart.hasDraggedAnnotation=!1,lt(wt(r,t),"afterUpdate"),t.onMouseUp(a)},Y?{passive:!1}:void 0)}},s.prototype.onMouseUp=function(i){var t=this.chart,o=this.target||this,n=t.options.annotations,e=t.annotations.indexOf(o);this.removeDocEvents(),n[e]=o.options},s.prototype.removeDocEvents=function(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},s}();const Ot=ki;var s,_i=(s=function(i,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(o[e]=n[e])})(i,t)},function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=i}s(i,t),i.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),Bi=p.Z.merge,Ni=p.Z.pick,Ti=function(s){function i(t,o,n,e){var a=s.call(this)||this;return a.graphic=void 0,a.nonDOMEvents=["drag"],a.chart=t,a.target=o,a.options=n,a.index=Ni(n.index,e),a}return _i(i,s),i.prototype.destroy=function(){s.prototype.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.chart=null,this.target=null,this.options=null},i.prototype.redraw=function(t){this.graphic[t?"animate":"attr"](this.options.positioner.call(this,this.target))},i.prototype.render=function(){var t=this.chart,o=this.options;this.graphic=t.renderer.symbol(o.symbol,0,0,o.width,o.height).add(t.controlPointsGroup).css(o.style),this.setVisibility(o.visible),this.addEvents()},i.prototype.setVisibility=function(t){this.graphic[t?"show":"hide"](),this.options.visible=t},i.prototype.update=function(t){var o=this.chart,n=this.target,e=this.index,a=Bi(!0,this.options,t);this.destroy(),this.constructor(o,n,a,e),this.render(o.controlPointsGroup),this.redraw()},i}(Ot);const kt=Ti;var _t=A(3503),Zi=_t.Z.series.prototype,ht=p.Z.defined,Mi=p.Z.fireEvent,Ii=function(){function s(i,t,o){this.plotX=void 0,this.plotY=void 0,this.mock=!0,this.series={visible:!0,chart:i,getPlotBox:Zi.getPlotBox},this.target=t||null,this.options=o,this.applyOptions(this.getOptions())}return s.fromPoint=function(i){return new s(i.series.chart,null,{x:i.x,y:i.y,xAxis:i.series.xAxis,yAxis:i.series.yAxis})},s.pointToPixels=function(i,t){var r,o=i.series,n=o.chart,e=i.plotX||0,a=i.plotY||0;return n.inverted&&(i.mock?(e=i.plotY,a=i.plotX):(e=n.plotWidth-(i.plotY||0),a=n.plotHeight-(i.plotX||0))),o&&!t&&(e+=(r=o.getPlotBox()).translateX,a+=r.translateY),{x:e,y:a}},s.pointToOptions=function(i){return{x:i.x,y:i.y,xAxis:i.series.xAxis,yAxis:i.series.yAxis}},s.prototype.applyOptions=function(i){this.command=i.command,this.setAxis(i,"x"),this.setAxis(i,"y"),this.refresh()},s.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},s.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},s.prototype.hasDynamicOptions=function(){return"function"==typeof this.options},s.prototype.isInsidePlot=function(){var i=this.plotX,t=this.plotY,o=this.series.xAxis,n=this.series.yAxis,e={x:i,y:t,isInsidePlot:!0,options:{}};return o&&(e.isInsidePlot=ht(i)&&i>=0&&i<=o.len),n&&(e.isInsidePlot=e.isInsidePlot&&ht(t)&&t>=0&&t<=n.len),Mi(this.series.chart,"afterIsInsidePlot",e),e.isInsidePlot},s.prototype.refresh=function(){var i=this.series,t=i.xAxis,o=i.yAxis,n=this.getOptions();t?(this.x=n.x,this.plotX=t.toPixels(n.x,!0)):(this.x=void 0,this.plotX=n.x),o?(this.y=n.y,this.plotY=o.toPixels(n.y,!0)):(this.y=null,this.plotY=n.y),this.isInside=this.isInsidePlot()},s.prototype.refreshOptions=function(){var i=this.series,t=i.xAxis,o=i.yAxis;this.x=this.options.x=t?this.options.x=t.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=o?o.toValue(this.plotY,!0):this.plotY},s.prototype.rotate=function(i,t,o){if(!this.hasDynamicOptions()){var n=Math.cos(o),e=Math.sin(o),a=this.plotX-i,r=this.plotY-t,h=a*e+r*n;this.plotX=a*n-r*e+i,this.plotY=h+t,this.refreshOptions()}},s.prototype.scale=function(i,t,o,n){if(!this.hasDynamicOptions()){var a=this.plotY*n,l=(1-n)*t;this.plotX=(1-o)*i+this.plotX*o,this.plotY=l+a,this.refreshOptions()}},s.prototype.setAxis=function(i,t){var o=t+"Axis",n=i[o],e=this.series.chart;this.series[o]="object"==typeof n?n:ht(n)?e[o][n]||e.get(n):null},s.prototype.toAnchor=function(){var i=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(i[0]=this.plotY,i[1]=this.plotX),i},s.prototype.translate=function(i,t,o,n){this.hasDynamicOptions()||(this.plotX+=o,this.plotY+=n,this.refreshOptions())},s}();const j=Ii;var Bt=A(8590),Si=p.Z.isObject,Li=p.Z.isString,ct=p.Z.merge,Di=p.Z.splat,Fi=function(){function s(i,t,o,n){this.graphic=void 0,this.annotation=i,this.chart=i.chart,this.collection="label"===n?"labels":"shapes",this.options=t,this.points=[],this.controlPoints=[],this.index=o,this.itemType=n,this.init(i,t,o)}return s.prototype.addControlPoints=function(){var i=this,t=this.controlPoints,o=this.options.controlPoints||[];o.forEach(function(n,e){var a=ct(i.options.controlPointOptions,n);a.index||(a.index=e),o[e]=a,t.push(new kt(i.chart,i,a))})},s.prototype.anchor=function(i){var t=i.series.getPlotBox(),o=i.series.chart,n=i.mock?i.toAnchor():Bt.Z.prototype.getAnchor.call({chart:i.series.chart},i),e={x:n[0]+(this.options.x||0),y:n[1]+(this.options.y||0),height:n[2]||0,width:n[3]||0};return{relativePosition:e,absolutePosition:ct(e,{x:e.x+(i.mock?t.translateX:o.plotLeft),y:e.y+(i.mock?t.translateY:o.plotTop)})}},s.prototype.attr=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];this.graphic.attr.apply(this.graphic,arguments)},s.prototype.attrsFromOptions=function(i){var e,a,t=this.constructor.attrsMap,o={},n=this.chart.styledMode;for(e in i)a=t[e],typeof t[e]<"u"&&(!n||-1===["fill","stroke","stroke-width"].indexOf(a))&&(o[a]=i[e]);return o},s.prototype.destroy=function(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.controlPoints.forEach(function(i){return i.destroy()}),this.chart=null,this.points=null,this.controlPoints=null,this.options=null,this.annotation&&(this.annotation=null)},s.prototype.getPointsOptions=function(){var i=this.options;return i.points||i.point&&Di(i.point)},s.prototype.init=function(i,t,o){this.annotation=i,this.chart=i.chart,this.options=t,this.points=[],this.controlPoints=[],this.index=o,this.linkPoints(),this.addControlPoints()},s.prototype.linkPoints=function(){var n,e,i=this.getPointsOptions(),t=this.points,o=i&&i.length||0;for(n=0;n<o;n++){if(!(e=this.point(i[n],t[n])))return void(t.length=0);e.mock&&e.refresh(),t[n]=e}return t},s.prototype.point=function(i,t){if(i&&i.series)return i;if(!t||null===t.series)if(Si(i))t=new j(this.chart,this,i);else if(Li(i))t=this.chart.get(i)||null;else if("function"==typeof i){var o=i.call(t,this);t=o.series?o:new j(this.chart,this,i)}return t},s.prototype.render=function(i){this.controlPoints.forEach(function(t){return t.render()})},s.prototype.redraw=function(i){this.controlPoints.forEach(function(t){return t.redraw(i)})},s.prototype.rotate=function(i,t,o){this.transform("rotate",i,t,o)},s.prototype.scale=function(i,t,o,n){this.transform("scale",i,t,o,n)},s.prototype.setControlPointsVisibility=function(i){this.controlPoints.forEach(function(t){t.setVisibility(i)})},s.prototype.shouldBeDrawn=function(){return!!this.points.length},s.prototype.transform=function(i,t,o,n,e){var a=this;if(this.chart.inverted){var r=t;t=o,o=r}this.points.forEach(function(l,h){return a.transformPoint(i,t,o,n,e,h)},this)},s.prototype.transformPoint=function(i,t,o,n,e,a){var r=this.points[a];r.mock||(r=this.points[a]=j.fromPoint(r)),r[i](t,o,n,e)},s.prototype.translate=function(i,t){this.transform("translate",null,null,i,t)},s.prototype.translatePoint=function(i,t,o){this.transformPoint("translate",null,null,i,t,o)},s.prototype.translateShape=function(i,t,o){var n=this.annotation.chart,e=this.annotation.userOptions,a=n.annotations.indexOf(this.annotation),r=n.options.annotations[a];this.translatePoint(i,t,0),o&&this.translatePoint(i,t,1),r[this.collection][this.index].point=this.options.point,e[this.collection][this.index].point=this.options.point},s.prototype.update=function(i){var t=this.annotation,o=ct(!0,this.options,i),n=this.graphic.parentGroup;this.destroy(),this.constructor(t,o,this.index,this.itemType),this.render(n),this.redraw()},s}();const N=Fi;var Ri=function(){var s=function(i,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(o[e]=n[e])})(i,t)};return function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=i}s(i,t),i.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ui={arrow:{tagName:"marker",attributes:{id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}},Wi=p.Z.addEvent,Hi=p.Z.defined,Vi=p.Z.extend,G=p.Z.merge,zi=p.Z.uniqueKey,q=[],Ki=Tt("marker-end"),Gi=Tt("marker-start"),Nt="rgba(192,192,192,"+(x.Z.svg?1e-4:.002)+")";function Tt(s){return function(i){this.attr(s,"url(#"+i+")")}}function qi(){this.options.defs=G(Ui,this.options.defs||{})}function $i(s,i){var t={attributes:{id:s}},o={stroke:i.color||"none",fill:i.color||"rgba(0, 0, 0, 0.75)"};t.children=i.children&&i.children.map(function(a){return G(o,a)});var n=G(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},i,t),e=this.definition(n);return e.id=s,e}var Ji=function(s){function i(t,o,n){var e=s.call(this,t,o,n,"shape")||this;return e.type="path",e}return Ri(i,s),i.compose=function(t,o){-1===q.indexOf(t)&&(q.push(t),Wi(t,"afterGetContainer",qi)),-1===q.indexOf(o)&&(q.push(o),o.prototype.addMarker=$i)},i.prototype.toD=function(){var t=this.options.d;if(t)return"function"==typeof t?t.call(this):t;var c,o=this.points,n=o.length,e=[],a=n,r=o[0],l=a&&this.anchor(r).absolutePosition,h=0;if(l)for(e.push(["M",l.x,l.y]);++h<n&&a;)c=(r=o[h]).command||"L",l=this.anchor(r).absolutePosition,"M"===c||"L"===c?e.push([c,l.x,l.y]):"Z"===c&&e.push([c]),a=r.series.visible;return a&&this.graphic?this.chart.renderer.crispLine(e,this.graphic.strokeWidth()):null},i.prototype.shouldBeDrawn=function(){return s.prototype.shouldBeDrawn.call(this)||!!this.options.d},i.prototype.render=function(t){var o=this.options,n=this.attrsFromOptions(o);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(n).add(t),o.className&&this.graphic.addClass(o.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(t),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:Nt,fill:Nt,"stroke-width":this.graphic.strokeWidth()+2*o.snap}),s.prototype.render.call(this),Vi(this.graphic,{markerStartSetter:Gi,markerEndSetter:Ki}),this.setMarkers(this)},i.prototype.redraw=function(t){if(this.graphic){var o=this.toD(),n=t?"animate":"attr";o?(this.graphic[n]({d:o}),this.tracker[n]({d:o})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!o}s.prototype.redraw.call(this,t)},i.prototype.setMarkers=function(t){var o=t.options,n=t.chart,e=n.options.defs,a=o.fill,r=Hi(a)&&"none"!==a?a:o.stroke;["markerStart","markerEnd"].forEach(function(h){var d,u,f,v,c=o[h];if(c){for(f in e)if((c===((d=e[f]).attributes&&d.attributes.id)||c===d.id)&&"marker"===d.tagName){u=d;break}u&&(v=t[h]=n.renderer.addMarker((o.id||zi())+"-"+c,G(u,{color:r})),t.attr(h,v.getAttribute("id")))}})},i.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},i}(N);const R=Ji;var Qi=function(){var s=function(i,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(o[e]=n[e])})(i,t)};return function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=i}s(i,t),i.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),to=p.Z.merge,io=function(s){function i(t,o,n){var e=s.call(this,t,o,n,"shape")||this;return e.type="rect",e.translate=s.prototype.translateShape,e}return Qi(i,s),i.prototype.render=function(t){var o=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(o).add(t),s.prototype.render.call(this)},i.prototype.redraw=function(t){if(this.graphic){var o=this.anchor(this.points[0]).absolutePosition;o?this.graphic[t?"animate":"attr"]({x:o.x,y:o.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(o)}s.prototype.redraw.call(this,t)},i.attrsMap=to(R.attrsMap,{width:"width",height:"height"}),i}(N);const oo=io;var no=function(){var s=function(i,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(o[e]=n[e])})(i,t)};return function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=i}s(i,t),i.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),eo=p.Z.merge,so=function(s){function i(t,o,n){var e=s.call(this,t,o,n,"shape")||this;return e.type="circle",e.translate=s.prototype.translateShape,e}return no(i,s),i.prototype.redraw=function(t){if(this.graphic){var o=this.anchor(this.points[0]).absolutePosition;o?this.graphic[t?"animate":"attr"]({x:o.x,y:o.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!o}s.prototype.redraw.call(this,t)},i.prototype.render=function(t){var o=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(o).add(t),s.prototype.render.call(this)},i.prototype.setRadius=function(t){this.options.r=t},i.attrsMap=eo(R.attrsMap,{r:"r"}),i}(N);const ao=so;var ro=function(){var s=function(i,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(o[e]=n[e])})(i,t)};return function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=i}s(i,t),i.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),lo=p.Z.merge,pt=p.Z.defined,ho=function(s){function i(t,o,n){var e=s.call(this,t,o,n,"shape")||this;return e.type="ellipse",e}return ro(i,s),i.prototype.init=function(t,o,n){pt(o.yAxis)&&o.points.forEach(function(e){e.yAxis=o.yAxis}),pt(o.xAxis)&&o.points.forEach(function(e){e.xAxis=o.xAxis}),s.prototype.init.call(this,t,o,n)},i.prototype.render=function(t){this.graphic=this.annotation.chart.renderer.createElement("ellipse").attr(this.attrsFromOptions(this.options)).add(t),s.prototype.render.call(this)},i.prototype.translate=function(t,o){s.prototype.translateShape.call(this,t,o,!0)},i.prototype.getDistanceFromLine=function(t,o,n,e){return Math.abs((o.y-t.y)*n-(o.x-t.x)*e+o.x*t.y-o.y*t.x)/Math.sqrt((o.y-t.y)*(o.y-t.y)+(o.x-t.x)*(o.x-t.x))},i.prototype.getAttrs=function(t,o){var n=t.x,e=t.y,a=o.x,r=o.y,l=(n+a)/2,h=(e+r)/2,c=Math.sqrt((n-a)*(n-a)/4+(e-r)*(e-r)/4),u=180*Math.atan((r-e)/(a-n))/Math.PI;return l<n&&(u+=180),{cx:l,cy:h,rx:c,ry:this.getRY(),angle:u}},i.prototype.getRY=function(){var t=this.getYAxis();return pt(t)?Math.abs(t.toPixels(this.options.ry)-t.toPixels(0)):this.options.ry},i.prototype.getYAxis=function(){return this.chart.yAxis[this.options.yAxis]},i.prototype.getAbsolutePosition=function(t){return this.anchor(t).absolutePosition},i.prototype.redraw=function(t){if(this.graphic){var o=this.getAbsolutePosition(this.points[0]),n=this.getAbsolutePosition(this.points[1]),e=this.getAttrs(o,n);o?this.graphic[t?"animate":"attr"]({cx:e.cx,cy:e.cy,rx:e.rx,ry:e.ry,rotation:e.angle,rotationOriginX:e.cx,rotationOriginY:e.cy}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(o)}s.prototype.redraw.call(this,t)},i.prototype.setYRadius=function(t){var o=this.annotation.userOptions.shapes;this.options.ry=t,o&&o[0]&&(o[0].ry=t,o[0].ry=t)},i.attrsMap=lo(R.attrsMap,{ry:"ry"}),i}(N);const co=ho;var Zt=A(988),po=function(){var s=function(i,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(o[e]=n[e])})(i,t)};return function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=i}s(i,t),i.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),uo=Zt.Z.format,fo=p.Z.extend,Mt=p.Z.isNumber,vo=p.Z.pick,It=[];function go(s,i,t,o,n){var r,l,e=n&&n.anchorX,a=n&&n.anchorY,h=t/2;return Mt(e)&&Mt(a)&&(r=[["M",e,a]],(l=i-a)<0&&(l=-o-l),l<t&&(h=e<s+t/2?l:t-l),a>i+o?r.push(["L",s+h,i+o]):a<i?r.push(["L",s+h,i]):e<s?r.push(["L",s,i+o/2]):e>s+t&&r.push(["L",s+t,i+o/2])),r||[]}var yo=function(s){function i(t,o,n){return s.call(this,t,o,n,"label")||this}return po(i,s),i.alignedPosition=function(t,o){var l,h,n=t.align,e=t.verticalAlign,a=(o.x||0)+(t.x||0),r=(o.y||0)+(t.y||0);return"right"===n?l=1:"center"===n&&(l=2),l&&(a+=(o.width-(t.width||0))/l),"bottom"===e?h=1:"middle"===e&&(h=2),h&&(r+=(o.height-(t.height||0))/h),{x:Math.round(a),y:Math.round(r)}},i.compose=function(t){-1===It.indexOf(t)&&(It.push(t),t.prototype.symbols.connector=go)},i.justifiedOptions=function(t,o,n,e){var f,a=n.align,r=n.verticalAlign,l=o.box?0:o.padding||0,h=o.getBBox(),c={align:a,verticalAlign:r,x:n.x,y:n.y,width:o.width,height:o.height},d=(e.x||0)-t.plotLeft,u=(e.y||0)-t.plotTop;return(f=d+l)<0&&("right"===a?c.align="left":c.x=(c.x||0)-f),(f=d+h.width-l)>t.plotWidth&&("left"===a?c.align="right":c.x=(c.x||0)+t.plotWidth-f),(f=u+l)<0&&("bottom"===r?c.verticalAlign="top":c.y=(c.y||0)-f),(f=u+h.height-l)>t.plotHeight&&("top"===r?c.verticalAlign="bottom":c.y=(c.y||0)+t.plotHeight-f),c},i.prototype.translatePoint=function(t,o){s.prototype.translatePoint.call(this,t,o,0)},i.prototype.translate=function(t,o){var n=this.annotation.chart,e=this.annotation.userOptions,a=n.annotations.indexOf(this.annotation),l=n.options.annotations[a];if(n.inverted){var h=t;t=o,o=h}this.options.x+=t,this.options.y+=o,l[this.collection][this.index].x=this.options.x,l[this.collection][this.index].y=this.options.y,e[this.collection][this.index].x=this.options.x,e[this.collection][this.index].y=this.options.y},i.prototype.render=function(t){var o=this.options,n=this.attrsFromOptions(o),e=o.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,o.shape,null,null,o.useHTML,null,"annotation-label").attr(n).add(t),this.annotation.chart.styledMode||("contrast"===e.color&&(e.color=this.annotation.chart.renderer.getContrast(i.shapesWithoutBackground.indexOf(o.shape)>-1?"#FFFFFF":o.backgroundColor)),this.graphic.css(o.style).shadow(o.shadow)),o.className&&this.graphic.addClass(o.className),this.graphic.labelrank=o.labelrank,s.prototype.render.call(this)},i.prototype.redraw=function(t){var o=this.options,n=this.text||o.format||o.text,e=this.graphic,a=this.points[0];if(e){e.attr({text:n?uo(String(n),a.getLabelConfig(),this.annotation.chart):o.formatter.call(a,this)});var r=this.anchor(a),l=this.position(r);l?(e.alignAttr=l,l.anchorX=r.absolutePosition.x,l.anchorY=r.absolutePosition.y,e[t?"animate":"attr"](l)):e.attr({x:0,y:-9999}),e.placed=!!l,s.prototype.redraw.call(this,t)}else this.redraw(t)},i.prototype.anchor=function(t){var o=s.prototype.anchor.apply(this,arguments),n=this.options.x||0,e=this.options.y||0;return o.absolutePosition.x-=n,o.absolutePosition.y-=e,o.relativePosition.x-=n,o.relativePosition.y-=e,o},i.prototype.position=function(t){var h,c,d,u,o=this.graphic,n=this.annotation.chart,e=this.points[0],a=this.options,r=t.absolutePosition,l=t.relativePosition,f=e.series.visible&&j.prototype.isInsidePlot.call(e);if(o&&f){var v=o.width,g=void 0===v?0:v,y=o.height,m=void 0===y?0:y;a.distance?h=Bt.Z.prototype.getPosition.call({chart:n,distance:vo(a.distance,16)},g,m,{plotX:l.x,plotY:l.y,negative:e.negative,ttBelow:e.ttBelow,h:l.height||l.width}):a.positioner?h=a.positioner.call(this):(c={x:r.x,y:r.y,width:0,height:0},h=i.alignedPosition(fo(a,{width:g,height:m}),c),"justify"===this.options.overflow&&(h=i.alignedPosition(i.justifiedOptions(n,o,a,h),c))),a.crop&&(f=n.isInsidePlot(d=h.x-n.plotLeft,u=h.y-n.plotTop)&&n.isInsidePlot(d+g,u+m))}return f?h:null},i.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},i.shapesWithoutBackground=["connector"],i}(N);const dt=yo;var mo=function(){var s=function(i,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(o[e]=n[e])})(i,t)};return function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=i}s(i,t),i.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),xo=function(s){function i(t,o,n){var e=s.call(this,t,o,n,"shape")||this;return e.type="image",e.translate=s.prototype.translateShape,e}return mo(i,s),i.prototype.render=function(t){var o=this.attrsFromOptions(this.options),n=this.options;this.graphic=this.annotation.chart.renderer.image(n.src,0,-9e9,n.width,n.height).attr(o).add(t),this.graphic.width=n.width,this.graphic.height=n.height,s.prototype.render.call(this)},i.prototype.redraw=function(t){if(this.graphic){var o=this.anchor(this.points[0]),n=dt.prototype.position.call(this,o);n?this.graphic[t?"animate":"attr"]({x:n.x,y:n.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(n)}s.prototype.redraw.call(this,t)},i.attrsMap={width:"width",height:"height",zIndex:"zIndex"},i}(N);const bo=xo;var Ao=A(7933),St=A(5137),Po=p.Z.defined,Lt=p.Z.isNumber,Co=p.Z.pick,Dt={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"},Oo={annotationsFieldsTypes:Dt,getAssignedAxis:function Eo(s){return s.filter(function(i){var t=i.axis.getExtremes(),o=t.min,n=t.max,e=Co(i.axis.minPointOffset,0);return Lt(o)&&Lt(n)&&i.value>=o-e&&i.value<=n+e&&!i.axis.options.isInternal})[0]},getFieldType:function wo(s,i){var t=Dt[s],o=typeof i;return Po(t)&&(o=t),{string:"text",number:"number",boolean:"checkbox"}[o]}};const ut=Oo;var E=ut.getAssignedAxis,Ft=p.Z.isNumber,$=p.Z.merge,_o={bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(s){var i=this.chart.pointer.getCoordinates(s),t=E(i.xAxis),o=E(i.yAxis),n=this.chart.options.navigation;if(t&&o)return this.chart.addAnnotation($({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:t.value,y:o.value,xAxis:t.axis.options.index,yAxis:o.axis.options.index},r:5}]},n.annotationsOptions,n.bindings.circleAnnotation.annotationsOptions))},steps:[function(s,i){var n,t=i.options.shapes,o=t&&t[0]&&t[0].point||{};if(Ft(o.xAxis)&&Ft(o.yAxis)){var e=this.chart.inverted,a=this.chart.xAxis[o.xAxis].toPixels(o.x),r=this.chart.yAxis[o.yAxis].toPixels(o.y);n=Math.max(Math.sqrt(Math.pow(e?r-s.chartX:a-s.chartX,2)+Math.pow(e?a-s.chartY:r-s.chartY,2)),5)}i.update({shapes:[{r:n}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(s){var i=this.chart.pointer.getCoordinates(s),t=E(i.xAxis),o=E(i.yAxis),n=this.chart.options.navigation;if(t&&o)return this.chart.addAnnotation($({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:t.axis.options.index,yAxis:o.axis.options.index,points:[{x:t.value,y:o.value},{x:t.value,y:o.value}],ry:1}]},n.annotationsOptions,n.bindings.ellipseAnnotation.annotationOptions))},steps:[function(s,i){var t=i.shapes[0],o=t.getAbsolutePosition(t.points[1]);t.translatePoint(s.chartX-o.x,s.chartY-o.y,1),t.redraw(!1)},function(s,i){var t=i.shapes[0],o=t.getAbsolutePosition(t.points[0]),n=t.getAbsolutePosition(t.points[1]),e=t.getDistanceFromLine(o,n,s.chartX,s.chartY),a=t.getYAxis(),r=Math.abs(a.toValue(0)-a.toValue(e));t.setYRadius(r),t.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(s){var i=this.chart.pointer.getCoordinates(s),t=E(i.xAxis),o=E(i.yAxis);if(t&&o){var n=t.value,e=o.value,a=t.axis.options.index,r=o.axis.options.index,l=this.chart.options.navigation;return this.chart.addAnnotation($({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:a,yAxis:r,x:n,y:e},{xAxis:a,yAxis:r,x:n,y:e},{xAxis:a,yAxis:r,x:n,y:e},{xAxis:a,yAxis:r,x:n,y:e},{command:"Z"}]}]},l.annotationsOptions,l.bindings.rectangleAnnotation.annotationsOptions))}},steps:[function(s,i){var t=i.options.shapes,o=t&&t[0]&&t[0].points||[],n=this.chart.pointer.getCoordinates(s),e=E(n.xAxis),a=E(n.yAxis);if(e&&a){var r=e.value,l=a.value;o[1].x=r,o[2].x=r,o[2].y=l,o[3].y=l,i.update({shapes:[{points:o}]})}}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(s){var i=this.chart.pointer.getCoordinates(s),t=E(i.xAxis),o=E(i.yAxis),n=this.chart.options.navigation;if(t&&o)return this.chart.addAnnotation($({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:t.axis.options.index,yAxis:o.axis.options.index,x:t.value,y:o.value},overflow:"none",crop:!0}]},n.annotationsOptions,n.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}};const No={lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:_o};var ft=St.Z.setOptions,To=Zt.Z.format,Zo=x.Z.doc,Mo=x.Z.win,Yt=ut.getFieldType,w=p.Z.addEvent,Io=p.Z.attr,I=p.Z.fireEvent,vt=p.Z.isArray,So=p.Z.isFunction,Lo=p.Z.isNumber,Xt=p.Z.isObject,jt=p.Z.merge,k=p.Z.objectEach,Rt=p.Z.pick,T=[];function Fo(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}function Yo(){this.navigationBindings&&this.navigationBindings.destroy()}function Xo(){var s=this.options;s&&s.navigation&&s.navigation.bindings&&(this.navigationBindings=new Wt(this,s.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())}function jo(){var s=this.navigationBindings,i="highcharts-disabled-btn";if(this&&s){var t=!1;if(this.series.forEach(function(n){!n.options.isInternal&&n.visible&&(t=!0)}),this.navigationBindings&&this.navigationBindings.container&&this.navigationBindings.container[0]){var o=this.navigationBindings.container[0];k(s.boundClassNames,function(n,e){var a=o.querySelectorAll("."+e);if(a)for(var r=0;r<a.length;r++){var l=a[r],h=l.className;"normal"===n.noDataState||t?-1!==h.indexOf(i)&&l.classList.remove(i):-1===h.indexOf(i)&&(l.className+=" "+i)}})}}}function Ro(){this.deselectAnnotation()}function Uo(){this.selectedButtonElement=null}function Ut(s){var i=s.prototype.defaultOptions.events&&s.prototype.defaultOptions.events.click;jt(!0,s.prototype.defaultOptions.events,{click:function t(o){var n=this,e=n.chart.navigationBindings,a=e.activeAnnotation;i&&i.call(n,o),a!==n?(e.deselectAnnotation(),e.activeAnnotation=n,n.setControlPointsVisibility(!0),I(e,"showPopup",{annotation:n,formType:"annotation-toolbar",options:e.annotationToFields(n),onSubmit:function(r){if("remove"===r.actionType)e.activeAnnotation=!1,e.chart.removeAnnotation(n);else{var l={};e.fieldsToOptions(r.fields,l),e.deselectAnnotation();var h=l.typeOptions;"measure"===n.options.type&&(h.crosshairY.enabled=0!==h.crosshairY.strokeWidth,h.crosshairX.enabled=0!==h.crosshairX.strokeWidth),n.update(l)}}})):I(e,"closePopup"),o.activeAnnotation=!0}})}var Wt=function(){function s(i,t){this.boundClassNames=void 0,this.selectedButton=void 0,this.chart=i,this.options=t,this.eventsToUnbind=[],this.container=this.chart.container.getElementsByClassName(this.options.bindingsClassName||""),this.container.length||(this.container=Zo.getElementsByClassName(this.options.bindingsClassName||""))}return s.compose=function(i,t){-1===T.indexOf(i)&&(T.push(i),w(i,"remove",Fo),Ut(i),k(i.types,function(o){Ut(o)})),-1===T.indexOf(t)&&(T.push(t),w(t,"destroy",Yo),w(t,"load",Xo),w(t,"render",jo)),-1===T.indexOf(s)&&(T.push(s),w(s,"closePopup",Ro),w(s,"deselectButton",Uo)),-1===T.indexOf(ft)&&(T.push(ft),ft(No))},s.prototype.initEvents=function(){var i=this,t=i.chart,o=i.container,n=i.options;i.boundClassNames={},k(n.bindings||{},function(e){i.boundClassNames[e.className]=e}),[].forEach.call(o,function(e){i.eventsToUnbind.push(w(e,"click",function(a){var r=i.getButtonEvents(e,a);r&&-1===r.button.className.indexOf("highcharts-disabled-btn")&&i.bindingsButtonClick(r.button,r.events,a)}))}),k(n.events||{},function(e,a){So(e)&&i.eventsToUnbind.push(w(i,a,e,{passive:!1}))}),i.eventsToUnbind.push(w(t.container,"click",function(e){!t.cancelClick&&t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop,{visiblePlotOnly:!0})&&i.bindingsChartClick(this,e)})),i.eventsToUnbind.push(w(t.container,x.Z.isTouchDevice?"touchmove":"mousemove",function(e){i.bindingsContainerMouseMove(this,e)},x.Z.isTouchDevice?{passive:!1}:void 0))},s.prototype.initUpdate=function(){var i=this;Ao.Z.compose(this.chart).navigation.addUpdate(function(t){i.update(t)})},s.prototype.bindingsButtonClick=function(i,t,o){var n=this,e=n.chart,a=e.renderer.boxWrapper,r=!0;n.selectedButtonElement&&(n.selectedButtonElement.classList===i.classList&&(r=!1),I(n,"deselectButton",{button:n.selectedButtonElement}),n.nextEvent&&(n.currentUserDetails&&"annotations"===n.currentUserDetails.coll&&e.removeAnnotation(n.currentUserDetails),n.mouseMoveEvent=n.nextEvent=!1)),r?(n.selectedButton=t,n.selectedButtonElement=i,I(n,"selectButton",{button:i}),t.init&&t.init.call(n,i,o),(t.start||t.steps)&&e.renderer.boxWrapper.addClass("highcharts-draw-mode")):(e.stockTools&&e.stockTools.toggleButtonActiveClass(i),a.removeClass("highcharts-draw-mode"),n.nextEvent=!1,n.mouseMoveEvent=!1,n.selectedButton=null)},s.prototype.bindingsChartClick=function(i,t){var o=this,n=o.activeAnnotation,e=o.selectedButton,a=this.chart.renderer.boxWrapper;n&&(n.cancelClick||t.activeAnnotation||!t.target.parentNode||function Do(s,i){var t=Mo.Element.prototype,o=t.matches||t.msMatchesSelector||t.webkitMatchesSelector,n=null;if(t.closest)n=t.closest.call(s,i);else do{if(o.call(s,i))return s;s=s.parentElement||s.parentNode}while(null!==s&&1===s.nodeType);return n}(t.target,".highcharts-popup")?n.cancelClick&&setTimeout(function(){n.cancelClick=!1},0):I(o,"closePopup")),e&&e.start&&(o.nextEvent?(o.nextEvent(t,o.currentUserDetails),o.steps&&(o.stepIndex++,e.steps[o.stepIndex]?o.mouseMoveEvent=o.nextEvent=e.steps[o.stepIndex]:(I(o,"deselectButton",{button:o.selectedButtonElement}),a.removeClass("highcharts-draw-mode"),e.end&&e.end.call(o,t,o.currentUserDetails),o.nextEvent=!1,o.mouseMoveEvent=!1,o.selectedButton=null))):(o.currentUserDetails=e.start.call(o,t),o.currentUserDetails&&e.steps?(o.stepIndex=0,o.steps=!0,o.mouseMoveEvent=o.nextEvent=e.steps[o.stepIndex]):(I(o,"deselectButton",{button:o.selectedButtonElement}),a.removeClass("highcharts-draw-mode"),o.steps=!1,o.selectedButton=null,e.end&&e.end.call(o,t,o.currentUserDetails))))},s.prototype.bindingsContainerMouseMove=function(i,t){this.mouseMoveEvent&&this.mouseMoveEvent(t,this.currentUserDetails)},s.prototype.fieldsToOptions=function(i,t){return k(i,function(o,n){var e=parseFloat(o),a=n.split("."),r=a.length-1;if(Lo(e)&&!o.match(/px/g)&&!n.match(/format/g)&&(o=e),"undefined"!==o){var l=t;a.forEach(function(h,c){var d=Rt(a[c+1],"");r===c?l[h]=o:(l[h]||(l[h]=d.match(/\d/g)?[]:{}),l=l[h])})}}),t},s.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},s.prototype.annotationToFields=function(i){var t=i.options,o=s.annotationsEditable,n=o.nestedOptions,e=Rt(t.type,t.shapes&&t.shapes[0]&&t.shapes[0].type,t.labels&&t.labels[0]&&t.labels[0].type,"label"),a=s.annotationsNonEditable[t.langKey]||[],r={langKey:t.langKey,type:e};function l(h,c,d,u,f){var v;d&&h&&-1===a.indexOf(c)&&((d.indexOf&&d.indexOf(c))>=0||d[c]||!0===d)&&(vt(h)?(u[c]=[],h.forEach(function(g,y){Xt(g)?(u[c][y]={},k(g,function(m,Z){l(m,Z,n[c],u[c][y],c)})):l(g,0,n[c],u[c],c)})):Xt(h)?(v={},vt(u)?(u.push(v),v[c]={},v=v[c]):u[c]=v,k(h,function(g,y){l(g,y,0===c?d:n[c],v,c)})):"format"===c?u[c]=[To(h,i.labels[0].points[0]).toString(),"text"]:vt(u)?u.push([h,Yt(f,h)]):u[c]=[h,Yt(c,h)])}return k(t,function(h,c){"typeOptions"===c?(r[c]={},k(t[c],function(d,u){l(d,u,n,r[c],u)})):l(h,c,o[e],r,c)}),r},s.prototype.getClickedClassNames=function(i,t){for(var e,o=t.target,n=[];o;)if((e=Io(o,"class"))&&(n=n.concat(e.split(" ").map(function(a){return[a,o]}))),(o=o.parentNode)===i)return n;return n},s.prototype.getButtonEvents=function(i,t){var e,o=this;return this.getClickedClassNames(i,t).forEach(function(a){o.boundClassNames[a[0]]&&!e&&(e={events:o.boundClassNames[a[0]],button:a[1]})}),e},s.prototype.update=function(i){this.options=jt(!0,this.options,i),this.removeEvents(),this.initEvents()},s.prototype.removeEvents=function(){this.eventsToUnbind.forEach(function(i){return i()})},s.prototype.destroy=function(){this.removeEvents()},s.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},s.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},s}();const Ht=Wt;var gt=A(9499),yt=x.Z.doc,Wo=x.Z.isFirefox,U=p.Z.createElement,Vt=p.Z.isArray,zt=p.Z.isObject,Ho=p.Z.objectEach,Vo=p.Z.pick,zo=p.Z.stableSort;function Kt(s,i,t,o,n,e){var a=this;if(i){var h,c,r=this.addInput,l=this.lang;Ho(o,function(d,u){h=""!==t?t+"."+u:u,zt(d)&&(!Vt(d)||Vt(d)&&zt(d[0])?((c=l[u]||u).match(/\d/g)||n.push([!0,c,s]),Kt.call(a,s,i,h,d,n,!1)):n.push([a,h,"annotation",s,d]))}),e&&(zo(n,function(d){return d[1].match(/format/g)?-1:1}),Wo&&n.reverse(),n.forEach(function(d){!0===d[0]?U("span",{className:"highcharts-annotation-title"},void 0,d[2]).appendChild(yt.createTextNode(d[1])):(d[4]={value:d[4][0],type:d[4][1]},r.apply(d[0],d.splice(1)))}))}}var qo={addForm:function Ko(s,i,t,o){if(s){var n=this.container,e=this.lang,a=U("h2",{className:"highcharts-popup-main-title"},void 0,n);a.appendChild(yt.createTextNode(e[i.langKey]||i.langKey||"")),a=U("div",{className:"highcharts-popup-lhs-col highcharts-popup-lhs-full"},void 0,n);var r=U("div",{className:"highcharts-popup-bottom-row"},void 0,n);Kt.call(this,a,s,"",i,[],!0),this.addButton(r,o?e.addButton||"Add":e.saveButton||"Save",o?"add":"save",n,t)}},addToolbar:function Go(s,i,t){var o=this,n=this.lang,e=this.container,a=this.showForm,r="highcharts-annotation-toolbar";-1===e.className.indexOf(r)&&(e.className+=" "+r),s&&(e.style.top=s.plotTop+10+"px"),U("span",void 0,void 0,e).appendChild(yt.createTextNode(Vo(n[i.langKey]||i.langKey,i.shapes&&i.shapes[0].type,"")));var l=this.addButton(e,n.removeButton||"Remove","remove",e,t);l.className+=" highcharts-annotation-remove-button",l.style["background-image"]="url("+this.iconsURL+"destroy.svg)",(l=this.addButton(e,n.editButton||"Edit","edit",e,function(){a.call(o,"annotation-edit",s,i,t)})).className+=" highcharts-annotation-edit-button",l.style["background-image"]="url("+this.iconsURL+"edit.svg)"}};const $o=qo;var W=x.Z.doc,Gt=_t.Z.seriesTypes,mt=p.Z.addEvent,b=p.Z.createElement,J=p.Z.defined,xt=p.Z.isArray,Qo=p.Z.isObject,qt=p.Z.objectEach,tn=p.Z.stableSort,Q=(()=>(function(s){s[s["params.algorithm"]=0]="params.algorithm",s[s["params.average"]=1]="params.average"}(Q||(Q={})),Q))(),on={"algorithm-pivotpoints":["standard","fibonacci","camarilla"],"average-disparityindex":["sma","ema","dema","tema","wma"]};function $t(s){var i=b("div",{className:"highcharts-popup-lhs-col"},void 0,s),t=b("div",{className:"highcharts-popup-rhs-col"},void 0,s);return b("div",{className:"highcharts-popup-rhs-col-wrapper"},void 0,t),{lhsCol:i,rhsCol:t}}function en(s,i,t,o){var n=i.params||i.options.params;o.innerHTML=gt.Z.emptyHTML,b("h3",{className:"highcharts-indicator-title"},void 0,o).appendChild(W.createTextNode(ii(i,t).indicatorFullName)),b("input",{type:"hidden",name:"highcharts-type-"+t,value:t},void 0,o),oi.call(this,t,"series",s,o,i,i.linkedParent&&i.linkedParent.options.id),n.volumeSeriesID&&oi.call(this,t,"volume",s,o,i,i.linkedParent&&n.volumeSeriesID),Jt.call(this,s,"params",n,t,o)}function bt(s,i,t,o){var n=this,e=n.lang,a=i.querySelectorAll(".highcharts-popup-lhs-col")[0],r=i.querySelectorAll(".highcharts-popup-rhs-col")[0],l="edit"===t,h=l?s.series:s.options.plotOptions||{};if(s||!h){var c,d=[];l||xt(h)?xt(h)&&(d=rn.call(this,h)):d=an.call(this,h,o),tn(d,function(v,g){var y=v.indicatorFullName.toLowerCase(),m=g.indicatorFullName.toLowerCase();return y<m?-1:y>m?1:0}),a.children[1]&&a.children[1].remove();var u=b("ul",{className:"highcharts-indicator-list"},void 0,a),f=r.querySelectorAll(".highcharts-popup-rhs-col-wrapper")[0];d.forEach(function(v){var g=v.indicatorFullName,y=v.indicatorType,m=v.series;(c=b("li",{className:"highcharts-indicator-list"},void 0,u)).appendChild(W.createTextNode(g)),["click","touchstart"].forEach(function(Z){mt(c,Z,function(){var _=f.parentNode.children[1];en.call(n,s,m,y,f),_&&(_.style.display="block"),l&&m.options&&b("input",{type:"hidden",name:"highcharts-id-"+y,value:m.options.id},void 0,f).setAttribute("highcharts-data-series-id",m.options.id)})})}),u.childNodes.length>0?u.childNodes[0].click():l||(gt.Z.setElementHTML(f.parentNode.children[0],e.noFilterMatch||""),f.parentNode.children[1].style.display="none")}}function Jt(s,i,t,o,n){var e=this;if(s){var a=this.addInput;qt(t,function(r,l){var d=i+"."+l;if(J(r)&&d)if(Qo(r)&&(a.call(e,d,o,n,{}),Jt.call(e,s,d,r,o,n)),d in Q){var u=Qt.call(e,o,d,n);ti.call(e,s,i,u,o,l,r)}else"params.volumeSeriesID"!==d&&!xt(r)&&a.call(e,d,o,n,{value:r,type:"number"})})}}function sn(s,i){var t=this,o=i.querySelectorAll(".highcharts-popup-lhs-col")[0],a=this.lang.clearFilter,r=b("div",{className:"highcharts-input-wrapper"},void 0,o),l=function(d){bt.call(t,s,t.container,"add",d)},h=this.addInput("searchIndicators","input",r,{value:"",type:"text",htmlFor:"search-indicators",labelClassName:"highcharts-input-search-indicators-label"}),c=b("a",{textContent:a},void 0,r);h.classList.add("highcharts-input-search-indicators"),c.classList.add("clear-filter-button"),mt(h,"input",function(d){l(this.value),c.style.display=this.value.length?"inline-block":"none"}),["click","touchstart"].forEach(function(d){mt(c,d,function(){h.value="",l(""),c.style.display="none"})})}function Qt(s,i,t){var o=i.split("."),n=o[o.length-1],e="highcharts-"+i+"-type-"+s,a=this.lang;b("label",{htmlFor:e},null,t).appendChild(W.createTextNode(a[n]||i));var r=b("select",{name:e,className:"highcharts-popup-field",id:"highcharts-select-"+i},null,t);return r.setAttribute("id","highcharts-select-"+i),r}function ti(s,i,t,o,n,e,a){"series"===i||"volume"===i?s.series.forEach(function(h){var c=h.options,d=c.name||c.params?h.name:c.id||"";"highcharts-navigator-series"!==c.id&&c.id!==(a&&a.options&&a.options.id)&&(!J(e)&&"volume"===i&&"column"===h.type&&(e=c.id),b("option",{value:c.id},void 0,t).appendChild(W.createTextNode(d)))}):o&&n&&on[n+"-"+o].forEach(function(h){b("option",{value:h},void 0,t).appendChild(W.createTextNode(h))}),J(e)&&(t.value=e)}function an(s,i){var n=this.chart&&this.chart.options.lang,e=n&&n.navigation&&n.navigation.popup&&n.navigation.popup.indicatorAliases,a=[];return qt(s,function(l,h){var c=l&&l.options;if(l.params||c&&c.params){var d=ii(l,h),u=d.indicatorFullName,f=d.indicatorType;if(i){var v=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),g=new RegExp(v,"i"),y=e&&e[f]&&e[f].join(" ")||"";(u.match(g)||y.match(g))&&a.push({indicatorFullName:u,indicatorType:f,series:l})}else a.push({indicatorFullName:u,indicatorType:f,series:l})}}),a}function rn(s){var i=[];return s.forEach(function(t){t.is("sma")&&i.push({indicatorFullName:t.name,indicatorType:t.type,series:t})}),i}function ii(s,i){var t=s.options,o=Gt[i]&&Gt[i].prototype.nameBase||i.toUpperCase(),n=i;return t&&t.type&&(n=s.options.type,o=s.name),{indicatorFullName:o,indicatorType:n}}function oi(s,i,t,o,n,e){if(t){var l=Qt.call(this,s,i,o);ti.call(this,t,i,l,void 0,void 0,void 0,n),J(e)&&(l.value=e)}}var hn={addForm:function nn(s,i,t){var n,o=this.lang;if(s){this.tabs.init.call(this,s);var e=this.container.querySelectorAll(".highcharts-tab-item-content");$t(e[0]),sn.call(this,s,e[0]),bt.call(this,s,e[0],"add"),n=e[0].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(n,o.addButton||"add","add",n,t),$t(e[1]),bt.call(this,s,e[1],"edit"),n=e[1].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(n,o.saveButton||"save","edit",n,t),this.addButton(n,o.removeButton||"remove","remove",n,t)}},getAmount:function ln(){var s=0;return this.series.forEach(function(i){(i.params||i.options.params)&&s++}),s}};const cn=hn;var pn=x.Z.doc,dn=p.Z.addEvent,ni=p.Z.createElement;function ei(){return ni("div",{className:"highcharts-tab-item-content highcharts-no-mousewheel"},void 0,this.container)}function si(s,i){var o=this.lang,n="highcharts-tab-item";0===i&&(n+=" highcharts-tab-disabled");var e=ni("span",{className:n},void 0,this.container);return e.appendChild(pn.createTextNode(o[s+"Button"]||s)),e.setAttribute("highcharts-data-tab-type",s),e}function un(){for(var s=this.container,i=s.querySelectorAll(".highcharts-tab-item"),t=s.querySelectorAll(".highcharts-tab-item-content"),o=0;o<i.length;o++)i[o].classList.remove("highcharts-tab-item-active"),t[o].classList.remove("highcharts-tab-item-show")}function ai(s,i){var t=this.container.querySelectorAll(".highcharts-tab-item-content");s.className+=" highcharts-tab-item-active",t[i].className+=" highcharts-tab-item-show"}function vn(s){var i=this;this.container.querySelectorAll(".highcharts-tab-item").forEach(function(n,e){0===s&&"edit"===n.getAttribute("highcharts-data-tab-type")||["click","touchstart"].forEach(function(a){dn(n,a,function(){un.call(i),ai.call(i,this,e)})})})}var gn={init:function fn(s){if(s){var i=this.indicators.getAmount.call(s),t=si.call(this,"add");si.call(this,"edit",i),ei.call(this),ei.call(this),vn.call(this,i),ai.call(this,t,0)}}};const yn=gn;var mn=St.Z.getOptions,ri=x.Z.doc,tt=p.Z.addEvent,H=p.Z.createElement,xn=p.Z.extend,li=p.Z.fireEvent,bn=p.Z.pick,hi=function(){function s(i,t,o){this.chart=o,this.iconsURL=t,this.lang=mn().lang.navigation.popup,this.container=H("div",{className:"highcharts-popup highcharts-no-tooltip"},void 0,i),tt(this.container,"mousedown",function(){var n=o&&o.navigationBindings&&o.navigationBindings.activeAnnotation;if(n){n.cancelClick=!0;var e=tt(x.Z.doc,"click",function(){setTimeout(function(){n.cancelClick=!1},0),e()})}}),this.addCloseBtn()}return s.prototype.init=function(i,t,o){s.call(this,i,t,o)},s.prototype.addCloseBtn=function(){var i=this,t=this.iconsURL,o=H("div",{className:"highcharts-popup-close"},void 0,this.container);o.style["background-image"]="url("+(t.match(/png|svg|jpeg|jpg|gif/gi)?t:t+"close.svg")+")",["click","touchstart"].forEach(function(n){tt(o,n,function(){if(i.chart){var e=i.chart.navigationBindings;li(e,"closePopup"),e&&e.selectedButtonElement&&li(e,"deselectButton",{button:e.selectedButtonElement})}else i.closePopup()})})},s.prototype.addInput=function(i,t,o,n){var e=i.split("."),a=e[e.length-1],r=this.lang,l="highcharts-"+t+"-"+bn(n.htmlFor,a);a.match(/^\d+$/)||H("label",{htmlFor:l,className:n.labelClassName},void 0,o).appendChild(ri.createTextNode(r[a]||a));var h=H("input",{name:l,value:n.value,type:n.type,className:"highcharts-popup-field"},void 0,o);return h.setAttribute("highcharts-data-name",i),h},s.prototype.addButton=function(i,t,o,n,e){var a=this,r=H("button",void 0,void 0,i);return r.appendChild(ri.createTextNode(t)),e&&["click","touchstart"].forEach(function(l){tt(r,l,function(){return a.closePopup(),e(function An(s,i){var t=Array.prototype.slice.call(s.querySelectorAll("input")),o=Array.prototype.slice.call(s.querySelectorAll("select")),a=s.querySelectorAll("#highcharts-select-series > option:checked")[0],r=s.querySelectorAll("#highcharts-select-volume > option:checked")[0],l={actionType:i,linkedTo:a&&a.getAttribute("value")||"",fields:{}};return t.forEach(function(h){var c=h.getAttribute("highcharts-data-name");h.getAttribute("highcharts-data-series-id")?l.seriesId=h.value:c?l.fields[c]=h.value:l.type=h.value}),o.forEach(function(h){var c=h.id;if("highcharts-select-series"!==c&&"highcharts-select-volume"!==c){var d=c.split("highcharts-select-")[1];l.fields[d]=h.value}}),r&&(l.fields["params.volumeSeriesID"]=r.getAttribute("value")||""),l}(n,o))})}),r},s.prototype.showPopup=function(){var i=this.container,t="highcharts-annotation-toolbar",o=i.querySelectorAll(".highcharts-popup-close")[0];this.formType=void 0,i.innerHTML=gt.Z.emptyHTML,i.className.indexOf(t)>=0&&(i.classList.remove(t),i.removeAttribute("style")),i.appendChild(o),i.style.display="block",i.style.height=""},s.prototype.closePopup=function(){this.container.style.display="none"},s.prototype.showForm=function(i,t,o,n){!t||(this.showPopup(),"indicators"===i&&this.indicators.addForm.call(this,t,o,n),"annotation-toolbar"===i&&this.annotations.addToolbar.call(this,t,o,n),"annotation-edit"===i&&this.annotations.addForm.call(this,t,o,n),"flag"===i&&this.annotations.addForm.call(this,t,o,n,!0),this.formType=i,this.container.style.height=this.container.offsetHeight+"px")},s}();xn(hi.prototype,{annotations:$o,indicators:cn,tabs:yn});const Pn=hi;var ci=p.Z.addEvent,Cn=p.Z.wrap,it=[];function wn(){this.popup&&this.popup.closePopup()}function On(s){this.popup||(this.popup=new Pn(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/10.3.3/gfx/stock-icons/",this.chart)),this.popup.showForm(s.formType,this.chart,s.options,s.onSubmit)}function kn(s,i){this.inClass(i.target,"highcharts-popup")||s.apply(this,Array.prototype.slice.call(arguments,1))}var _n={compose:function En(s,i){-1===it.indexOf(s)&&(it.push(s),ci(s,"closePopup",wn),ci(s,"showPopup",On)),-1===it.indexOf(i)&&(it.push(i),Cn(i.prototype,"onContainerMouseDown",kn))}};const Bn=_n;var Nn=function(){var s=function(i,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(o[e]=n[e])})(i,t)};return function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=i}s(i,t),i.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Tn=F.Z.getDeferredAnimation,ot=N.prototype,Zn=p.Z.destroyObjectProperties,pi=p.Z.erase,di=p.Z.fireEvent,O=p.Z.merge,At=p.Z.pick,Mn=p.Z.splat;function ui(s,i){var t={};return["labels","shapes"].forEach(function(o){var n=s[o];n&&(t[o]=i[o]?Mn(i[o]).map(function(e,a){return O(n[a],e)}):s[o])}),t}var Pt=function(s){function i(t,o){var n=s.call(this)||this;n.annotation=void 0,n.coll="annotations",n.collection=void 0,n.animationConfig=void 0,n.graphic=void 0,n.group=void 0,n.labelCollector=void 0,n.labelsGroup=void 0,n.shapesGroup=void 0,n.chart=t,n.points=[],n.controlPoints=[],n.coll="annotations",n.labels=[],n.shapes=[],n.options=O(n.defaultOptions,o),n.userOptions=o;var e=ui(n.options,o);return n.options.labels=e.labels,n.options.shapes=e.shapes,n.init(t,n.options),n}return Nn(i,s),i.compose=function(t,o,n){Ai.compose(i,t,o),dt.compose(n),R.compose(t,n),Ht.compose(i,t),Bn.compose(Ht,o)},i.prototype.addClipPaths=function(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&this.options.crop&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))},i.prototype.addLabels=function(){var t=this,o=this.options.labels||[];o.forEach(function(n,e){var a=t.initLabel(n,e);O(!0,o[e],a.options)})},i.prototype.addShapes=function(){var t=this,o=this.options.shapes||[];o.forEach(function(n,e){var a=t.initShape(n,e);O(!0,o[e],a.options)})},i.prototype.destroy=function(){var t=this.chart,o=function(n){n.destroy()};this.labels.forEach(o),this.shapes.forEach(o),this.clipXAxis=null,this.clipYAxis=null,pi(t.labelCollectors,this.labelCollector),s.prototype.destroy.call(this),ot.destroy.call(this),Zn(this,t)},i.prototype.destroyItem=function(t){pi(this[t.itemType+"s"],t),t.destroy()},i.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}},i.prototype.init=function(t,o,n){var e=this.chart,a=this.options.animation;this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=Tn(e,a)},i.prototype.initLabel=function(t,o){var n=O(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},t),e=new dt(this,n,o);return e.itemType="label",this.labels.push(e),e},i.prototype.initShape=function(t,o){var n=O(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},t),e=new i.shapesMap[n.type](this,n,o);return e.itemType="shape",this.shapes.push(e),e},i.prototype.redraw=function(t){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),ot.redraw.call(this,t)},i.prototype.redrawItem=function(t,o){t.linkPoints(),t.shouldBeDrawn()?(t.graphic||this.renderItem(t),t.redraw(At(o,!0)&&t.graphic.placed),t.points.length&&function In(s){var i=s.graphic,t=s.points.some(function(o){return!1!==o.series.visible&&!1!==o.visible});i&&(t?"hidden"===i.visibility&&i.show():i.hide())}(t)):this.destroyItem(t)},i.prototype.redrawItems=function(t,o){for(var n=t.length;n--;)this.redrawItem(t[n],o)},i.prototype.remove=function(){return this.chart.removeAnnotation(this)},i.prototype.render=function(){var t=this.chart.renderer;this.graphic=t.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"inherit":"hidden"}).add(),this.shapesGroup=t.g("annotation-shapes").add(this.graphic),this.options.crop&&this.shapesGroup.clip(this.chart.plotBoxClip),this.labelsGroup=t.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),ot.render.call(this)},i.prototype.renderItem=function(t){t.render("label"===t.itemType?this.labelsGroup:this.shapesGroup)},i.prototype.renderItems=function(t){for(var o=t.length;o--;)this.renderItem(t[o])},i.prototype.setClipAxes=function(){var t=this.chart.xAxis,o=this.chart.yAxis,n=(this.options.labels||[]).concat(this.options.shapes||[]).reduce(function(e,a){var r=a&&(a.point||a.points&&a.points[0]);return[t[r&&r.xAxis]||e[0],o[r&&r.yAxis]||e[1]]},[]);this.clipXAxis=n[0],this.clipYAxis=n[1]},i.prototype.setControlPointsVisibility=function(t){var o=function(n){n.setControlPointsVisibility(t)};ot.setControlPointsVisibility.call(this,t),this.shapes.forEach(o),this.labels.forEach(o)},i.prototype.setLabelCollector=function(){var t=this;t.labelCollector=function(){return t.labels.reduce(function(o,n){return n.options.allowOverlap||o.push(n.graphic),o},[])},t.chart.labelCollectors.push(t.labelCollector)},i.prototype.setOptions=function(t){this.options=O(this.defaultOptions,t)},i.prototype.setVisibility=function(t){var o=this.options,n=this.chart.navigationBindings,e=At(t,!o.visible);this.graphic.attr("visibility",e?"inherit":"hidden"),e||(this.setControlPointsVisibility(!1),n.activeAnnotation===this&&n.popup&&"annotation-toolbar"===n.popup.formType&&di(n,"closePopup")),o.visible=e},i.prototype.update=function(t,o){var n=this.chart,e=ui(this.userOptions,t),a=n.annotations.indexOf(this),r=O(!0,this.userOptions,t);r.labels=e.labels,r.shapes=e.shapes,this.destroy(),this.constructor(n,r),n.options.annotations[a]=r,this.isUpdating=!0,At(o,!0)&&n.redraw(),di(this,"afterUpdate"),this.isUpdating=!1},i.ControlPoint=kt,i.MockPoint=j,i.shapesMap={rect:oo,circle:ao,ellipse:co,path:R,image:bo},i.types={},i}(Ot);O(!0,Pt.prototype,N.prototype,O(Pt.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:Ei}));const fi=Pt;var nt=x.Z;nt.Annotation=fi,fi.compose(nt.Chart,nt.Pointer,nt.SVGRenderer)}}]);
//# sourceMappingURL=683.e5e7ca76eccc5287.js.map